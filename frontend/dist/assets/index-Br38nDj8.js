(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(a){if(a.ep)return;a.ep=!0;const i=n(a);fetch(a.href,i)}})();var Ht=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ec(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var tc={exports:{}},ve={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ma=Symbol.for("react.element"),jd=Symbol.for("react.portal"),Vd=Symbol.for("react.fragment"),Yd=Symbol.for("react.strict_mode"),Kd=Symbol.for("react.profiler"),Xd=Symbol.for("react.provider"),Zd=Symbol.for("react.context"),Qd=Symbol.for("react.forward_ref"),Gd=Symbol.for("react.suspense"),Jd=Symbol.for("react.memo"),qd=Symbol.for("react.lazy"),Ts=Symbol.iterator;function eh(e){return e===null||typeof e!="object"?null:(e=Ts&&e[Ts]||e["@@iterator"],typeof e=="function"?e:null)}var nc={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},rc=Object.assign,ac={};function Er(e,t,n){this.props=e,this.context=t,this.refs=ac,this.updater=n||nc}Er.prototype.isReactComponent={};Er.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Er.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function ic(){}ic.prototype=Er.prototype;function Ll(e,t,n){this.props=e,this.context=t,this.refs=ac,this.updater=n||nc}var Al=Ll.prototype=new ic;Al.constructor=Ll;rc(Al,Er.prototype);Al.isPureReactComponent=!0;var Fs=Array.isArray,oc=Object.prototype.hasOwnProperty,Tl={current:null},lc={key:!0,ref:!0,__self:!0,__source:!0};function sc(e,t,n){var r,a={},i=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)oc.call(t,r)&&!lc.hasOwnProperty(r)&&(a[r]=t[r]);var l=arguments.length-2;if(l===1)a.children=n;else if(1<l){for(var s=Array(l),c=0;c<l;c++)s[c]=arguments[c+2];a.children=s}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)a[r]===void 0&&(a[r]=l[r]);return{$$typeof:ma,type:e,key:i,ref:o,props:a,_owner:Tl.current}}function th(e,t){return{$$typeof:ma,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Fl(e){return typeof e=="object"&&e!==null&&e.$$typeof===ma}function nh(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Ds=/\/+/g;function to(e,t){return typeof e=="object"&&e!==null&&e.key!=null?nh(""+e.key):t.toString(36)}function Va(e,t,n,r,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case ma:case jd:o=!0}}if(o)return o=e,a=a(o),e=r===""?"."+to(o,0):r,Fs(a)?(n="",e!=null&&(n=e.replace(Ds,"$&/")+"/"),Va(a,t,n,"",function(c){return c})):a!=null&&(Fl(a)&&(a=th(a,n+(!a.key||o&&o.key===a.key?"":(""+a.key).replace(Ds,"$&/")+"/")+e)),t.push(a)),1;if(o=0,r=r===""?".":r+":",Fs(e))for(var l=0;l<e.length;l++){i=e[l];var s=r+to(i,l);o+=Va(i,t,n,s,a)}else if(s=eh(e),typeof s=="function")for(e=s.call(e),l=0;!(i=e.next()).done;)i=i.value,s=r+to(i,l++),o+=Va(i,t,n,s,a);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Sa(e,t,n){if(e==null)return e;var r=[],a=0;return Va(e,r,"","",function(i){return t.call(n,i,a++)}),r}function rh(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var nt={current:null},Ya={transition:null},ah={ReactCurrentDispatcher:nt,ReactCurrentBatchConfig:Ya,ReactCurrentOwner:Tl};function uc(){throw Error("act(...) is not supported in production builds of React.")}ve.Children={map:Sa,forEach:function(e,t,n){Sa(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Sa(e,function(){t++}),t},toArray:function(e){return Sa(e,function(t){return t})||[]},only:function(e){if(!Fl(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ve.Component=Er;ve.Fragment=Vd;ve.Profiler=Kd;ve.PureComponent=Ll;ve.StrictMode=Yd;ve.Suspense=Gd;ve.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ah;ve.act=uc;ve.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=rc({},e.props),a=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=Tl.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(s in t)oc.call(t,s)&&!lc.hasOwnProperty(s)&&(r[s]=t[s]===void 0&&l!==void 0?l[s]:t[s])}var s=arguments.length-2;if(s===1)r.children=n;else if(1<s){l=Array(s);for(var c=0;c<s;c++)l[c]=arguments[c+2];r.children=l}return{$$typeof:ma,type:e.type,key:a,ref:i,props:r,_owner:o}};ve.createContext=function(e){return e={$$typeof:Zd,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Xd,_context:e},e.Consumer=e};ve.createElement=sc;ve.createFactory=function(e){var t=sc.bind(null,e);return t.type=e,t};ve.createRef=function(){return{current:null}};ve.forwardRef=function(e){return{$$typeof:Qd,render:e}};ve.isValidElement=Fl;ve.lazy=function(e){return{$$typeof:qd,_payload:{_status:-1,_result:e},_init:rh}};ve.memo=function(e,t){return{$$typeof:Jd,type:e,compare:t===void 0?null:t}};ve.startTransition=function(e){var t=Ya.transition;Ya.transition={};try{e()}finally{Ya.transition=t}};ve.unstable_act=uc;ve.useCallback=function(e,t){return nt.current.useCallback(e,t)};ve.useContext=function(e){return nt.current.useContext(e)};ve.useDebugValue=function(){};ve.useDeferredValue=function(e){return nt.current.useDeferredValue(e)};ve.useEffect=function(e,t){return nt.current.useEffect(e,t)};ve.useId=function(){return nt.current.useId()};ve.useImperativeHandle=function(e,t,n){return nt.current.useImperativeHandle(e,t,n)};ve.useInsertionEffect=function(e,t){return nt.current.useInsertionEffect(e,t)};ve.useLayoutEffect=function(e,t){return nt.current.useLayoutEffect(e,t)};ve.useMemo=function(e,t){return nt.current.useMemo(e,t)};ve.useReducer=function(e,t,n){return nt.current.useReducer(e,t,n)};ve.useRef=function(e){return nt.current.useRef(e)};ve.useState=function(e){return nt.current.useState(e)};ve.useSyncExternalStore=function(e,t,n){return nt.current.useSyncExternalStore(e,t,n)};ve.useTransition=function(){return nt.current.useTransition()};ve.version="18.3.1";tc.exports=ve;var L=tc.exports;const u=ec(L);var Fo={},cc={exports:{}},gt={},fc={exports:{}},dc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(B,I){var H=B.length;B.push(I);e:for(;0<H;){var T=H-1>>>1,M=B[T];if(0<a(M,I))B[T]=I,B[H]=M,H=T;else break e}}function n(B){return B.length===0?null:B[0]}function r(B){if(B.length===0)return null;var I=B[0],H=B.pop();if(H!==I){B[0]=H;e:for(var T=0,M=B.length,ne=M>>>1;T<ne;){var J=2*(T+1)-1,Z=B[J],pe=J+1,ue=B[pe];if(0>a(Z,H))pe<M&&0>a(ue,Z)?(B[T]=ue,B[pe]=H,T=pe):(B[T]=Z,B[J]=H,T=J);else if(pe<M&&0>a(ue,H))B[T]=ue,B[pe]=H,T=pe;else break e}}return I}function a(B,I){var H=B.sortIndex-I.sortIndex;return H!==0?H:B.id-I.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var s=[],c=[],p=1,d=null,g=3,m=!1,x=!1,v=!1,E=typeof setTimeout=="function"?setTimeout:null,f=typeof clearTimeout=="function"?clearTimeout:null,h=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(B){for(var I=n(c);I!==null;){if(I.callback===null)r(c);else if(I.startTime<=B)r(c),I.sortIndex=I.expirationTime,t(s,I);else break;I=n(c)}}function S(B){if(v=!1,w(B),!x)if(n(s)!==null)x=!0,j(_);else{var I=n(c);I!==null&&O(S,I.startTime-B)}}function _(B,I){x=!1,v&&(v=!1,f(W),W=-1),m=!0;var H=g;try{for(w(I),d=n(s);d!==null&&(!(d.expirationTime>I)||B&&!K());){var T=d.callback;if(typeof T=="function"){d.callback=null,g=d.priorityLevel;var M=T(d.expirationTime<=I);I=e.unstable_now(),typeof M=="function"?d.callback=M:d===n(s)&&r(s),w(I)}else r(s);d=n(s)}if(d!==null)var ne=!0;else{var J=n(c);J!==null&&O(S,J.startTime-I),ne=!1}return ne}finally{d=null,g=H,m=!1}}var A=!1,F=null,W=-1,D=5,b=-1;function K(){return!(e.unstable_now()-b<D)}function C(){if(F!==null){var B=e.unstable_now();b=B;var I=!0;try{I=F(!0,B)}finally{I?$():(A=!1,F=null)}}else A=!1}var $;if(typeof h=="function")$=function(){h(C)};else if(typeof MessageChannel<"u"){var k=new MessageChannel,P=k.port2;k.port1.onmessage=C,$=function(){P.postMessage(null)}}else $=function(){E(C,0)};function j(B){F=B,A||(A=!0,$())}function O(B,I){W=E(function(){B(e.unstable_now())},I)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(B){B.callback=null},e.unstable_continueExecution=function(){x||m||(x=!0,j(_))},e.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<B?Math.floor(1e3/B):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_getFirstCallbackNode=function(){return n(s)},e.unstable_next=function(B){switch(g){case 1:case 2:case 3:var I=3;break;default:I=g}var H=g;g=I;try{return B()}finally{g=H}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(B,I){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var H=g;g=B;try{return I()}finally{g=H}},e.unstable_scheduleCallback=function(B,I,H){var T=e.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?T+H:T):H=T,B){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=H+M,B={id:p++,callback:I,priorityLevel:B,startTime:H,expirationTime:M,sortIndex:-1},H>T?(B.sortIndex=H,t(c,B),n(s)===null&&B===n(c)&&(v?(f(W),W=-1):v=!0,O(S,H-T))):(B.sortIndex=M,t(s,B),x||m||(x=!0,j(_))),B},e.unstable_shouldYield=K,e.unstable_wrapCallback=function(B){var I=g;return function(){var H=g;g=I;try{return B.apply(this,arguments)}finally{g=H}}}})(dc);fc.exports=dc;var ih=fc.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oh=L,mt=ih;function q(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var hc=new Set,Gr={};function Un(e,t){dr(e,t),dr(e+"Capture",t)}function dr(e,t){for(Gr[e]=t,e=0;e<t.length;e++)hc.add(t[e])}var Xt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Do=Object.prototype.hasOwnProperty,lh=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ms={},Bs={};function sh(e){return Do.call(Bs,e)?!0:Do.call(Ms,e)?!1:lh.test(e)?Bs[e]=!0:(Ms[e]=!0,!1)}function uh(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function ch(e,t,n,r){if(t===null||typeof t>"u"||uh(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function rt(e,t,n,r,a,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var Ze={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ze[e]=new rt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ze[t]=new rt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ze[e]=new rt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ze[e]=new rt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ze[e]=new rt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ze[e]=new rt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ze[e]=new rt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ze[e]=new rt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ze[e]=new rt(e,5,!1,e.toLowerCase(),null,!1,!1)});var Dl=/[\-:]([a-z])/g;function Ml(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Dl,Ml);Ze[t]=new rt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Dl,Ml);Ze[t]=new rt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Dl,Ml);Ze[t]=new rt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ze[e]=new rt(e,1,!1,e.toLowerCase(),null,!1,!1)});Ze.xlinkHref=new rt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ze[e]=new rt(e,1,!1,e.toLowerCase(),null,!0,!0)});function Bl(e,t,n,r){var a=Ze.hasOwnProperty(t)?Ze[t]:null;(a!==null?a.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(ch(t,n,a,r)&&(n=null),r||a===null?sh(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):a.mustUseProperty?e[a.propertyName]=n===null?a.type===3?!1:"":n:(t=a.attributeName,r=a.attributeNamespace,n===null?e.removeAttribute(t):(a=a.type,n=a===3||a===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var qt=oh.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ba=Symbol.for("react.element"),Kn=Symbol.for("react.portal"),Xn=Symbol.for("react.fragment"),Wl=Symbol.for("react.strict_mode"),Mo=Symbol.for("react.profiler"),pc=Symbol.for("react.provider"),mc=Symbol.for("react.context"),$l=Symbol.for("react.forward_ref"),Bo=Symbol.for("react.suspense"),Wo=Symbol.for("react.suspense_list"),Ol=Symbol.for("react.memo"),on=Symbol.for("react.lazy"),gc=Symbol.for("react.offscreen"),Ws=Symbol.iterator;function Rr(e){return e===null||typeof e!="object"?null:(e=Ws&&e[Ws]||e["@@iterator"],typeof e=="function"?e:null)}var Fe=Object.assign,no;function Br(e){if(no===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);no=t&&t[1]||""}return`
`+no+e}var ro=!1;function ao(e,t){if(!e||ro)return"";ro=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var a=c.stack.split(`
`),i=r.stack.split(`
`),o=a.length-1,l=i.length-1;1<=o&&0<=l&&a[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(a[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||a[o]!==i[l]){var s=`
`+a[o].replace(" at new "," at ");return e.displayName&&s.includes("<anonymous>")&&(s=s.replace("<anonymous>",e.displayName)),s}while(1<=o&&0<=l);break}}}finally{ro=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Br(e):""}function fh(e){switch(e.tag){case 5:return Br(e.type);case 16:return Br("Lazy");case 13:return Br("Suspense");case 19:return Br("SuspenseList");case 0:case 2:case 15:return e=ao(e.type,!1),e;case 11:return e=ao(e.type.render,!1),e;case 1:return e=ao(e.type,!0),e;default:return""}}function $o(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Xn:return"Fragment";case Kn:return"Portal";case Mo:return"Profiler";case Wl:return"StrictMode";case Bo:return"Suspense";case Wo:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case mc:return(e.displayName||"Context")+".Consumer";case pc:return(e._context.displayName||"Context")+".Provider";case $l:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ol:return t=e.displayName||null,t!==null?t:$o(e.type)||"Memo";case on:t=e._payload,e=e._init;try{return $o(e(t))}catch{}}return null}function dh(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return $o(t);case 8:return t===Wl?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function xn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function yc(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function hh(e){var t=yc(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var a=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ca(e){e._valueTracker||(e._valueTracker=hh(e))}function vc(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=yc(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function oi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Oo(e,t){var n=t.checked;return Fe({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function $s(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=xn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function wc(e,t){t=t.checked,t!=null&&Bl(e,"checked",t,!1)}function Uo(e,t){wc(e,t);var n=xn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Ho(e,t.type,n):t.hasOwnProperty("defaultValue")&&Ho(e,t.type,xn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Os(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Ho(e,t,n){(t!=="number"||oi(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Wr=Array.isArray;function ir(e,t,n,r){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&r&&(e[n].defaultSelected=!0)}else{for(n=""+xn(n),t=null,a=0;a<e.length;a++){if(e[a].value===n){e[a].selected=!0,r&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function jo(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(q(91));return Fe({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Us(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(q(92));if(Wr(n)){if(1<n.length)throw Error(q(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:xn(n)}}function xc(e,t){var n=xn(t.value),r=xn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Hs(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function kc(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Vo(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?kc(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Na,Ec=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,a){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Na=Na||document.createElement("div"),Na.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Na.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Jr(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Ur={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ph=["Webkit","ms","Moz","O"];Object.keys(Ur).forEach(function(e){ph.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ur[t]=Ur[e]})});function _c(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Ur.hasOwnProperty(e)&&Ur[e]?(""+t).trim():t+"px"}function Sc(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,a=_c(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,a):e[n]=a}}var mh=Fe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Yo(e,t){if(t){if(mh[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(q(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(q(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(q(61))}if(t.style!=null&&typeof t.style!="object")throw Error(q(62))}}function Ko(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Xo=null;function Ul(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Zo=null,or=null,lr=null;function js(e){if(e=va(e)){if(typeof Zo!="function")throw Error(q(280));var t=e.stateNode;t&&(t=Bi(t),Zo(e.stateNode,e.type,t))}}function bc(e){or?lr?lr.push(e):lr=[e]:or=e}function Cc(){if(or){var e=or,t=lr;if(lr=or=null,js(e),t)for(e=0;e<t.length;e++)js(t[e])}}function Nc(e,t){return e(t)}function Rc(){}var io=!1;function zc(e,t,n){if(io)return e(t,n);io=!0;try{return Nc(e,t,n)}finally{io=!1,(or!==null||lr!==null)&&(Rc(),Cc())}}function qr(e,t){var n=e.stateNode;if(n===null)return null;var r=Bi(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(q(231,t,typeof n));return n}var Qo=!1;if(Xt)try{var zr={};Object.defineProperty(zr,"passive",{get:function(){Qo=!0}}),window.addEventListener("test",zr,zr),window.removeEventListener("test",zr,zr)}catch{Qo=!1}function gh(e,t,n,r,a,i,o,l,s){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(p){this.onError(p)}}var Hr=!1,li=null,si=!1,Go=null,yh={onError:function(e){Hr=!0,li=e}};function vh(e,t,n,r,a,i,o,l,s){Hr=!1,li=null,gh.apply(yh,arguments)}function wh(e,t,n,r,a,i,o,l,s){if(vh.apply(this,arguments),Hr){if(Hr){var c=li;Hr=!1,li=null}else throw Error(q(198));si||(si=!0,Go=c)}}function Hn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Ic(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Vs(e){if(Hn(e)!==e)throw Error(q(188))}function xh(e){var t=e.alternate;if(!t){if(t=Hn(e),t===null)throw Error(q(188));return t!==e?null:e}for(var n=e,r=t;;){var a=n.return;if(a===null)break;var i=a.alternate;if(i===null){if(r=a.return,r!==null){n=r;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===n)return Vs(a),e;if(i===r)return Vs(a),t;i=i.sibling}throw Error(q(188))}if(n.return!==r.return)n=a,r=i;else{for(var o=!1,l=a.child;l;){if(l===n){o=!0,n=a,r=i;break}if(l===r){o=!0,r=a,n=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===n){o=!0,n=i,r=a;break}if(l===r){o=!0,r=i,n=a;break}l=l.sibling}if(!o)throw Error(q(189))}}if(n.alternate!==r)throw Error(q(190))}if(n.tag!==3)throw Error(q(188));return n.stateNode.current===n?e:t}function Pc(e){return e=xh(e),e!==null?Lc(e):null}function Lc(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Lc(e);if(t!==null)return t;e=e.sibling}return null}var Ac=mt.unstable_scheduleCallback,Ys=mt.unstable_cancelCallback,kh=mt.unstable_shouldYield,Eh=mt.unstable_requestPaint,Me=mt.unstable_now,_h=mt.unstable_getCurrentPriorityLevel,Hl=mt.unstable_ImmediatePriority,Tc=mt.unstable_UserBlockingPriority,ui=mt.unstable_NormalPriority,Sh=mt.unstable_LowPriority,Fc=mt.unstable_IdlePriority,Ti=null,Bt=null;function bh(e){if(Bt&&typeof Bt.onCommitFiberRoot=="function")try{Bt.onCommitFiberRoot(Ti,e,void 0,(e.current.flags&128)===128)}catch{}}var Pt=Math.clz32?Math.clz32:Rh,Ch=Math.log,Nh=Math.LN2;function Rh(e){return e>>>=0,e===0?32:31-(Ch(e)/Nh|0)|0}var Ra=64,za=4194304;function $r(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ci(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,a=e.suspendedLanes,i=e.pingedLanes,o=n&268435455;if(o!==0){var l=o&~a;l!==0?r=$r(l):(i&=o,i!==0&&(r=$r(i)))}else o=n&~a,o!==0?r=$r(o):i!==0&&(r=$r(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&a)&&(a=r&-r,i=t&-t,a>=i||a===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Pt(t),a=1<<n,r|=e[n],t&=~a;return r}function zh(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ih(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-Pt(i),l=1<<o,s=a[o];s===-1?(!(l&n)||l&r)&&(a[o]=zh(l,t)):s<=t&&(e.expiredLanes|=l),i&=~l}}function Jo(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Dc(){var e=Ra;return Ra<<=1,!(Ra&4194240)&&(Ra=64),e}function oo(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function ga(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Pt(t),e[t]=n}function Ph(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var a=31-Pt(n),i=1<<a;t[a]=0,r[a]=-1,e[a]=-1,n&=~i}}function jl(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Pt(n),a=1<<r;a&t|e[r]&t&&(e[r]|=t),n&=~a}}var Se=0;function Mc(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Bc,Vl,Wc,$c,Oc,qo=!1,Ia=[],dn=null,hn=null,pn=null,ea=new Map,ta=new Map,sn=[],Lh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ks(e,t){switch(e){case"focusin":case"focusout":dn=null;break;case"dragenter":case"dragleave":hn=null;break;case"mouseover":case"mouseout":pn=null;break;case"pointerover":case"pointerout":ea.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ta.delete(t.pointerId)}}function Ir(e,t,n,r,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[a]},t!==null&&(t=va(t),t!==null&&Vl(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function Ah(e,t,n,r,a){switch(t){case"focusin":return dn=Ir(dn,e,t,n,r,a),!0;case"dragenter":return hn=Ir(hn,e,t,n,r,a),!0;case"mouseover":return pn=Ir(pn,e,t,n,r,a),!0;case"pointerover":var i=a.pointerId;return ea.set(i,Ir(ea.get(i)||null,e,t,n,r,a)),!0;case"gotpointercapture":return i=a.pointerId,ta.set(i,Ir(ta.get(i)||null,e,t,n,r,a)),!0}return!1}function Uc(e){var t=In(e.target);if(t!==null){var n=Hn(t);if(n!==null){if(t=n.tag,t===13){if(t=Ic(n),t!==null){e.blockedOn=t,Oc(e.priority,function(){Wc(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ka(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=el(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Xo=r,n.target.dispatchEvent(r),Xo=null}else return t=va(n),t!==null&&Vl(t),e.blockedOn=n,!1;t.shift()}return!0}function Xs(e,t,n){Ka(e)&&n.delete(t)}function Th(){qo=!1,dn!==null&&Ka(dn)&&(dn=null),hn!==null&&Ka(hn)&&(hn=null),pn!==null&&Ka(pn)&&(pn=null),ea.forEach(Xs),ta.forEach(Xs)}function Pr(e,t){e.blockedOn===t&&(e.blockedOn=null,qo||(qo=!0,mt.unstable_scheduleCallback(mt.unstable_NormalPriority,Th)))}function na(e){function t(a){return Pr(a,e)}if(0<Ia.length){Pr(Ia[0],e);for(var n=1;n<Ia.length;n++){var r=Ia[n];r.blockedOn===e&&(r.blockedOn=null)}}for(dn!==null&&Pr(dn,e),hn!==null&&Pr(hn,e),pn!==null&&Pr(pn,e),ea.forEach(t),ta.forEach(t),n=0;n<sn.length;n++)r=sn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<sn.length&&(n=sn[0],n.blockedOn===null);)Uc(n),n.blockedOn===null&&sn.shift()}var sr=qt.ReactCurrentBatchConfig,fi=!0;function Fh(e,t,n,r){var a=Se,i=sr.transition;sr.transition=null;try{Se=1,Yl(e,t,n,r)}finally{Se=a,sr.transition=i}}function Dh(e,t,n,r){var a=Se,i=sr.transition;sr.transition=null;try{Se=4,Yl(e,t,n,r)}finally{Se=a,sr.transition=i}}function Yl(e,t,n,r){if(fi){var a=el(e,t,n,r);if(a===null)yo(e,t,r,di,n),Ks(e,r);else if(Ah(a,e,t,n,r))r.stopPropagation();else if(Ks(e,r),t&4&&-1<Lh.indexOf(e)){for(;a!==null;){var i=va(a);if(i!==null&&Bc(i),i=el(e,t,n,r),i===null&&yo(e,t,r,di,n),i===a)break;a=i}a!==null&&r.stopPropagation()}else yo(e,t,r,null,n)}}var di=null;function el(e,t,n,r){if(di=null,e=Ul(r),e=In(e),e!==null)if(t=Hn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Ic(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return di=e,null}function Hc(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(_h()){case Hl:return 1;case Tc:return 4;case ui:case Sh:return 16;case Fc:return 536870912;default:return 16}default:return 16}}var cn=null,Kl=null,Xa=null;function jc(){if(Xa)return Xa;var e,t=Kl,n=t.length,r,a="value"in cn?cn.value:cn.textContent,i=a.length;for(e=0;e<n&&t[e]===a[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===a[i-r];r++);return Xa=a.slice(e,1<r?1-r:void 0)}function Za(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Pa(){return!0}function Zs(){return!1}function yt(e){function t(n,r,a,i,o){this._reactName=n,this._targetInst=a,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Pa:Zs,this.isPropagationStopped=Zs,this}return Fe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Pa)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Pa)},persist:function(){},isPersistent:Pa}),t}var _r={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Xl=yt(_r),ya=Fe({},_r,{view:0,detail:0}),Mh=yt(ya),lo,so,Lr,Fi=Fe({},ya,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Zl,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Lr&&(Lr&&e.type==="mousemove"?(lo=e.screenX-Lr.screenX,so=e.screenY-Lr.screenY):so=lo=0,Lr=e),lo)},movementY:function(e){return"movementY"in e?e.movementY:so}}),Qs=yt(Fi),Bh=Fe({},Fi,{dataTransfer:0}),Wh=yt(Bh),$h=Fe({},ya,{relatedTarget:0}),uo=yt($h),Oh=Fe({},_r,{animationName:0,elapsedTime:0,pseudoElement:0}),Uh=yt(Oh),Hh=Fe({},_r,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),jh=yt(Hh),Vh=Fe({},_r,{data:0}),Gs=yt(Vh),Yh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Kh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Xh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Zh(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Xh[e])?!!t[e]:!1}function Zl(){return Zh}var Qh=Fe({},ya,{key:function(e){if(e.key){var t=Yh[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Za(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Kh[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Zl,charCode:function(e){return e.type==="keypress"?Za(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Za(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Gh=yt(Qh),Jh=Fe({},Fi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Js=yt(Jh),qh=Fe({},ya,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Zl}),ep=yt(qh),tp=Fe({},_r,{propertyName:0,elapsedTime:0,pseudoElement:0}),np=yt(tp),rp=Fe({},Fi,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ap=yt(rp),ip=[9,13,27,32],Ql=Xt&&"CompositionEvent"in window,jr=null;Xt&&"documentMode"in document&&(jr=document.documentMode);var op=Xt&&"TextEvent"in window&&!jr,Vc=Xt&&(!Ql||jr&&8<jr&&11>=jr),qs=" ",eu=!1;function Yc(e,t){switch(e){case"keyup":return ip.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Kc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Zn=!1;function lp(e,t){switch(e){case"compositionend":return Kc(t);case"keypress":return t.which!==32?null:(eu=!0,qs);case"textInput":return e=t.data,e===qs&&eu?null:e;default:return null}}function sp(e,t){if(Zn)return e==="compositionend"||!Ql&&Yc(e,t)?(e=jc(),Xa=Kl=cn=null,Zn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Vc&&t.locale!=="ko"?null:t.data;default:return null}}var up={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function tu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!up[e.type]:t==="textarea"}function Xc(e,t,n,r){bc(r),t=hi(t,"onChange"),0<t.length&&(n=new Xl("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Vr=null,ra=null;function cp(e){of(e,0)}function Di(e){var t=Jn(e);if(vc(t))return e}function fp(e,t){if(e==="change")return t}var Zc=!1;if(Xt){var co;if(Xt){var fo="oninput"in document;if(!fo){var nu=document.createElement("div");nu.setAttribute("oninput","return;"),fo=typeof nu.oninput=="function"}co=fo}else co=!1;Zc=co&&(!document.documentMode||9<document.documentMode)}function ru(){Vr&&(Vr.detachEvent("onpropertychange",Qc),ra=Vr=null)}function Qc(e){if(e.propertyName==="value"&&Di(ra)){var t=[];Xc(t,ra,e,Ul(e)),zc(cp,t)}}function dp(e,t,n){e==="focusin"?(ru(),Vr=t,ra=n,Vr.attachEvent("onpropertychange",Qc)):e==="focusout"&&ru()}function hp(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Di(ra)}function pp(e,t){if(e==="click")return Di(t)}function mp(e,t){if(e==="input"||e==="change")return Di(t)}function gp(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var At=typeof Object.is=="function"?Object.is:gp;function aa(e,t){if(At(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var a=n[r];if(!Do.call(t,a)||!At(e[a],t[a]))return!1}return!0}function au(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function iu(e,t){var n=au(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=au(n)}}function Gc(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Gc(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Jc(){for(var e=window,t=oi();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=oi(e.document)}return t}function Gl(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function yp(e){var t=Jc(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Gc(n.ownerDocument.documentElement,n)){if(r!==null&&Gl(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=n.textContent.length,i=Math.min(r.start,a);r=r.end===void 0?i:Math.min(r.end,a),!e.extend&&i>r&&(a=r,r=i,i=a),a=iu(n,i);var o=iu(n,r);a&&o&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vp=Xt&&"documentMode"in document&&11>=document.documentMode,Qn=null,tl=null,Yr=null,nl=!1;function ou(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;nl||Qn==null||Qn!==oi(r)||(r=Qn,"selectionStart"in r&&Gl(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Yr&&aa(Yr,r)||(Yr=r,r=hi(tl,"onSelect"),0<r.length&&(t=new Xl("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Qn)))}function La(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Gn={animationend:La("Animation","AnimationEnd"),animationiteration:La("Animation","AnimationIteration"),animationstart:La("Animation","AnimationStart"),transitionend:La("Transition","TransitionEnd")},ho={},qc={};Xt&&(qc=document.createElement("div").style,"AnimationEvent"in window||(delete Gn.animationend.animation,delete Gn.animationiteration.animation,delete Gn.animationstart.animation),"TransitionEvent"in window||delete Gn.transitionend.transition);function Mi(e){if(ho[e])return ho[e];if(!Gn[e])return e;var t=Gn[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in qc)return ho[e]=t[n];return e}var ef=Mi("animationend"),tf=Mi("animationiteration"),nf=Mi("animationstart"),rf=Mi("transitionend"),af=new Map,lu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function En(e,t){af.set(e,t),Un(t,[e])}for(var po=0;po<lu.length;po++){var mo=lu[po],wp=mo.toLowerCase(),xp=mo[0].toUpperCase()+mo.slice(1);En(wp,"on"+xp)}En(ef,"onAnimationEnd");En(tf,"onAnimationIteration");En(nf,"onAnimationStart");En("dblclick","onDoubleClick");En("focusin","onFocus");En("focusout","onBlur");En(rf,"onTransitionEnd");dr("onMouseEnter",["mouseout","mouseover"]);dr("onMouseLeave",["mouseout","mouseover"]);dr("onPointerEnter",["pointerout","pointerover"]);dr("onPointerLeave",["pointerout","pointerover"]);Un("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Un("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Un("onBeforeInput",["compositionend","keypress","textInput","paste"]);Un("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Un("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Un("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Or="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),kp=new Set("cancel close invalid load scroll toggle".split(" ").concat(Or));function su(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,wh(r,t,void 0,e),e.currentTarget=null}function of(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],a=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var o=r.length-1;0<=o;o--){var l=r[o],s=l.instance,c=l.currentTarget;if(l=l.listener,s!==i&&a.isPropagationStopped())break e;su(a,l,c),i=s}else for(o=0;o<r.length;o++){if(l=r[o],s=l.instance,c=l.currentTarget,l=l.listener,s!==i&&a.isPropagationStopped())break e;su(a,l,c),i=s}}}if(si)throw e=Go,si=!1,Go=null,e}function Re(e,t){var n=t[ll];n===void 0&&(n=t[ll]=new Set);var r=e+"__bubble";n.has(r)||(lf(t,e,2,!1),n.add(r))}function go(e,t,n){var r=0;t&&(r|=4),lf(n,e,r,t)}var Aa="_reactListening"+Math.random().toString(36).slice(2);function ia(e){if(!e[Aa]){e[Aa]=!0,hc.forEach(function(n){n!=="selectionchange"&&(kp.has(n)||go(n,!1,e),go(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Aa]||(t[Aa]=!0,go("selectionchange",!1,t))}}function lf(e,t,n,r){switch(Hc(t)){case 1:var a=Fh;break;case 4:a=Dh;break;default:a=Yl}n=a.bind(null,t,n,e),a=void 0,!Qo||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),r?a!==void 0?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):a!==void 0?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function yo(e,t,n,r,a){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(o===4)for(o=r.return;o!==null;){var s=o.tag;if((s===3||s===4)&&(s=o.stateNode.containerInfo,s===a||s.nodeType===8&&s.parentNode===a))return;o=o.return}for(;l!==null;){if(o=In(l),o===null)return;if(s=o.tag,s===5||s===6){r=i=o;continue e}l=l.parentNode}}r=r.return}zc(function(){var c=i,p=Ul(n),d=[];e:{var g=af.get(e);if(g!==void 0){var m=Xl,x=e;switch(e){case"keypress":if(Za(n)===0)break e;case"keydown":case"keyup":m=Gh;break;case"focusin":x="focus",m=uo;break;case"focusout":x="blur",m=uo;break;case"beforeblur":case"afterblur":m=uo;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Qs;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=Wh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=ep;break;case ef:case tf:case nf:m=Uh;break;case rf:m=np;break;case"scroll":m=Mh;break;case"wheel":m=ap;break;case"copy":case"cut":case"paste":m=jh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Js}var v=(t&4)!==0,E=!v&&e==="scroll",f=v?g!==null?g+"Capture":null:g;v=[];for(var h=c,w;h!==null;){w=h;var S=w.stateNode;if(w.tag===5&&S!==null&&(w=S,f!==null&&(S=qr(h,f),S!=null&&v.push(oa(h,S,w)))),E)break;h=h.return}0<v.length&&(g=new m(g,x,null,n,p),d.push({event:g,listeners:v}))}}if(!(t&7)){e:{if(g=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",g&&n!==Xo&&(x=n.relatedTarget||n.fromElement)&&(In(x)||x[Zt]))break e;if((m||g)&&(g=p.window===p?p:(g=p.ownerDocument)?g.defaultView||g.parentWindow:window,m?(x=n.relatedTarget||n.toElement,m=c,x=x?In(x):null,x!==null&&(E=Hn(x),x!==E||x.tag!==5&&x.tag!==6)&&(x=null)):(m=null,x=c),m!==x)){if(v=Qs,S="onMouseLeave",f="onMouseEnter",h="mouse",(e==="pointerout"||e==="pointerover")&&(v=Js,S="onPointerLeave",f="onPointerEnter",h="pointer"),E=m==null?g:Jn(m),w=x==null?g:Jn(x),g=new v(S,h+"leave",m,n,p),g.target=E,g.relatedTarget=w,S=null,In(p)===c&&(v=new v(f,h+"enter",x,n,p),v.target=w,v.relatedTarget=E,S=v),E=S,m&&x)t:{for(v=m,f=x,h=0,w=v;w;w=Yn(w))h++;for(w=0,S=f;S;S=Yn(S))w++;for(;0<h-w;)v=Yn(v),h--;for(;0<w-h;)f=Yn(f),w--;for(;h--;){if(v===f||f!==null&&v===f.alternate)break t;v=Yn(v),f=Yn(f)}v=null}else v=null;m!==null&&uu(d,g,m,v,!1),x!==null&&E!==null&&uu(d,E,x,v,!0)}}e:{if(g=c?Jn(c):window,m=g.nodeName&&g.nodeName.toLowerCase(),m==="select"||m==="input"&&g.type==="file")var _=fp;else if(tu(g))if(Zc)_=mp;else{_=hp;var A=dp}else(m=g.nodeName)&&m.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(_=pp);if(_&&(_=_(e,c))){Xc(d,_,n,p);break e}A&&A(e,g,c),e==="focusout"&&(A=g._wrapperState)&&A.controlled&&g.type==="number"&&Ho(g,"number",g.value)}switch(A=c?Jn(c):window,e){case"focusin":(tu(A)||A.contentEditable==="true")&&(Qn=A,tl=c,Yr=null);break;case"focusout":Yr=tl=Qn=null;break;case"mousedown":nl=!0;break;case"contextmenu":case"mouseup":case"dragend":nl=!1,ou(d,n,p);break;case"selectionchange":if(vp)break;case"keydown":case"keyup":ou(d,n,p)}var F;if(Ql)e:{switch(e){case"compositionstart":var W="onCompositionStart";break e;case"compositionend":W="onCompositionEnd";break e;case"compositionupdate":W="onCompositionUpdate";break e}W=void 0}else Zn?Yc(e,n)&&(W="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(W="onCompositionStart");W&&(Vc&&n.locale!=="ko"&&(Zn||W!=="onCompositionStart"?W==="onCompositionEnd"&&Zn&&(F=jc()):(cn=p,Kl="value"in cn?cn.value:cn.textContent,Zn=!0)),A=hi(c,W),0<A.length&&(W=new Gs(W,e,null,n,p),d.push({event:W,listeners:A}),F?W.data=F:(F=Kc(n),F!==null&&(W.data=F)))),(F=op?lp(e,n):sp(e,n))&&(c=hi(c,"onBeforeInput"),0<c.length&&(p=new Gs("onBeforeInput","beforeinput",null,n,p),d.push({event:p,listeners:c}),p.data=F))}of(d,t)})}function oa(e,t,n){return{instance:e,listener:t,currentTarget:n}}function hi(e,t){for(var n=t+"Capture",r=[];e!==null;){var a=e,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=qr(e,n),i!=null&&r.unshift(oa(e,i,a)),i=qr(e,t),i!=null&&r.push(oa(e,i,a))),e=e.return}return r}function Yn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function uu(e,t,n,r,a){for(var i=t._reactName,o=[];n!==null&&n!==r;){var l=n,s=l.alternate,c=l.stateNode;if(s!==null&&s===r)break;l.tag===5&&c!==null&&(l=c,a?(s=qr(n,i),s!=null&&o.unshift(oa(n,s,l))):a||(s=qr(n,i),s!=null&&o.push(oa(n,s,l)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var Ep=/\r\n?/g,_p=/\u0000|\uFFFD/g;function cu(e){return(typeof e=="string"?e:""+e).replace(Ep,`
`).replace(_p,"")}function Ta(e,t,n){if(t=cu(t),cu(e)!==t&&n)throw Error(q(425))}function pi(){}var rl=null,al=null;function il(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ol=typeof setTimeout=="function"?setTimeout:void 0,Sp=typeof clearTimeout=="function"?clearTimeout:void 0,fu=typeof Promise=="function"?Promise:void 0,bp=typeof queueMicrotask=="function"?queueMicrotask:typeof fu<"u"?function(e){return fu.resolve(null).then(e).catch(Cp)}:ol;function Cp(e){setTimeout(function(){throw e})}function vo(e,t){var n=t,r=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&a.nodeType===8)if(n=a.data,n==="/$"){if(r===0){e.removeChild(a),na(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=a}while(n);na(t)}function mn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function du(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Sr=Math.random().toString(36).slice(2),Mt="__reactFiber$"+Sr,la="__reactProps$"+Sr,Zt="__reactContainer$"+Sr,ll="__reactEvents$"+Sr,Np="__reactListeners$"+Sr,Rp="__reactHandles$"+Sr;function In(e){var t=e[Mt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Zt]||n[Mt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=du(e);e!==null;){if(n=e[Mt])return n;e=du(e)}return t}e=n,n=e.parentNode}return null}function va(e){return e=e[Mt]||e[Zt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Jn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(q(33))}function Bi(e){return e[la]||null}var sl=[],qn=-1;function _n(e){return{current:e}}function ze(e){0>qn||(e.current=sl[qn],sl[qn]=null,qn--)}function Ce(e,t){qn++,sl[qn]=e.current,e.current=t}var kn={},qe=_n(kn),st=_n(!1),Dn=kn;function hr(e,t){var n=e.type.contextTypes;if(!n)return kn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in n)a[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function ut(e){return e=e.childContextTypes,e!=null}function mi(){ze(st),ze(qe)}function hu(e,t,n){if(qe.current!==kn)throw Error(q(168));Ce(qe,t),Ce(st,n)}function sf(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var a in r)if(!(a in t))throw Error(q(108,dh(e)||"Unknown",a));return Fe({},n,r)}function gi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||kn,Dn=qe.current,Ce(qe,e),Ce(st,st.current),!0}function pu(e,t,n){var r=e.stateNode;if(!r)throw Error(q(169));n?(e=sf(e,t,Dn),r.__reactInternalMemoizedMergedChildContext=e,ze(st),ze(qe),Ce(qe,e)):ze(st),Ce(st,n)}var Ut=null,Wi=!1,wo=!1;function uf(e){Ut===null?Ut=[e]:Ut.push(e)}function zp(e){Wi=!0,uf(e)}function Sn(){if(!wo&&Ut!==null){wo=!0;var e=0,t=Se;try{var n=Ut;for(Se=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Ut=null,Wi=!1}catch(a){throw Ut!==null&&(Ut=Ut.slice(e+1)),Ac(Hl,Sn),a}finally{Se=t,wo=!1}}return null}var er=[],tr=0,yi=null,vi=0,vt=[],wt=0,Mn=null,jt=1,Vt="";function Nn(e,t){er[tr++]=vi,er[tr++]=yi,yi=e,vi=t}function cf(e,t,n){vt[wt++]=jt,vt[wt++]=Vt,vt[wt++]=Mn,Mn=e;var r=jt;e=Vt;var a=32-Pt(r)-1;r&=~(1<<a),n+=1;var i=32-Pt(t)+a;if(30<i){var o=a-a%5;i=(r&(1<<o)-1).toString(32),r>>=o,a-=o,jt=1<<32-Pt(t)+a|n<<a|r,Vt=i+e}else jt=1<<i|n<<a|r,Vt=e}function Jl(e){e.return!==null&&(Nn(e,1),cf(e,1,0))}function ql(e){for(;e===yi;)yi=er[--tr],er[tr]=null,vi=er[--tr],er[tr]=null;for(;e===Mn;)Mn=vt[--wt],vt[wt]=null,Vt=vt[--wt],vt[wt]=null,jt=vt[--wt],vt[wt]=null}var pt=null,ht=null,Pe=!1,It=null;function ff(e,t){var n=xt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function mu(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,pt=e,ht=mn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,pt=e,ht=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Mn!==null?{id:jt,overflow:Vt}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=xt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,pt=e,ht=null,!0):!1;default:return!1}}function ul(e){return(e.mode&1)!==0&&(e.flags&128)===0}function cl(e){if(Pe){var t=ht;if(t){var n=t;if(!mu(e,t)){if(ul(e))throw Error(q(418));t=mn(n.nextSibling);var r=pt;t&&mu(e,t)?ff(r,n):(e.flags=e.flags&-4097|2,Pe=!1,pt=e)}}else{if(ul(e))throw Error(q(418));e.flags=e.flags&-4097|2,Pe=!1,pt=e}}}function gu(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;pt=e}function Fa(e){if(e!==pt)return!1;if(!Pe)return gu(e),Pe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!il(e.type,e.memoizedProps)),t&&(t=ht)){if(ul(e))throw df(),Error(q(418));for(;t;)ff(e,t),t=mn(t.nextSibling)}if(gu(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(q(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){ht=mn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}ht=null}}else ht=pt?mn(e.stateNode.nextSibling):null;return!0}function df(){for(var e=ht;e;)e=mn(e.nextSibling)}function pr(){ht=pt=null,Pe=!1}function es(e){It===null?It=[e]:It.push(e)}var Ip=qt.ReactCurrentBatchConfig;function Ar(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(q(309));var r=n.stateNode}if(!r)throw Error(q(147,e));var a=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=a.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(q(284));if(!n._owner)throw Error(q(290,e))}return e}function Da(e,t){throw e=Object.prototype.toString.call(t),Error(q(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function yu(e){var t=e._init;return t(e._payload)}function hf(e){function t(f,h){if(e){var w=f.deletions;w===null?(f.deletions=[h],f.flags|=16):w.push(h)}}function n(f,h){if(!e)return null;for(;h!==null;)t(f,h),h=h.sibling;return null}function r(f,h){for(f=new Map;h!==null;)h.key!==null?f.set(h.key,h):f.set(h.index,h),h=h.sibling;return f}function a(f,h){return f=wn(f,h),f.index=0,f.sibling=null,f}function i(f,h,w){return f.index=w,e?(w=f.alternate,w!==null?(w=w.index,w<h?(f.flags|=2,h):w):(f.flags|=2,h)):(f.flags|=1048576,h)}function o(f){return e&&f.alternate===null&&(f.flags|=2),f}function l(f,h,w,S){return h===null||h.tag!==6?(h=Co(w,f.mode,S),h.return=f,h):(h=a(h,w),h.return=f,h)}function s(f,h,w,S){var _=w.type;return _===Xn?p(f,h,w.props.children,S,w.key):h!==null&&(h.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===on&&yu(_)===h.type)?(S=a(h,w.props),S.ref=Ar(f,h,w),S.return=f,S):(S=ni(w.type,w.key,w.props,null,f.mode,S),S.ref=Ar(f,h,w),S.return=f,S)}function c(f,h,w,S){return h===null||h.tag!==4||h.stateNode.containerInfo!==w.containerInfo||h.stateNode.implementation!==w.implementation?(h=No(w,f.mode,S),h.return=f,h):(h=a(h,w.children||[]),h.return=f,h)}function p(f,h,w,S,_){return h===null||h.tag!==7?(h=Fn(w,f.mode,S,_),h.return=f,h):(h=a(h,w),h.return=f,h)}function d(f,h,w){if(typeof h=="string"&&h!==""||typeof h=="number")return h=Co(""+h,f.mode,w),h.return=f,h;if(typeof h=="object"&&h!==null){switch(h.$$typeof){case ba:return w=ni(h.type,h.key,h.props,null,f.mode,w),w.ref=Ar(f,null,h),w.return=f,w;case Kn:return h=No(h,f.mode,w),h.return=f,h;case on:var S=h._init;return d(f,S(h._payload),w)}if(Wr(h)||Rr(h))return h=Fn(h,f.mode,w,null),h.return=f,h;Da(f,h)}return null}function g(f,h,w,S){var _=h!==null?h.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return _!==null?null:l(f,h,""+w,S);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case ba:return w.key===_?s(f,h,w,S):null;case Kn:return w.key===_?c(f,h,w,S):null;case on:return _=w._init,g(f,h,_(w._payload),S)}if(Wr(w)||Rr(w))return _!==null?null:p(f,h,w,S,null);Da(f,w)}return null}function m(f,h,w,S,_){if(typeof S=="string"&&S!==""||typeof S=="number")return f=f.get(w)||null,l(h,f,""+S,_);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case ba:return f=f.get(S.key===null?w:S.key)||null,s(h,f,S,_);case Kn:return f=f.get(S.key===null?w:S.key)||null,c(h,f,S,_);case on:var A=S._init;return m(f,h,w,A(S._payload),_)}if(Wr(S)||Rr(S))return f=f.get(w)||null,p(h,f,S,_,null);Da(h,S)}return null}function x(f,h,w,S){for(var _=null,A=null,F=h,W=h=0,D=null;F!==null&&W<w.length;W++){F.index>W?(D=F,F=null):D=F.sibling;var b=g(f,F,w[W],S);if(b===null){F===null&&(F=D);break}e&&F&&b.alternate===null&&t(f,F),h=i(b,h,W),A===null?_=b:A.sibling=b,A=b,F=D}if(W===w.length)return n(f,F),Pe&&Nn(f,W),_;if(F===null){for(;W<w.length;W++)F=d(f,w[W],S),F!==null&&(h=i(F,h,W),A===null?_=F:A.sibling=F,A=F);return Pe&&Nn(f,W),_}for(F=r(f,F);W<w.length;W++)D=m(F,f,W,w[W],S),D!==null&&(e&&D.alternate!==null&&F.delete(D.key===null?W:D.key),h=i(D,h,W),A===null?_=D:A.sibling=D,A=D);return e&&F.forEach(function(K){return t(f,K)}),Pe&&Nn(f,W),_}function v(f,h,w,S){var _=Rr(w);if(typeof _!="function")throw Error(q(150));if(w=_.call(w),w==null)throw Error(q(151));for(var A=_=null,F=h,W=h=0,D=null,b=w.next();F!==null&&!b.done;W++,b=w.next()){F.index>W?(D=F,F=null):D=F.sibling;var K=g(f,F,b.value,S);if(K===null){F===null&&(F=D);break}e&&F&&K.alternate===null&&t(f,F),h=i(K,h,W),A===null?_=K:A.sibling=K,A=K,F=D}if(b.done)return n(f,F),Pe&&Nn(f,W),_;if(F===null){for(;!b.done;W++,b=w.next())b=d(f,b.value,S),b!==null&&(h=i(b,h,W),A===null?_=b:A.sibling=b,A=b);return Pe&&Nn(f,W),_}for(F=r(f,F);!b.done;W++,b=w.next())b=m(F,f,W,b.value,S),b!==null&&(e&&b.alternate!==null&&F.delete(b.key===null?W:b.key),h=i(b,h,W),A===null?_=b:A.sibling=b,A=b);return e&&F.forEach(function(C){return t(f,C)}),Pe&&Nn(f,W),_}function E(f,h,w,S){if(typeof w=="object"&&w!==null&&w.type===Xn&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case ba:e:{for(var _=w.key,A=h;A!==null;){if(A.key===_){if(_=w.type,_===Xn){if(A.tag===7){n(f,A.sibling),h=a(A,w.props.children),h.return=f,f=h;break e}}else if(A.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===on&&yu(_)===A.type){n(f,A.sibling),h=a(A,w.props),h.ref=Ar(f,A,w),h.return=f,f=h;break e}n(f,A);break}else t(f,A);A=A.sibling}w.type===Xn?(h=Fn(w.props.children,f.mode,S,w.key),h.return=f,f=h):(S=ni(w.type,w.key,w.props,null,f.mode,S),S.ref=Ar(f,h,w),S.return=f,f=S)}return o(f);case Kn:e:{for(A=w.key;h!==null;){if(h.key===A)if(h.tag===4&&h.stateNode.containerInfo===w.containerInfo&&h.stateNode.implementation===w.implementation){n(f,h.sibling),h=a(h,w.children||[]),h.return=f,f=h;break e}else{n(f,h);break}else t(f,h);h=h.sibling}h=No(w,f.mode,S),h.return=f,f=h}return o(f);case on:return A=w._init,E(f,h,A(w._payload),S)}if(Wr(w))return x(f,h,w,S);if(Rr(w))return v(f,h,w,S);Da(f,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,h!==null&&h.tag===6?(n(f,h.sibling),h=a(h,w),h.return=f,f=h):(n(f,h),h=Co(w,f.mode,S),h.return=f,f=h),o(f)):n(f,h)}return E}var mr=hf(!0),pf=hf(!1),wi=_n(null),xi=null,nr=null,ts=null;function ns(){ts=nr=xi=null}function rs(e){var t=wi.current;ze(wi),e._currentValue=t}function fl(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ur(e,t){xi=e,ts=nr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(lt=!0),e.firstContext=null)}function Et(e){var t=e._currentValue;if(ts!==e)if(e={context:e,memoizedValue:t,next:null},nr===null){if(xi===null)throw Error(q(308));nr=e,xi.dependencies={lanes:0,firstContext:e}}else nr=nr.next=e;return t}var Pn=null;function as(e){Pn===null?Pn=[e]:Pn.push(e)}function mf(e,t,n,r){var a=t.interleaved;return a===null?(n.next=n,as(t)):(n.next=a.next,a.next=n),t.interleaved=n,Qt(e,r)}function Qt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var ln=!1;function is(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function gf(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Yt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function gn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,xe&2){var a=r.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),r.pending=t,Qt(e,n)}return a=r.interleaved,a===null?(t.next=t,as(r)):(t.next=a.next,a.next=t),r.interleaved=t,Qt(e,n)}function Qa(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,jl(e,n)}}function vu(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var a=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?a=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?a=i=t:i=i.next=t}else a=i=t;n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ki(e,t,n,r){var a=e.updateQueue;ln=!1;var i=a.firstBaseUpdate,o=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var s=l,c=s.next;s.next=null,o===null?i=c:o.next=c,o=s;var p=e.alternate;p!==null&&(p=p.updateQueue,l=p.lastBaseUpdate,l!==o&&(l===null?p.firstBaseUpdate=c:l.next=c,p.lastBaseUpdate=s))}if(i!==null){var d=a.baseState;o=0,p=c=s=null,l=i;do{var g=l.lane,m=l.eventTime;if((r&g)===g){p!==null&&(p=p.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var x=e,v=l;switch(g=t,m=n,v.tag){case 1:if(x=v.payload,typeof x=="function"){d=x.call(m,d,g);break e}d=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=v.payload,g=typeof x=="function"?x.call(m,d,g):x,g==null)break e;d=Fe({},d,g);break e;case 2:ln=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,g=a.effects,g===null?a.effects=[l]:g.push(l))}else m={eventTime:m,lane:g,tag:l.tag,payload:l.payload,callback:l.callback,next:null},p===null?(c=p=m,s=d):p=p.next=m,o|=g;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;g=l,l=g.next,g.next=null,a.lastBaseUpdate=g,a.shared.pending=null}}while(!0);if(p===null&&(s=d),a.baseState=s,a.firstBaseUpdate=c,a.lastBaseUpdate=p,t=a.shared.interleaved,t!==null){a=t;do o|=a.lane,a=a.next;while(a!==t)}else i===null&&(a.shared.lanes=0);Wn|=o,e.lanes=o,e.memoizedState=d}}function wu(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],a=r.callback;if(a!==null){if(r.callback=null,r=n,typeof a!="function")throw Error(q(191,a));a.call(r)}}}var wa={},Wt=_n(wa),sa=_n(wa),ua=_n(wa);function Ln(e){if(e===wa)throw Error(q(174));return e}function os(e,t){switch(Ce(ua,t),Ce(sa,e),Ce(Wt,wa),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Vo(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Vo(t,e)}ze(Wt),Ce(Wt,t)}function gr(){ze(Wt),ze(sa),ze(ua)}function yf(e){Ln(ua.current);var t=Ln(Wt.current),n=Vo(t,e.type);t!==n&&(Ce(sa,e),Ce(Wt,n))}function ls(e){sa.current===e&&(ze(Wt),ze(sa))}var Le=_n(0);function Ei(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var xo=[];function ss(){for(var e=0;e<xo.length;e++)xo[e]._workInProgressVersionPrimary=null;xo.length=0}var Ga=qt.ReactCurrentDispatcher,ko=qt.ReactCurrentBatchConfig,Bn=0,Ae=null,Ue=null,Ve=null,_i=!1,Kr=!1,ca=0,Pp=0;function Qe(){throw Error(q(321))}function us(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!At(e[n],t[n]))return!1;return!0}function cs(e,t,n,r,a,i){if(Bn=i,Ae=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ga.current=e===null||e.memoizedState===null?Fp:Dp,e=n(r,a),Kr){i=0;do{if(Kr=!1,ca=0,25<=i)throw Error(q(301));i+=1,Ve=Ue=null,t.updateQueue=null,Ga.current=Mp,e=n(r,a)}while(Kr)}if(Ga.current=Si,t=Ue!==null&&Ue.next!==null,Bn=0,Ve=Ue=Ae=null,_i=!1,t)throw Error(q(300));return e}function fs(){var e=ca!==0;return ca=0,e}function Dt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ve===null?Ae.memoizedState=Ve=e:Ve=Ve.next=e,Ve}function _t(){if(Ue===null){var e=Ae.alternate;e=e!==null?e.memoizedState:null}else e=Ue.next;var t=Ve===null?Ae.memoizedState:Ve.next;if(t!==null)Ve=t,Ue=e;else{if(e===null)throw Error(q(310));Ue=e,e={memoizedState:Ue.memoizedState,baseState:Ue.baseState,baseQueue:Ue.baseQueue,queue:Ue.queue,next:null},Ve===null?Ae.memoizedState=Ve=e:Ve=Ve.next=e}return Ve}function fa(e,t){return typeof t=="function"?t(e):t}function Eo(e){var t=_t(),n=t.queue;if(n===null)throw Error(q(311));n.lastRenderedReducer=e;var r=Ue,a=r.baseQueue,i=n.pending;if(i!==null){if(a!==null){var o=a.next;a.next=i.next,i.next=o}r.baseQueue=a=i,n.pending=null}if(a!==null){i=a.next,r=r.baseState;var l=o=null,s=null,c=i;do{var p=c.lane;if((Bn&p)===p)s!==null&&(s=s.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var d={lane:p,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};s===null?(l=s=d,o=r):s=s.next=d,Ae.lanes|=p,Wn|=p}c=c.next}while(c!==null&&c!==i);s===null?o=r:s.next=l,At(r,t.memoizedState)||(lt=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=s,n.lastRenderedState=r}if(e=n.interleaved,e!==null){a=e;do i=a.lane,Ae.lanes|=i,Wn|=i,a=a.next;while(a!==e)}else a===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function _o(e){var t=_t(),n=t.queue;if(n===null)throw Error(q(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,i=t.memoizedState;if(a!==null){n.pending=null;var o=a=a.next;do i=e(i,o.action),o=o.next;while(o!==a);At(i,t.memoizedState)||(lt=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function vf(){}function wf(e,t){var n=Ae,r=_t(),a=t(),i=!At(r.memoizedState,a);if(i&&(r.memoizedState=a,lt=!0),r=r.queue,ds(Ef.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||Ve!==null&&Ve.memoizedState.tag&1){if(n.flags|=2048,da(9,kf.bind(null,n,r,a,t),void 0,null),Ye===null)throw Error(q(349));Bn&30||xf(n,t,a)}return a}function xf(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Ae.updateQueue,t===null?(t={lastEffect:null,stores:null},Ae.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function kf(e,t,n,r){t.value=n,t.getSnapshot=r,_f(t)&&Sf(e)}function Ef(e,t,n){return n(function(){_f(t)&&Sf(e)})}function _f(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!At(e,n)}catch{return!0}}function Sf(e){var t=Qt(e,1);t!==null&&Lt(t,e,1,-1)}function xu(e){var t=Dt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:fa,lastRenderedState:e},t.queue=e,e=e.dispatch=Tp.bind(null,Ae,e),[t.memoizedState,e]}function da(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Ae.updateQueue,t===null?(t={lastEffect:null,stores:null},Ae.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function bf(){return _t().memoizedState}function Ja(e,t,n,r){var a=Dt();Ae.flags|=e,a.memoizedState=da(1|t,n,void 0,r===void 0?null:r)}function $i(e,t,n,r){var a=_t();r=r===void 0?null:r;var i=void 0;if(Ue!==null){var o=Ue.memoizedState;if(i=o.destroy,r!==null&&us(r,o.deps)){a.memoizedState=da(t,n,i,r);return}}Ae.flags|=e,a.memoizedState=da(1|t,n,i,r)}function ku(e,t){return Ja(8390656,8,e,t)}function ds(e,t){return $i(2048,8,e,t)}function Cf(e,t){return $i(4,2,e,t)}function Nf(e,t){return $i(4,4,e,t)}function Rf(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function zf(e,t,n){return n=n!=null?n.concat([e]):null,$i(4,4,Rf.bind(null,t,e),n)}function hs(){}function If(e,t){var n=_t();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&us(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Pf(e,t){var n=_t();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&us(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Lf(e,t,n){return Bn&21?(At(n,t)||(n=Dc(),Ae.lanes|=n,Wn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,lt=!0),e.memoizedState=n)}function Lp(e,t){var n=Se;Se=n!==0&&4>n?n:4,e(!0);var r=ko.transition;ko.transition={};try{e(!1),t()}finally{Se=n,ko.transition=r}}function Af(){return _t().memoizedState}function Ap(e,t,n){var r=vn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Tf(e))Ff(t,n);else if(n=mf(e,t,n,r),n!==null){var a=tt();Lt(n,e,r,a),Df(n,t,r)}}function Tp(e,t,n){var r=vn(e),a={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Tf(e))Ff(t,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,n);if(a.hasEagerState=!0,a.eagerState=l,At(l,o)){var s=t.interleaved;s===null?(a.next=a,as(t)):(a.next=s.next,s.next=a),t.interleaved=a;return}}catch{}finally{}n=mf(e,t,a,r),n!==null&&(a=tt(),Lt(n,e,r,a),Df(n,t,r))}}function Tf(e){var t=e.alternate;return e===Ae||t!==null&&t===Ae}function Ff(e,t){Kr=_i=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Df(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,jl(e,n)}}var Si={readContext:Et,useCallback:Qe,useContext:Qe,useEffect:Qe,useImperativeHandle:Qe,useInsertionEffect:Qe,useLayoutEffect:Qe,useMemo:Qe,useReducer:Qe,useRef:Qe,useState:Qe,useDebugValue:Qe,useDeferredValue:Qe,useTransition:Qe,useMutableSource:Qe,useSyncExternalStore:Qe,useId:Qe,unstable_isNewReconciler:!1},Fp={readContext:Et,useCallback:function(e,t){return Dt().memoizedState=[e,t===void 0?null:t],e},useContext:Et,useEffect:ku,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Ja(4194308,4,Rf.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ja(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ja(4,2,e,t)},useMemo:function(e,t){var n=Dt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Dt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Ap.bind(null,Ae,e),[r.memoizedState,e]},useRef:function(e){var t=Dt();return e={current:e},t.memoizedState=e},useState:xu,useDebugValue:hs,useDeferredValue:function(e){return Dt().memoizedState=e},useTransition:function(){var e=xu(!1),t=e[0];return e=Lp.bind(null,e[1]),Dt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Ae,a=Dt();if(Pe){if(n===void 0)throw Error(q(407));n=n()}else{if(n=t(),Ye===null)throw Error(q(349));Bn&30||xf(r,t,n)}a.memoizedState=n;var i={value:n,getSnapshot:t};return a.queue=i,ku(Ef.bind(null,r,i,e),[e]),r.flags|=2048,da(9,kf.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=Dt(),t=Ye.identifierPrefix;if(Pe){var n=Vt,r=jt;n=(r&~(1<<32-Pt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=ca++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Pp++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Dp={readContext:Et,useCallback:If,useContext:Et,useEffect:ds,useImperativeHandle:zf,useInsertionEffect:Cf,useLayoutEffect:Nf,useMemo:Pf,useReducer:Eo,useRef:bf,useState:function(){return Eo(fa)},useDebugValue:hs,useDeferredValue:function(e){var t=_t();return Lf(t,Ue.memoizedState,e)},useTransition:function(){var e=Eo(fa)[0],t=_t().memoizedState;return[e,t]},useMutableSource:vf,useSyncExternalStore:wf,useId:Af,unstable_isNewReconciler:!1},Mp={readContext:Et,useCallback:If,useContext:Et,useEffect:ds,useImperativeHandle:zf,useInsertionEffect:Cf,useLayoutEffect:Nf,useMemo:Pf,useReducer:_o,useRef:bf,useState:function(){return _o(fa)},useDebugValue:hs,useDeferredValue:function(e){var t=_t();return Ue===null?t.memoizedState=e:Lf(t,Ue.memoizedState,e)},useTransition:function(){var e=_o(fa)[0],t=_t().memoizedState;return[e,t]},useMutableSource:vf,useSyncExternalStore:wf,useId:Af,unstable_isNewReconciler:!1};function Rt(e,t){if(e&&e.defaultProps){t=Fe({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function dl(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Fe({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Oi={isMounted:function(e){return(e=e._reactInternals)?Hn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tt(),a=vn(e),i=Yt(r,a);i.payload=t,n!=null&&(i.callback=n),t=gn(e,i,a),t!==null&&(Lt(t,e,a,r),Qa(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tt(),a=vn(e),i=Yt(r,a);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=gn(e,i,a),t!==null&&(Lt(t,e,a,r),Qa(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tt(),r=vn(e),a=Yt(n,r);a.tag=2,t!=null&&(a.callback=t),t=gn(e,a,r),t!==null&&(Lt(t,e,r,n),Qa(t,e,r))}};function Eu(e,t,n,r,a,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,o):t.prototype&&t.prototype.isPureReactComponent?!aa(n,r)||!aa(a,i):!0}function Mf(e,t,n){var r=!1,a=kn,i=t.contextType;return typeof i=="object"&&i!==null?i=Et(i):(a=ut(t)?Dn:qe.current,r=t.contextTypes,i=(r=r!=null)?hr(e,a):kn),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Oi,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function _u(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Oi.enqueueReplaceState(t,t.state,null)}function hl(e,t,n,r){var a=e.stateNode;a.props=n,a.state=e.memoizedState,a.refs={},is(e);var i=t.contextType;typeof i=="object"&&i!==null?a.context=Et(i):(i=ut(t)?Dn:qe.current,a.context=hr(e,i)),a.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(dl(e,t,i,n),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&Oi.enqueueReplaceState(a,a.state,null),ki(e,n,a,r),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function yr(e,t){try{var n="",r=t;do n+=fh(r),r=r.return;while(r);var a=n}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:a,digest:null}}function So(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function pl(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Bp=typeof WeakMap=="function"?WeakMap:Map;function Bf(e,t,n){n=Yt(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ci||(Ci=!0,Sl=r),pl(e,t)},n}function Wf(e,t,n){n=Yt(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var a=t.value;n.payload=function(){return r(a)},n.callback=function(){pl(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){pl(e,t),typeof r!="function"&&(yn===null?yn=new Set([this]):yn.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function Su(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Bp;var a=new Set;r.set(t,a)}else a=r.get(t),a===void 0&&(a=new Set,r.set(t,a));a.has(n)||(a.add(n),e=Jp.bind(null,e,t,n),t.then(e,e))}function bu(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Cu(e,t,n,r,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Yt(-1,1),t.tag=2,gn(n,t,1))),n.lanes|=1),e)}var Wp=qt.ReactCurrentOwner,lt=!1;function et(e,t,n,r){t.child=e===null?pf(t,null,n,r):mr(t,e.child,n,r)}function Nu(e,t,n,r,a){n=n.render;var i=t.ref;return ur(t,a),r=cs(e,t,n,r,i,a),n=fs(),e!==null&&!lt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Gt(e,t,a)):(Pe&&n&&Jl(t),t.flags|=1,et(e,t,r,a),t.child)}function Ru(e,t,n,r,a){if(e===null){var i=n.type;return typeof i=="function"&&!ks(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,$f(e,t,i,r,a)):(e=ni(n.type,null,r,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&a)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:aa,n(o,r)&&e.ref===t.ref)return Gt(e,t,a)}return t.flags|=1,e=wn(i,r),e.ref=t.ref,e.return=t,t.child=e}function $f(e,t,n,r,a){if(e!==null){var i=e.memoizedProps;if(aa(i,r)&&e.ref===t.ref)if(lt=!1,t.pendingProps=r=i,(e.lanes&a)!==0)e.flags&131072&&(lt=!0);else return t.lanes=e.lanes,Gt(e,t,a)}return ml(e,t,n,r,a)}function Of(e,t,n){var r=t.pendingProps,a=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ce(ar,dt),dt|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ce(ar,dt),dt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Ce(ar,dt),dt|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,Ce(ar,dt),dt|=r;return et(e,t,a,n),t.child}function Uf(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function ml(e,t,n,r,a){var i=ut(n)?Dn:qe.current;return i=hr(t,i),ur(t,a),n=cs(e,t,n,r,i,a),r=fs(),e!==null&&!lt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Gt(e,t,a)):(Pe&&r&&Jl(t),t.flags|=1,et(e,t,n,a),t.child)}function zu(e,t,n,r,a){if(ut(n)){var i=!0;gi(t)}else i=!1;if(ur(t,a),t.stateNode===null)qa(e,t),Mf(t,n,r),hl(t,n,r,a),r=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var s=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Et(c):(c=ut(n)?Dn:qe.current,c=hr(t,c));var p=n.getDerivedStateFromProps,d=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||s!==c)&&_u(t,o,r,c),ln=!1;var g=t.memoizedState;o.state=g,ki(t,r,o,a),s=t.memoizedState,l!==r||g!==s||st.current||ln?(typeof p=="function"&&(dl(t,n,p,r),s=t.memoizedState),(l=ln||Eu(t,n,l,r,g,s,c))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=s),o.props=r,o.state=s,o.context=c,r=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,gf(e,t),l=t.memoizedProps,c=t.type===t.elementType?l:Rt(t.type,l),o.props=c,d=t.pendingProps,g=o.context,s=n.contextType,typeof s=="object"&&s!==null?s=Et(s):(s=ut(n)?Dn:qe.current,s=hr(t,s));var m=n.getDerivedStateFromProps;(p=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==d||g!==s)&&_u(t,o,r,s),ln=!1,g=t.memoizedState,o.state=g,ki(t,r,o,a);var x=t.memoizedState;l!==d||g!==x||st.current||ln?(typeof m=="function"&&(dl(t,n,m,r),x=t.memoizedState),(c=ln||Eu(t,n,c,r,g,x,s)||!1)?(p||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,x,s),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,x,s)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=x),o.props=r,o.state=x,o.context=s,r=c):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),r=!1)}return gl(e,t,n,r,i,a)}function gl(e,t,n,r,a,i){Uf(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return a&&pu(t,n,!1),Gt(e,t,i);r=t.stateNode,Wp.current=t;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=mr(t,e.child,null,i),t.child=mr(t,null,l,i)):et(e,t,l,i),t.memoizedState=r.state,a&&pu(t,n,!0),t.child}function Hf(e){var t=e.stateNode;t.pendingContext?hu(e,t.pendingContext,t.pendingContext!==t.context):t.context&&hu(e,t.context,!1),os(e,t.containerInfo)}function Iu(e,t,n,r,a){return pr(),es(a),t.flags|=256,et(e,t,n,r),t.child}var yl={dehydrated:null,treeContext:null,retryLane:0};function vl(e){return{baseLanes:e,cachePool:null,transitions:null}}function jf(e,t,n){var r=t.pendingProps,a=Le.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(a&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),Ce(Le,a&1),e===null)return cl(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,i?(r=t.mode,i=t.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=ji(o,r,0,null),e=Fn(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=vl(n),t.memoizedState=yl,e):ps(t,o));if(a=e.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return $p(e,t,o,r,l,a,n);if(i){i=r.fallback,o=t.mode,a=e.child,l=a.sibling;var s={mode:"hidden",children:r.children};return!(o&1)&&t.child!==a?(r=t.child,r.childLanes=0,r.pendingProps=s,t.deletions=null):(r=wn(a,s),r.subtreeFlags=a.subtreeFlags&14680064),l!==null?i=wn(l,i):(i=Fn(i,o,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,o=e.child.memoizedState,o=o===null?vl(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,t.memoizedState=yl,r}return i=e.child,e=i.sibling,r=wn(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function ps(e,t){return t=ji({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ma(e,t,n,r){return r!==null&&es(r),mr(t,e.child,null,n),e=ps(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function $p(e,t,n,r,a,i,o){if(n)return t.flags&256?(t.flags&=-257,r=So(Error(q(422))),Ma(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,a=t.mode,r=ji({mode:"visible",children:r.children},a,0,null),i=Fn(i,a,o,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&mr(t,e.child,null,o),t.child.memoizedState=vl(o),t.memoizedState=yl,i);if(!(t.mode&1))return Ma(e,t,o,null);if(a.data==="$!"){if(r=a.nextSibling&&a.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(q(419)),r=So(i,r,void 0),Ma(e,t,o,r)}if(l=(o&e.childLanes)!==0,lt||l){if(r=Ye,r!==null){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(r.suspendedLanes|o)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,Qt(e,a),Lt(r,e,a,-1))}return xs(),r=So(Error(q(421))),Ma(e,t,o,r)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=qp.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,ht=mn(a.nextSibling),pt=t,Pe=!0,It=null,e!==null&&(vt[wt++]=jt,vt[wt++]=Vt,vt[wt++]=Mn,jt=e.id,Vt=e.overflow,Mn=t),t=ps(t,r.children),t.flags|=4096,t)}function Pu(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),fl(e.return,t,n)}function bo(e,t,n,r,a){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=a)}function Vf(e,t,n){var r=t.pendingProps,a=r.revealOrder,i=r.tail;if(et(e,t,r.children,n),r=Le.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Pu(e,n,t);else if(e.tag===19)Pu(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ce(Le,r),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(n=t.child,a=null;n!==null;)e=n.alternate,e!==null&&Ei(e)===null&&(a=n),n=n.sibling;n=a,n===null?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),bo(t,!1,a,n,i);break;case"backwards":for(n=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&Ei(e)===null){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}bo(t,!0,n,null,i);break;case"together":bo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function qa(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Gt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Wn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(q(153));if(t.child!==null){for(e=t.child,n=wn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=wn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Op(e,t,n){switch(t.tag){case 3:Hf(t),pr();break;case 5:yf(t);break;case 1:ut(t.type)&&gi(t);break;case 4:os(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,a=t.memoizedProps.value;Ce(wi,r._currentValue),r._currentValue=a;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Ce(Le,Le.current&1),t.flags|=128,null):n&t.child.childLanes?jf(e,t,n):(Ce(Le,Le.current&1),e=Gt(e,t,n),e!==null?e.sibling:null);Ce(Le,Le.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Vf(e,t,n);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Ce(Le,Le.current),r)break;return null;case 22:case 23:return t.lanes=0,Of(e,t,n)}return Gt(e,t,n)}var Yf,wl,Kf,Xf;Yf=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};wl=function(){};Kf=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,Ln(Wt.current);var i=null;switch(n){case"input":a=Oo(e,a),r=Oo(e,r),i=[];break;case"select":a=Fe({},a,{value:void 0}),r=Fe({},r,{value:void 0}),i=[];break;case"textarea":a=jo(e,a),r=jo(e,r),i=[];break;default:typeof a.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=pi)}Yo(n,r);var o;n=null;for(c in a)if(!r.hasOwnProperty(c)&&a.hasOwnProperty(c)&&a[c]!=null)if(c==="style"){var l=a[c];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Gr.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var s=r[c];if(l=a!=null?a[c]:void 0,r.hasOwnProperty(c)&&s!==l&&(s!=null||l!=null))if(c==="style")if(l){for(o in l)!l.hasOwnProperty(o)||s&&s.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in s)s.hasOwnProperty(o)&&l[o]!==s[o]&&(n||(n={}),n[o]=s[o])}else n||(i||(i=[]),i.push(c,n)),n=s;else c==="dangerouslySetInnerHTML"?(s=s?s.__html:void 0,l=l?l.__html:void 0,s!=null&&l!==s&&(i=i||[]).push(c,s)):c==="children"?typeof s!="string"&&typeof s!="number"||(i=i||[]).push(c,""+s):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Gr.hasOwnProperty(c)?(s!=null&&c==="onScroll"&&Re("scroll",e),i||l===s||(i=[])):(i=i||[]).push(c,s))}n&&(i=i||[]).push("style",n);var c=i;(t.updateQueue=c)&&(t.flags|=4)}};Xf=function(e,t,n,r){n!==r&&(t.flags|=4)};function Tr(e,t){if(!Pe)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ge(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var a=e.child;a!==null;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags&14680064,r|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Up(e,t,n){var r=t.pendingProps;switch(ql(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ge(t),null;case 1:return ut(t.type)&&mi(),Ge(t),null;case 3:return r=t.stateNode,gr(),ze(st),ze(qe),ss(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Fa(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,It!==null&&(Nl(It),It=null))),wl(e,t),Ge(t),null;case 5:ls(t);var a=Ln(ua.current);if(n=t.type,e!==null&&t.stateNode!=null)Kf(e,t,n,r,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(q(166));return Ge(t),null}if(e=Ln(Wt.current),Fa(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[Mt]=t,r[la]=i,e=(t.mode&1)!==0,n){case"dialog":Re("cancel",r),Re("close",r);break;case"iframe":case"object":case"embed":Re("load",r);break;case"video":case"audio":for(a=0;a<Or.length;a++)Re(Or[a],r);break;case"source":Re("error",r);break;case"img":case"image":case"link":Re("error",r),Re("load",r);break;case"details":Re("toggle",r);break;case"input":$s(r,i),Re("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Re("invalid",r);break;case"textarea":Us(r,i),Re("invalid",r)}Yo(n,i),a=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&Ta(r.textContent,l,e),a=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Ta(r.textContent,l,e),a=["children",""+l]):Gr.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Re("scroll",r)}switch(n){case"input":Ca(r),Os(r,i,!0);break;case"textarea":Ca(r),Hs(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=pi)}r=a,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=kc(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[Mt]=t,e[la]=r,Yf(e,t,!1,!1),t.stateNode=e;e:{switch(o=Ko(n,r),n){case"dialog":Re("cancel",e),Re("close",e),a=r;break;case"iframe":case"object":case"embed":Re("load",e),a=r;break;case"video":case"audio":for(a=0;a<Or.length;a++)Re(Or[a],e);a=r;break;case"source":Re("error",e),a=r;break;case"img":case"image":case"link":Re("error",e),Re("load",e),a=r;break;case"details":Re("toggle",e),a=r;break;case"input":$s(e,r),a=Oo(e,r),Re("invalid",e);break;case"option":a=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=Fe({},r,{value:void 0}),Re("invalid",e);break;case"textarea":Us(e,r),a=jo(e,r),Re("invalid",e);break;default:a=r}Yo(n,a),l=a;for(i in l)if(l.hasOwnProperty(i)){var s=l[i];i==="style"?Sc(e,s):i==="dangerouslySetInnerHTML"?(s=s?s.__html:void 0,s!=null&&Ec(e,s)):i==="children"?typeof s=="string"?(n!=="textarea"||s!=="")&&Jr(e,s):typeof s=="number"&&Jr(e,""+s):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Gr.hasOwnProperty(i)?s!=null&&i==="onScroll"&&Re("scroll",e):s!=null&&Bl(e,i,s,o))}switch(n){case"input":Ca(e),Os(e,r,!1);break;case"textarea":Ca(e),Hs(e);break;case"option":r.value!=null&&e.setAttribute("value",""+xn(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?ir(e,!!r.multiple,i,!1):r.defaultValue!=null&&ir(e,!!r.multiple,r.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=pi)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ge(t),null;case 6:if(e&&t.stateNode!=null)Xf(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(q(166));if(n=Ln(ua.current),Ln(Wt.current),Fa(t)){if(r=t.stateNode,n=t.memoizedProps,r[Mt]=t,(i=r.nodeValue!==n)&&(e=pt,e!==null))switch(e.tag){case 3:Ta(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ta(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Mt]=t,t.stateNode=r}return Ge(t),null;case 13:if(ze(Le),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Pe&&ht!==null&&t.mode&1&&!(t.flags&128))df(),pr(),t.flags|=98560,i=!1;else if(i=Fa(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(q(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(q(317));i[Mt]=t}else pr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ge(t),i=!1}else It!==null&&(Nl(It),It=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Le.current&1?He===0&&(He=3):xs())),t.updateQueue!==null&&(t.flags|=4),Ge(t),null);case 4:return gr(),wl(e,t),e===null&&ia(t.stateNode.containerInfo),Ge(t),null;case 10:return rs(t.type._context),Ge(t),null;case 17:return ut(t.type)&&mi(),Ge(t),null;case 19:if(ze(Le),i=t.memoizedState,i===null)return Ge(t),null;if(r=(t.flags&128)!==0,o=i.rendering,o===null)if(r)Tr(i,!1);else{if(He!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Ei(e),o!==null){for(t.flags|=128,Tr(i,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ce(Le,Le.current&1|2),t.child}e=e.sibling}i.tail!==null&&Me()>vr&&(t.flags|=128,r=!0,Tr(i,!1),t.lanes=4194304)}else{if(!r)if(e=Ei(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Tr(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Pe)return Ge(t),null}else 2*Me()-i.renderingStartTime>vr&&n!==1073741824&&(t.flags|=128,r=!0,Tr(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(n=i.last,n!==null?n.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Me(),t.sibling=null,n=Le.current,Ce(Le,r?n&1|2:n&1),t):(Ge(t),null);case 22:case 23:return ws(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?dt&1073741824&&(Ge(t),t.subtreeFlags&6&&(t.flags|=8192)):Ge(t),null;case 24:return null;case 25:return null}throw Error(q(156,t.tag))}function Hp(e,t){switch(ql(t),t.tag){case 1:return ut(t.type)&&mi(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return gr(),ze(st),ze(qe),ss(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return ls(t),null;case 13:if(ze(Le),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(q(340));pr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ze(Le),null;case 4:return gr(),null;case 10:return rs(t.type._context),null;case 22:case 23:return ws(),null;case 24:return null;default:return null}}var Ba=!1,Je=!1,jp=typeof WeakSet=="function"?WeakSet:Set,oe=null;function rr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){De(e,t,r)}else n.current=null}function xl(e,t,n){try{n()}catch(r){De(e,t,r)}}var Lu=!1;function Vp(e,t){if(rl=fi,e=Jc(),Gl(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var a=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,l=-1,s=-1,c=0,p=0,d=e,g=null;t:for(;;){for(var m;d!==n||a!==0&&d.nodeType!==3||(l=o+a),d!==i||r!==0&&d.nodeType!==3||(s=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(m=d.firstChild)!==null;)g=d,d=m;for(;;){if(d===e)break t;if(g===n&&++c===a&&(l=o),g===i&&++p===r&&(s=o),(m=d.nextSibling)!==null)break;d=g,g=d.parentNode}d=m}n=l===-1||s===-1?null:{start:l,end:s}}else n=null}n=n||{start:0,end:0}}else n=null;for(al={focusedElem:e,selectionRange:n},fi=!1,oe=t;oe!==null;)if(t=oe,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,oe=e;else for(;oe!==null;){t=oe;try{var x=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var v=x.memoizedProps,E=x.memoizedState,f=t.stateNode,h=f.getSnapshotBeforeUpdate(t.elementType===t.type?v:Rt(t.type,v),E);f.__reactInternalSnapshotBeforeUpdate=h}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(q(163))}}catch(S){De(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,oe=e;break}oe=t.return}return x=Lu,Lu=!1,x}function Xr(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var a=r=r.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,i!==void 0&&xl(t,n,i)}a=a.next}while(a!==r)}}function Ui(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function kl(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Zf(e){var t=e.alternate;t!==null&&(e.alternate=null,Zf(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Mt],delete t[la],delete t[ll],delete t[Np],delete t[Rp])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Qf(e){return e.tag===5||e.tag===3||e.tag===4}function Au(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Qf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function El(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=pi));else if(r!==4&&(e=e.child,e!==null))for(El(e,t,n),e=e.sibling;e!==null;)El(e,t,n),e=e.sibling}function _l(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(_l(e,t,n),e=e.sibling;e!==null;)_l(e,t,n),e=e.sibling}var Ke=null,zt=!1;function an(e,t,n){for(n=n.child;n!==null;)Gf(e,t,n),n=n.sibling}function Gf(e,t,n){if(Bt&&typeof Bt.onCommitFiberUnmount=="function")try{Bt.onCommitFiberUnmount(Ti,n)}catch{}switch(n.tag){case 5:Je||rr(n,t);case 6:var r=Ke,a=zt;Ke=null,an(e,t,n),Ke=r,zt=a,Ke!==null&&(zt?(e=Ke,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Ke.removeChild(n.stateNode));break;case 18:Ke!==null&&(zt?(e=Ke,n=n.stateNode,e.nodeType===8?vo(e.parentNode,n):e.nodeType===1&&vo(e,n),na(e)):vo(Ke,n.stateNode));break;case 4:r=Ke,a=zt,Ke=n.stateNode.containerInfo,zt=!0,an(e,t,n),Ke=r,zt=a;break;case 0:case 11:case 14:case 15:if(!Je&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){a=r=r.next;do{var i=a,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&xl(n,t,o),a=a.next}while(a!==r)}an(e,t,n);break;case 1:if(!Je&&(rr(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){De(n,t,l)}an(e,t,n);break;case 21:an(e,t,n);break;case 22:n.mode&1?(Je=(r=Je)||n.memoizedState!==null,an(e,t,n),Je=r):an(e,t,n);break;default:an(e,t,n)}}function Tu(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new jp),t.forEach(function(r){var a=em.bind(null,e,r);n.has(r)||(n.add(r),r.then(a,a))})}}function Nt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var a=n[r];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:Ke=l.stateNode,zt=!1;break e;case 3:Ke=l.stateNode.containerInfo,zt=!0;break e;case 4:Ke=l.stateNode.containerInfo,zt=!0;break e}l=l.return}if(Ke===null)throw Error(q(160));Gf(i,o,a),Ke=null,zt=!1;var s=a.alternate;s!==null&&(s.return=null),a.return=null}catch(c){De(a,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Jf(t,e),t=t.sibling}function Jf(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Nt(t,e),Ft(e),r&4){try{Xr(3,e,e.return),Ui(3,e)}catch(v){De(e,e.return,v)}try{Xr(5,e,e.return)}catch(v){De(e,e.return,v)}}break;case 1:Nt(t,e),Ft(e),r&512&&n!==null&&rr(n,n.return);break;case 5:if(Nt(t,e),Ft(e),r&512&&n!==null&&rr(n,n.return),e.flags&32){var a=e.stateNode;try{Jr(a,"")}catch(v){De(e,e.return,v)}}if(r&4&&(a=e.stateNode,a!=null)){var i=e.memoizedProps,o=n!==null?n.memoizedProps:i,l=e.type,s=e.updateQueue;if(e.updateQueue=null,s!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&wc(a,i),Ko(l,o);var c=Ko(l,i);for(o=0;o<s.length;o+=2){var p=s[o],d=s[o+1];p==="style"?Sc(a,d):p==="dangerouslySetInnerHTML"?Ec(a,d):p==="children"?Jr(a,d):Bl(a,p,d,c)}switch(l){case"input":Uo(a,i);break;case"textarea":xc(a,i);break;case"select":var g=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?ir(a,!!i.multiple,m,!1):g!==!!i.multiple&&(i.defaultValue!=null?ir(a,!!i.multiple,i.defaultValue,!0):ir(a,!!i.multiple,i.multiple?[]:"",!1))}a[la]=i}catch(v){De(e,e.return,v)}}break;case 6:if(Nt(t,e),Ft(e),r&4){if(e.stateNode===null)throw Error(q(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(v){De(e,e.return,v)}}break;case 3:if(Nt(t,e),Ft(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{na(t.containerInfo)}catch(v){De(e,e.return,v)}break;case 4:Nt(t,e),Ft(e);break;case 13:Nt(t,e),Ft(e),a=e.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(ys=Me())),r&4&&Tu(e);break;case 22:if(p=n!==null&&n.memoizedState!==null,e.mode&1?(Je=(c=Je)||p,Nt(t,e),Je=c):Nt(t,e),Ft(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!p&&e.mode&1)for(oe=e,p=e.child;p!==null;){for(d=oe=p;oe!==null;){switch(g=oe,m=g.child,g.tag){case 0:case 11:case 14:case 15:Xr(4,g,g.return);break;case 1:rr(g,g.return);var x=g.stateNode;if(typeof x.componentWillUnmount=="function"){r=g,n=g.return;try{t=r,x.props=t.memoizedProps,x.state=t.memoizedState,x.componentWillUnmount()}catch(v){De(r,n,v)}}break;case 5:rr(g,g.return);break;case 22:if(g.memoizedState!==null){Du(d);continue}}m!==null?(m.return=g,oe=m):Du(d)}p=p.sibling}e:for(p=null,d=e;;){if(d.tag===5){if(p===null){p=d;try{a=d.stateNode,c?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=d.stateNode,s=d.memoizedProps.style,o=s!=null&&s.hasOwnProperty("display")?s.display:null,l.style.display=_c("display",o))}catch(v){De(e,e.return,v)}}}else if(d.tag===6){if(p===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(v){De(e,e.return,v)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;p===d&&(p=null),d=d.return}p===d&&(p=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Nt(t,e),Ft(e),r&4&&Tu(e);break;case 21:break;default:Nt(t,e),Ft(e)}}function Ft(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Qf(n)){var r=n;break e}n=n.return}throw Error(q(160))}switch(r.tag){case 5:var a=r.stateNode;r.flags&32&&(Jr(a,""),r.flags&=-33);var i=Au(e);_l(e,i,a);break;case 3:case 4:var o=r.stateNode.containerInfo,l=Au(e);El(e,l,o);break;default:throw Error(q(161))}}catch(s){De(e,e.return,s)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Yp(e,t,n){oe=e,qf(e)}function qf(e,t,n){for(var r=(e.mode&1)!==0;oe!==null;){var a=oe,i=a.child;if(a.tag===22&&r){var o=a.memoizedState!==null||Ba;if(!o){var l=a.alternate,s=l!==null&&l.memoizedState!==null||Je;l=Ba;var c=Je;if(Ba=o,(Je=s)&&!c)for(oe=a;oe!==null;)o=oe,s=o.child,o.tag===22&&o.memoizedState!==null?Mu(a):s!==null?(s.return=o,oe=s):Mu(a);for(;i!==null;)oe=i,qf(i),i=i.sibling;oe=a,Ba=l,Je=c}Fu(e)}else a.subtreeFlags&8772&&i!==null?(i.return=a,oe=i):Fu(e)}}function Fu(e){for(;oe!==null;){var t=oe;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Je||Ui(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Je)if(n===null)r.componentDidMount();else{var a=t.elementType===t.type?n.memoizedProps:Rt(t.type,n.memoizedProps);r.componentDidUpdate(a,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&wu(t,i,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}wu(t,o,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var s=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":s.autoFocus&&n.focus();break;case"img":s.src&&(n.src=s.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var p=c.memoizedState;if(p!==null){var d=p.dehydrated;d!==null&&na(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(q(163))}Je||t.flags&512&&kl(t)}catch(g){De(t,t.return,g)}}if(t===e){oe=null;break}if(n=t.sibling,n!==null){n.return=t.return,oe=n;break}oe=t.return}}function Du(e){for(;oe!==null;){var t=oe;if(t===e){oe=null;break}var n=t.sibling;if(n!==null){n.return=t.return,oe=n;break}oe=t.return}}function Mu(e){for(;oe!==null;){var t=oe;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Ui(4,t)}catch(s){De(t,n,s)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var a=t.return;try{r.componentDidMount()}catch(s){De(t,a,s)}}var i=t.return;try{kl(t)}catch(s){De(t,i,s)}break;case 5:var o=t.return;try{kl(t)}catch(s){De(t,o,s)}}}catch(s){De(t,t.return,s)}if(t===e){oe=null;break}var l=t.sibling;if(l!==null){l.return=t.return,oe=l;break}oe=t.return}}var Kp=Math.ceil,bi=qt.ReactCurrentDispatcher,ms=qt.ReactCurrentOwner,kt=qt.ReactCurrentBatchConfig,xe=0,Ye=null,$e=null,Xe=0,dt=0,ar=_n(0),He=0,ha=null,Wn=0,Hi=0,gs=0,Zr=null,ot=null,ys=0,vr=1/0,Ot=null,Ci=!1,Sl=null,yn=null,Wa=!1,fn=null,Ni=0,Qr=0,bl=null,ei=-1,ti=0;function tt(){return xe&6?Me():ei!==-1?ei:ei=Me()}function vn(e){return e.mode&1?xe&2&&Xe!==0?Xe&-Xe:Ip.transition!==null?(ti===0&&(ti=Dc()),ti):(e=Se,e!==0||(e=window.event,e=e===void 0?16:Hc(e.type)),e):1}function Lt(e,t,n,r){if(50<Qr)throw Qr=0,bl=null,Error(q(185));ga(e,n,r),(!(xe&2)||e!==Ye)&&(e===Ye&&(!(xe&2)&&(Hi|=n),He===4&&un(e,Xe)),ct(e,r),n===1&&xe===0&&!(t.mode&1)&&(vr=Me()+500,Wi&&Sn()))}function ct(e,t){var n=e.callbackNode;Ih(e,t);var r=ci(e,e===Ye?Xe:0);if(r===0)n!==null&&Ys(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Ys(n),t===1)e.tag===0?zp(Bu.bind(null,e)):uf(Bu.bind(null,e)),bp(function(){!(xe&6)&&Sn()}),n=null;else{switch(Mc(r)){case 1:n=Hl;break;case 4:n=Tc;break;case 16:n=ui;break;case 536870912:n=Fc;break;default:n=ui}n=ld(n,ed.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ed(e,t){if(ei=-1,ti=0,xe&6)throw Error(q(327));var n=e.callbackNode;if(cr()&&e.callbackNode!==n)return null;var r=ci(e,e===Ye?Xe:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Ri(e,r);else{t=r;var a=xe;xe|=2;var i=nd();(Ye!==e||Xe!==t)&&(Ot=null,vr=Me()+500,Tn(e,t));do try{Qp();break}catch(l){td(e,l)}while(!0);ns(),bi.current=i,xe=a,$e!==null?t=0:(Ye=null,Xe=0,t=He)}if(t!==0){if(t===2&&(a=Jo(e),a!==0&&(r=a,t=Cl(e,a))),t===1)throw n=ha,Tn(e,0),un(e,r),ct(e,Me()),n;if(t===6)un(e,r);else{if(a=e.current.alternate,!(r&30)&&!Xp(a)&&(t=Ri(e,r),t===2&&(i=Jo(e),i!==0&&(r=i,t=Cl(e,i))),t===1))throw n=ha,Tn(e,0),un(e,r),ct(e,Me()),n;switch(e.finishedWork=a,e.finishedLanes=r,t){case 0:case 1:throw Error(q(345));case 2:Rn(e,ot,Ot);break;case 3:if(un(e,r),(r&130023424)===r&&(t=ys+500-Me(),10<t)){if(ci(e,0)!==0)break;if(a=e.suspendedLanes,(a&r)!==r){tt(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=ol(Rn.bind(null,e,ot,Ot),t);break}Rn(e,ot,Ot);break;case 4:if(un(e,r),(r&4194240)===r)break;for(t=e.eventTimes,a=-1;0<r;){var o=31-Pt(r);i=1<<o,o=t[o],o>a&&(a=o),r&=~i}if(r=a,r=Me()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Kp(r/1960))-r,10<r){e.timeoutHandle=ol(Rn.bind(null,e,ot,Ot),r);break}Rn(e,ot,Ot);break;case 5:Rn(e,ot,Ot);break;default:throw Error(q(329))}}}return ct(e,Me()),e.callbackNode===n?ed.bind(null,e):null}function Cl(e,t){var n=Zr;return e.current.memoizedState.isDehydrated&&(Tn(e,t).flags|=256),e=Ri(e,t),e!==2&&(t=ot,ot=n,t!==null&&Nl(t)),e}function Nl(e){ot===null?ot=e:ot.push.apply(ot,e)}function Xp(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var a=n[r],i=a.getSnapshot;a=a.value;try{if(!At(i(),a))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function un(e,t){for(t&=~gs,t&=~Hi,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Pt(t),r=1<<n;e[n]=-1,t&=~r}}function Bu(e){if(xe&6)throw Error(q(327));cr();var t=ci(e,0);if(!(t&1))return ct(e,Me()),null;var n=Ri(e,t);if(e.tag!==0&&n===2){var r=Jo(e);r!==0&&(t=r,n=Cl(e,r))}if(n===1)throw n=ha,Tn(e,0),un(e,t),ct(e,Me()),n;if(n===6)throw Error(q(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Rn(e,ot,Ot),ct(e,Me()),null}function vs(e,t){var n=xe;xe|=1;try{return e(t)}finally{xe=n,xe===0&&(vr=Me()+500,Wi&&Sn())}}function $n(e){fn!==null&&fn.tag===0&&!(xe&6)&&cr();var t=xe;xe|=1;var n=kt.transition,r=Se;try{if(kt.transition=null,Se=1,e)return e()}finally{Se=r,kt.transition=n,xe=t,!(xe&6)&&Sn()}}function ws(){dt=ar.current,ze(ar)}function Tn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Sp(n)),$e!==null)for(n=$e.return;n!==null;){var r=n;switch(ql(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&mi();break;case 3:gr(),ze(st),ze(qe),ss();break;case 5:ls(r);break;case 4:gr();break;case 13:ze(Le);break;case 19:ze(Le);break;case 10:rs(r.type._context);break;case 22:case 23:ws()}n=n.return}if(Ye=e,$e=e=wn(e.current,null),Xe=dt=t,He=0,ha=null,gs=Hi=Wn=0,ot=Zr=null,Pn!==null){for(t=0;t<Pn.length;t++)if(n=Pn[t],r=n.interleaved,r!==null){n.interleaved=null;var a=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=a,r.next=o}n.pending=r}Pn=null}return e}function td(e,t){do{var n=$e;try{if(ns(),Ga.current=Si,_i){for(var r=Ae.memoizedState;r!==null;){var a=r.queue;a!==null&&(a.pending=null),r=r.next}_i=!1}if(Bn=0,Ve=Ue=Ae=null,Kr=!1,ca=0,ms.current=null,n===null||n.return===null){He=1,ha=t,$e=null;break}e:{var i=e,o=n.return,l=n,s=t;if(t=Xe,l.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){var c=s,p=l,d=p.tag;if(!(p.mode&1)&&(d===0||d===11||d===15)){var g=p.alternate;g?(p.updateQueue=g.updateQueue,p.memoizedState=g.memoizedState,p.lanes=g.lanes):(p.updateQueue=null,p.memoizedState=null)}var m=bu(o);if(m!==null){m.flags&=-257,Cu(m,o,l,i,t),m.mode&1&&Su(i,c,t),t=m,s=c;var x=t.updateQueue;if(x===null){var v=new Set;v.add(s),t.updateQueue=v}else x.add(s);break e}else{if(!(t&1)){Su(i,c,t),xs();break e}s=Error(q(426))}}else if(Pe&&l.mode&1){var E=bu(o);if(E!==null){!(E.flags&65536)&&(E.flags|=256),Cu(E,o,l,i,t),es(yr(s,l));break e}}i=s=yr(s,l),He!==4&&(He=2),Zr===null?Zr=[i]:Zr.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var f=Bf(i,s,t);vu(i,f);break e;case 1:l=s;var h=i.type,w=i.stateNode;if(!(i.flags&128)&&(typeof h.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(yn===null||!yn.has(w)))){i.flags|=65536,t&=-t,i.lanes|=t;var S=Wf(i,l,t);vu(i,S);break e}}i=i.return}while(i!==null)}ad(n)}catch(_){t=_,$e===n&&n!==null&&($e=n=n.return);continue}break}while(!0)}function nd(){var e=bi.current;return bi.current=Si,e===null?Si:e}function xs(){(He===0||He===3||He===2)&&(He=4),Ye===null||!(Wn&268435455)&&!(Hi&268435455)||un(Ye,Xe)}function Ri(e,t){var n=xe;xe|=2;var r=nd();(Ye!==e||Xe!==t)&&(Ot=null,Tn(e,t));do try{Zp();break}catch(a){td(e,a)}while(!0);if(ns(),xe=n,bi.current=r,$e!==null)throw Error(q(261));return Ye=null,Xe=0,He}function Zp(){for(;$e!==null;)rd($e)}function Qp(){for(;$e!==null&&!kh();)rd($e)}function rd(e){var t=od(e.alternate,e,dt);e.memoizedProps=e.pendingProps,t===null?ad(e):$e=t,ms.current=null}function ad(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Hp(n,t),n!==null){n.flags&=32767,$e=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{He=6,$e=null;return}}else if(n=Up(n,t,dt),n!==null){$e=n;return}if(t=t.sibling,t!==null){$e=t;return}$e=t=e}while(t!==null);He===0&&(He=5)}function Rn(e,t,n){var r=Se,a=kt.transition;try{kt.transition=null,Se=1,Gp(e,t,n,r)}finally{kt.transition=a,Se=r}return null}function Gp(e,t,n,r){do cr();while(fn!==null);if(xe&6)throw Error(q(327));n=e.finishedWork;var a=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(q(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(Ph(e,i),e===Ye&&($e=Ye=null,Xe=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Wa||(Wa=!0,ld(ui,function(){return cr(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=kt.transition,kt.transition=null;var o=Se;Se=1;var l=xe;xe|=4,ms.current=null,Vp(e,n),Jf(n,e),yp(al),fi=!!rl,al=rl=null,e.current=n,Yp(n),Eh(),xe=l,Se=o,kt.transition=i}else e.current=n;if(Wa&&(Wa=!1,fn=e,Ni=a),i=e.pendingLanes,i===0&&(yn=null),bh(n.stateNode),ct(e,Me()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)a=t[n],r(a.value,{componentStack:a.stack,digest:a.digest});if(Ci)throw Ci=!1,e=Sl,Sl=null,e;return Ni&1&&e.tag!==0&&cr(),i=e.pendingLanes,i&1?e===bl?Qr++:(Qr=0,bl=e):Qr=0,Sn(),null}function cr(){if(fn!==null){var e=Mc(Ni),t=kt.transition,n=Se;try{if(kt.transition=null,Se=16>e?16:e,fn===null)var r=!1;else{if(e=fn,fn=null,Ni=0,xe&6)throw Error(q(331));var a=xe;for(xe|=4,oe=e.current;oe!==null;){var i=oe,o=i.child;if(oe.flags&16){var l=i.deletions;if(l!==null){for(var s=0;s<l.length;s++){var c=l[s];for(oe=c;oe!==null;){var p=oe;switch(p.tag){case 0:case 11:case 15:Xr(8,p,i)}var d=p.child;if(d!==null)d.return=p,oe=d;else for(;oe!==null;){p=oe;var g=p.sibling,m=p.return;if(Zf(p),p===c){oe=null;break}if(g!==null){g.return=m,oe=g;break}oe=m}}}var x=i.alternate;if(x!==null){var v=x.child;if(v!==null){x.child=null;do{var E=v.sibling;v.sibling=null,v=E}while(v!==null)}}oe=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,oe=o;else e:for(;oe!==null;){if(i=oe,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Xr(9,i,i.return)}var f=i.sibling;if(f!==null){f.return=i.return,oe=f;break e}oe=i.return}}var h=e.current;for(oe=h;oe!==null;){o=oe;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,oe=w;else e:for(o=h;oe!==null;){if(l=oe,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Ui(9,l)}}catch(_){De(l,l.return,_)}if(l===o){oe=null;break e}var S=l.sibling;if(S!==null){S.return=l.return,oe=S;break e}oe=l.return}}if(xe=a,Sn(),Bt&&typeof Bt.onPostCommitFiberRoot=="function")try{Bt.onPostCommitFiberRoot(Ti,e)}catch{}r=!0}return r}finally{Se=n,kt.transition=t}}return!1}function Wu(e,t,n){t=yr(n,t),t=Bf(e,t,1),e=gn(e,t,1),t=tt(),e!==null&&(ga(e,1,t),ct(e,t))}function De(e,t,n){if(e.tag===3)Wu(e,e,n);else for(;t!==null;){if(t.tag===3){Wu(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(yn===null||!yn.has(r))){e=yr(n,e),e=Wf(t,e,1),t=gn(t,e,1),e=tt(),t!==null&&(ga(t,1,e),ct(t,e));break}}t=t.return}}function Jp(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=tt(),e.pingedLanes|=e.suspendedLanes&n,Ye===e&&(Xe&n)===n&&(He===4||He===3&&(Xe&130023424)===Xe&&500>Me()-ys?Tn(e,0):gs|=n),ct(e,t)}function id(e,t){t===0&&(e.mode&1?(t=za,za<<=1,!(za&130023424)&&(za=4194304)):t=1);var n=tt();e=Qt(e,t),e!==null&&(ga(e,t,n),ct(e,n))}function qp(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),id(e,n)}function em(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,a=e.memoizedState;a!==null&&(n=a.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(q(314))}r!==null&&r.delete(t),id(e,n)}var od;od=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||st.current)lt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return lt=!1,Op(e,t,n);lt=!!(e.flags&131072)}else lt=!1,Pe&&t.flags&1048576&&cf(t,vi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;qa(e,t),e=t.pendingProps;var a=hr(t,qe.current);ur(t,n),a=cs(null,t,r,e,a,n);var i=fs();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ut(r)?(i=!0,gi(t)):i=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,is(t),a.updater=Oi,t.stateNode=a,a._reactInternals=t,hl(t,r,e,n),t=gl(null,t,r,!0,i,n)):(t.tag=0,Pe&&i&&Jl(t),et(null,t,a,n),t=t.child),t;case 16:r=t.elementType;e:{switch(qa(e,t),e=t.pendingProps,a=r._init,r=a(r._payload),t.type=r,a=t.tag=nm(r),e=Rt(r,e),a){case 0:t=ml(null,t,r,e,n);break e;case 1:t=zu(null,t,r,e,n);break e;case 11:t=Nu(null,t,r,e,n);break e;case 14:t=Ru(null,t,r,Rt(r.type,e),n);break e}throw Error(q(306,r,""))}return t;case 0:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:Rt(r,a),ml(e,t,r,a,n);case 1:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:Rt(r,a),zu(e,t,r,a,n);case 3:e:{if(Hf(t),e===null)throw Error(q(387));r=t.pendingProps,i=t.memoizedState,a=i.element,gf(e,t),ki(t,r,null,n);var o=t.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){a=yr(Error(q(423)),t),t=Iu(e,t,r,n,a);break e}else if(r!==a){a=yr(Error(q(424)),t),t=Iu(e,t,r,n,a);break e}else for(ht=mn(t.stateNode.containerInfo.firstChild),pt=t,Pe=!0,It=null,n=pf(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(pr(),r===a){t=Gt(e,t,n);break e}et(e,t,r,n)}t=t.child}return t;case 5:return yf(t),e===null&&cl(t),r=t.type,a=t.pendingProps,i=e!==null?e.memoizedProps:null,o=a.children,il(r,a)?o=null:i!==null&&il(r,i)&&(t.flags|=32),Uf(e,t),et(e,t,o,n),t.child;case 6:return e===null&&cl(t),null;case 13:return jf(e,t,n);case 4:return os(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=mr(t,null,r,n):et(e,t,r,n),t.child;case 11:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:Rt(r,a),Nu(e,t,r,a,n);case 7:return et(e,t,t.pendingProps,n),t.child;case 8:return et(e,t,t.pendingProps.children,n),t.child;case 12:return et(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,a=t.pendingProps,i=t.memoizedProps,o=a.value,Ce(wi,r._currentValue),r._currentValue=o,i!==null)if(At(i.value,o)){if(i.children===a.children&&!st.current){t=Gt(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var s=l.firstContext;s!==null;){if(s.context===r){if(i.tag===1){s=Yt(-1,n&-n),s.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var p=c.pending;p===null?s.next=s:(s.next=p.next,p.next=s),c.pending=s}}i.lanes|=n,s=i.alternate,s!==null&&(s.lanes|=n),fl(i.return,n,t),l.lanes|=n;break}s=s.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(q(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),fl(o,n,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}et(e,t,a.children,n),t=t.child}return t;case 9:return a=t.type,r=t.pendingProps.children,ur(t,n),a=Et(a),r=r(a),t.flags|=1,et(e,t,r,n),t.child;case 14:return r=t.type,a=Rt(r,t.pendingProps),a=Rt(r.type,a),Ru(e,t,r,a,n);case 15:return $f(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:Rt(r,a),qa(e,t),t.tag=1,ut(r)?(e=!0,gi(t)):e=!1,ur(t,n),Mf(t,r,a),hl(t,r,a,n),gl(null,t,r,!0,e,n);case 19:return Vf(e,t,n);case 22:return Of(e,t,n)}throw Error(q(156,t.tag))};function ld(e,t){return Ac(e,t)}function tm(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xt(e,t,n,r){return new tm(e,t,n,r)}function ks(e){return e=e.prototype,!(!e||!e.isReactComponent)}function nm(e){if(typeof e=="function")return ks(e)?1:0;if(e!=null){if(e=e.$$typeof,e===$l)return 11;if(e===Ol)return 14}return 2}function wn(e,t){var n=e.alternate;return n===null?(n=xt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function ni(e,t,n,r,a,i){var o=2;if(r=e,typeof e=="function")ks(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Xn:return Fn(n.children,a,i,t);case Wl:o=8,a|=8;break;case Mo:return e=xt(12,n,t,a|2),e.elementType=Mo,e.lanes=i,e;case Bo:return e=xt(13,n,t,a),e.elementType=Bo,e.lanes=i,e;case Wo:return e=xt(19,n,t,a),e.elementType=Wo,e.lanes=i,e;case gc:return ji(n,a,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case pc:o=10;break e;case mc:o=9;break e;case $l:o=11;break e;case Ol:o=14;break e;case on:o=16,r=null;break e}throw Error(q(130,e==null?e:typeof e,""))}return t=xt(o,n,t,a),t.elementType=e,t.type=r,t.lanes=i,t}function Fn(e,t,n,r){return e=xt(7,e,r,t),e.lanes=n,e}function ji(e,t,n,r){return e=xt(22,e,r,t),e.elementType=gc,e.lanes=n,e.stateNode={isHidden:!1},e}function Co(e,t,n){return e=xt(6,e,null,t),e.lanes=n,e}function No(e,t,n){return t=xt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function rm(e,t,n,r,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=oo(0),this.expirationTimes=oo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=oo(0),this.identifierPrefix=r,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Es(e,t,n,r,a,i,o,l,s){return e=new rm(e,t,n,l,s),t===1?(t=1,i===!0&&(t|=8)):t=0,i=xt(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},is(i),e}function am(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Kn,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function sd(e){if(!e)return kn;e=e._reactInternals;e:{if(Hn(e)!==e||e.tag!==1)throw Error(q(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ut(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(q(171))}if(e.tag===1){var n=e.type;if(ut(n))return sf(e,n,t)}return t}function ud(e,t,n,r,a,i,o,l,s){return e=Es(n,r,!0,e,a,i,o,l,s),e.context=sd(null),n=e.current,r=tt(),a=vn(n),i=Yt(r,a),i.callback=t??null,gn(n,i,a),e.current.lanes=a,ga(e,a,r),ct(e,r),e}function Vi(e,t,n,r){var a=t.current,i=tt(),o=vn(a);return n=sd(n),t.context===null?t.context=n:t.pendingContext=n,t=Yt(i,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=gn(a,t,o),e!==null&&(Lt(e,a,o,i),Qa(e,a,o)),o}function zi(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function $u(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function _s(e,t){$u(e,t),(e=e.alternate)&&$u(e,t)}function im(){return null}var cd=typeof reportError=="function"?reportError:function(e){console.error(e)};function Ss(e){this._internalRoot=e}Yi.prototype.render=Ss.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(q(409));Vi(e,t,null,null)};Yi.prototype.unmount=Ss.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;$n(function(){Vi(null,e,null,null)}),t[Zt]=null}};function Yi(e){this._internalRoot=e}Yi.prototype.unstable_scheduleHydration=function(e){if(e){var t=$c();e={blockedOn:null,target:e,priority:t};for(var n=0;n<sn.length&&t!==0&&t<sn[n].priority;n++);sn.splice(n,0,e),n===0&&Uc(e)}};function bs(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ki(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Ou(){}function om(e,t,n,r,a){if(a){if(typeof r=="function"){var i=r;r=function(){var c=zi(o);i.call(c)}}var o=ud(t,r,e,0,null,!1,!1,"",Ou);return e._reactRootContainer=o,e[Zt]=o.current,ia(e.nodeType===8?e.parentNode:e),$n(),o}for(;a=e.lastChild;)e.removeChild(a);if(typeof r=="function"){var l=r;r=function(){var c=zi(s);l.call(c)}}var s=Es(e,0,!1,null,null,!1,!1,"",Ou);return e._reactRootContainer=s,e[Zt]=s.current,ia(e.nodeType===8?e.parentNode:e),$n(function(){Vi(t,s,n,r)}),s}function Xi(e,t,n,r,a){var i=n._reactRootContainer;if(i){var o=i;if(typeof a=="function"){var l=a;a=function(){var s=zi(o);l.call(s)}}Vi(t,o,e,a)}else o=om(n,t,e,a,r);return zi(o)}Bc=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=$r(t.pendingLanes);n!==0&&(jl(t,n|1),ct(t,Me()),!(xe&6)&&(vr=Me()+500,Sn()))}break;case 13:$n(function(){var r=Qt(e,1);if(r!==null){var a=tt();Lt(r,e,1,a)}}),_s(e,1)}};Vl=function(e){if(e.tag===13){var t=Qt(e,134217728);if(t!==null){var n=tt();Lt(t,e,134217728,n)}_s(e,134217728)}};Wc=function(e){if(e.tag===13){var t=vn(e),n=Qt(e,t);if(n!==null){var r=tt();Lt(n,e,t,r)}_s(e,t)}};$c=function(){return Se};Oc=function(e,t){var n=Se;try{return Se=e,t()}finally{Se=n}};Zo=function(e,t,n){switch(t){case"input":if(Uo(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=Bi(r);if(!a)throw Error(q(90));vc(r),Uo(r,a)}}}break;case"textarea":xc(e,n);break;case"select":t=n.value,t!=null&&ir(e,!!n.multiple,t,!1)}};Nc=vs;Rc=$n;var lm={usingClientEntryPoint:!1,Events:[va,Jn,Bi,bc,Cc,vs]},Fr={findFiberByHostInstance:In,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},sm={bundleType:Fr.bundleType,version:Fr.version,rendererPackageName:Fr.rendererPackageName,rendererConfig:Fr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:qt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Pc(e),e===null?null:e.stateNode},findFiberByHostInstance:Fr.findFiberByHostInstance||im,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $a=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$a.isDisabled&&$a.supportsFiber)try{Ti=$a.inject(sm),Bt=$a}catch{}}gt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=lm;gt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!bs(t))throw Error(q(200));return am(e,t,null,n)};gt.createRoot=function(e,t){if(!bs(e))throw Error(q(299));var n=!1,r="",a=cd;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=Es(e,1,!1,null,null,n,!1,r,a),e[Zt]=t.current,ia(e.nodeType===8?e.parentNode:e),new Ss(t)};gt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(q(188)):(e=Object.keys(e).join(","),Error(q(268,e)));return e=Pc(t),e=e===null?null:e.stateNode,e};gt.flushSync=function(e){return $n(e)};gt.hydrate=function(e,t,n){if(!Ki(t))throw Error(q(200));return Xi(null,e,t,!0,n)};gt.hydrateRoot=function(e,t,n){if(!bs(e))throw Error(q(405));var r=n!=null&&n.hydratedSources||null,a=!1,i="",o=cd;if(n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=ud(t,null,e,1,n??null,a,!1,i,o),e[Zt]=t.current,ia(e),r)for(e=0;e<r.length;e++)n=r[e],a=n._getVersion,a=a(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,a]:t.mutableSourceEagerHydrationData.push(n,a);return new Yi(t)};gt.render=function(e,t,n){if(!Ki(t))throw Error(q(200));return Xi(null,e,t,!1,n)};gt.unmountComponentAtNode=function(e){if(!Ki(e))throw Error(q(40));return e._reactRootContainer?($n(function(){Xi(null,null,e,!1,function(){e._reactRootContainer=null,e[Zt]=null})}),!0):!1};gt.unstable_batchedUpdates=vs;gt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Ki(n))throw Error(q(200));if(e==null||e._reactInternals===void 0)throw Error(q(38));return Xi(e,t,n,!1,r)};gt.version="18.3.1-next-f1338f8080-20240426";function fd(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(fd)}catch(e){console.error(e)}}fd(),cc.exports=gt;var um=cc.exports,Uu=um;Fo.createRoot=Uu.createRoot,Fo.hydrateRoot=Uu.hydrateRoot;/**
 * react-router v7.12.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Hu="popstate";function cm(e={}){function t(r,a){let{pathname:i,search:o,hash:l}=r.location;return Rl("",{pathname:i,search:o,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(r,a){return typeof a=="string"?a:pa(a)}return dm(t,n,null,e)}function Te(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Tt(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function fm(){return Math.random().toString(36).substring(2,10)}function ju(e,t){return{usr:e.state,key:e.key,idx:t}}function Rl(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?br(t):t,state:n,key:t&&t.key||r||fm()}}function pa({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function br(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function dm(e,t,n,r={}){let{window:a=document.defaultView,v5Compat:i=!1}=r,o=a.history,l="POP",s=null,c=p();c==null&&(c=0,o.replaceState({...o.state,idx:c},""));function p(){return(o.state||{idx:null}).idx}function d(){l="POP";let E=p(),f=E==null?null:E-c;c=E,s&&s({action:l,location:v.location,delta:f})}function g(E,f){l="PUSH";let h=Rl(v.location,E,f);c=p()+1;let w=ju(h,c),S=v.createHref(h);try{o.pushState(w,"",S)}catch(_){if(_ instanceof DOMException&&_.name==="DataCloneError")throw _;a.location.assign(S)}i&&s&&s({action:l,location:v.location,delta:1})}function m(E,f){l="REPLACE";let h=Rl(v.location,E,f);c=p();let w=ju(h,c),S=v.createHref(h);o.replaceState(w,"",S),i&&s&&s({action:l,location:v.location,delta:0})}function x(E){return hm(E)}let v={get action(){return l},get location(){return e(a,o)},listen(E){if(s)throw new Error("A history only accepts one active listener");return a.addEventListener(Hu,d),s=E,()=>{a.removeEventListener(Hu,d),s=null}},createHref(E){return t(a,E)},createURL:x,encodeLocation(E){let f=x(E);return{pathname:f.pathname,search:f.search,hash:f.hash}},push:g,replace:m,go(E){return o.go(E)}};return v}function hm(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Te(n,"No window.location.(origin|href) available to create URL");let r=typeof e=="string"?e:pa(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function dd(e,t,n="/"){return pm(e,t,n,!1)}function pm(e,t,n,r){let a=typeof t=="string"?br(t):t,i=Jt(a.pathname||"/",n);if(i==null)return null;let o=hd(e);mm(o);let l=null;for(let s=0;l==null&&s<o.length;++s){let c=Cm(i);l=Sm(o[s],c,r)}return l}function hd(e,t=[],n=[],r="",a=!1){let i=(o,l,s=a,c)=>{let p={relativePath:c===void 0?o.path||"":c,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};if(p.relativePath.startsWith("/")){if(!p.relativePath.startsWith(r)&&s)return;Te(p.relativePath.startsWith(r),`Absolute route path "${p.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(r.length)}let d=Kt([r,p.relativePath]),g=n.concat(p);o.children&&o.children.length>0&&(Te(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${d}".`),hd(o.children,t,g,d,s)),!(o.path==null&&!o.index)&&t.push({path:d,score:Em(d,o.index),routesMeta:g})};return e.forEach((o,l)=>{var s;if(o.path===""||!((s=o.path)!=null&&s.includes("?")))i(o,l);else for(let c of pd(o.path))i(o,l,!0,c)}),t}function pd(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,a=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return a?[i,""]:[i];let o=pd(r.join("/")),l=[];return l.push(...o.map(s=>s===""?i:[i,s].join("/"))),a&&l.push(...o),l.map(s=>e.startsWith("/")&&s===""?"/":s)}function mm(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:_m(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var gm=/^:[\w-]+$/,ym=3,vm=2,wm=1,xm=10,km=-2,Vu=e=>e==="*";function Em(e,t){let n=e.split("/"),r=n.length;return n.some(Vu)&&(r+=km),t&&(r+=vm),n.filter(a=>!Vu(a)).reduce((a,i)=>a+(gm.test(i)?ym:i===""?wm:xm),r)}function _m(e,t){return e.length===t.length&&e.slice(0,-1).every((r,a)=>r===t[a])?e[e.length-1]-t[t.length-1]:0}function Sm(e,t,n=!1){let{routesMeta:r}=e,a={},i="/",o=[];for(let l=0;l<r.length;++l){let s=r[l],c=l===r.length-1,p=i==="/"?t:t.slice(i.length)||"/",d=Ii({path:s.relativePath,caseSensitive:s.caseSensitive,end:c},p),g=s.route;if(!d&&c&&n&&!r[r.length-1].route.index&&(d=Ii({path:s.relativePath,caseSensitive:s.caseSensitive,end:!1},p)),!d)return null;Object.assign(a,d.params),o.push({params:a,pathname:Kt([i,d.pathname]),pathnameBase:Im(Kt([i,d.pathnameBase])),route:g}),d.pathnameBase!=="/"&&(i=Kt([i,d.pathnameBase]))}return o}function Ii(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=bm(e.path,e.caseSensitive,e.end),a=t.match(n);if(!a)return null;let i=a[0],o=i.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:r.reduce((c,{paramName:p,isOptional:d},g)=>{if(p==="*"){let x=l[g]||"";o=i.slice(0,i.length-x.length).replace(/(.)\/+$/,"$1")}const m=l[g];return d&&!m?c[p]=void 0:c[p]=(m||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:o,pattern:e}}function bm(e,t=!1,n=!0){Tt(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,s)=>(r.push({paramName:l,isOptional:s!=null}),s?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(r.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),r]}function Cm(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Tt(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Jt(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}var md=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Nm=e=>md.test(e);function Rm(e,t="/"){let{pathname:n,search:r="",hash:a=""}=typeof e=="string"?br(e):e,i;if(n)if(Nm(n))i=n;else{if(n.includes("//")){let o=n;n=n.replace(/\/\/+/g,"/"),Tt(!1,`Pathnames cannot have embedded double slashes - normalizing ${o} -> ${n}`)}n.startsWith("/")?i=Yu(n.substring(1),"/"):i=Yu(n,t)}else i=t;return{pathname:i,search:Pm(r),hash:Lm(a)}}function Yu(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function Ro(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function zm(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function gd(e){let t=zm(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function yd(e,t,n,r=!1){let a;typeof e=="string"?a=br(e):(a={...e},Te(!a.pathname||!a.pathname.includes("?"),Ro("?","pathname","search",a)),Te(!a.pathname||!a.pathname.includes("#"),Ro("#","pathname","hash",a)),Te(!a.search||!a.search.includes("#"),Ro("#","search","hash",a)));let i=e===""||a.pathname==="",o=i?"/":a.pathname,l;if(o==null)l=n;else{let d=t.length-1;if(!r&&o.startsWith("..")){let g=o.split("/");for(;g[0]==="..";)g.shift(),d-=1;a.pathname=g.join("/")}l=d>=0?t[d]:"/"}let s=Rm(a,l),c=o&&o!=="/"&&o.endsWith("/"),p=(i||o===".")&&n.endsWith("/");return!s.pathname.endsWith("/")&&(c||p)&&(s.pathname+="/"),s}var Kt=e=>e.join("/").replace(/\/\/+/g,"/"),Im=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Pm=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Lm=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,Am=class{constructor(e,t,n,r=!1){this.status=e,this.statusText=t||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function Tm(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}function Fm(e){return e.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var vd=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function wd(e,t){let n=e;if(typeof n!="string"||!md.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let r=n,a=!1;if(vd)try{let i=new URL(window.location.href),o=n.startsWith("//")?new URL(i.protocol+n):new URL(n),l=Jt(o.pathname,t);o.origin===i.origin&&l!=null?n=l+o.search+o.hash:a=!0}catch{Tt(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:a,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var xd=["POST","PUT","PATCH","DELETE"];new Set(xd);var Dm=["GET",...xd];new Set(Dm);var Cr=L.createContext(null);Cr.displayName="DataRouter";var Zi=L.createContext(null);Zi.displayName="DataRouterState";var Mm=L.createContext(!1),kd=L.createContext({isTransitioning:!1});kd.displayName="ViewTransition";var Bm=L.createContext(new Map);Bm.displayName="Fetchers";var Wm=L.createContext(null);Wm.displayName="Await";var St=L.createContext(null);St.displayName="Navigation";var xa=L.createContext(null);xa.displayName="Location";var $t=L.createContext({outlet:null,matches:[],isDataRoute:!1});$t.displayName="Route";var Cs=L.createContext(null);Cs.displayName="RouteError";var Ed="REACT_ROUTER_ERROR",$m="REDIRECT",Om="ROUTE_ERROR_RESPONSE";function Um(e){if(e.startsWith(`${Ed}:${$m}:{`))try{let t=JSON.parse(e.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function Hm(e){if(e.startsWith(`${Ed}:${Om}:{`))try{let t=JSON.parse(e.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new Am(t.status,t.statusText,t.data)}catch{}}function jm(e,{relative:t}={}){Te(ka(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=L.useContext(St),{hash:a,pathname:i,search:o}=Ea(e,{relative:t}),l=i;return n!=="/"&&(l=i==="/"?n:Kt([n,i])),r.createHref({pathname:l,search:o,hash:a})}function ka(){return L.useContext(xa)!=null}function jn(){return Te(ka(),"useLocation() may be used only in the context of a <Router> component."),L.useContext(xa).location}var _d="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Sd(e){L.useContext(St).static||L.useLayoutEffect(e)}function Ns(){let{isDataRoute:e}=L.useContext($t);return e?a0():Vm()}function Vm(){Te(ka(),"useNavigate() may be used only in the context of a <Router> component.");let e=L.useContext(Cr),{basename:t,navigator:n}=L.useContext(St),{matches:r}=L.useContext($t),{pathname:a}=jn(),i=JSON.stringify(gd(r)),o=L.useRef(!1);return Sd(()=>{o.current=!0}),L.useCallback((s,c={})=>{if(Tt(o.current,_d),!o.current)return;if(typeof s=="number"){n.go(s);return}let p=yd(s,JSON.parse(i),a,c.relative==="path");e==null&&t!=="/"&&(p.pathname=p.pathname==="/"?t:Kt([t,p.pathname])),(c.replace?n.replace:n.push)(p,c.state,c)},[t,n,i,a,e])}L.createContext(null);function Ym(){let{matches:e}=L.useContext($t),t=e[e.length-1];return t?t.params:{}}function Ea(e,{relative:t}={}){let{matches:n}=L.useContext($t),{pathname:r}=jn(),a=JSON.stringify(gd(n));return L.useMemo(()=>yd(e,JSON.parse(a),r,t==="path"),[e,a,r,t])}function Km(e,t){return bd(e,t)}function bd(e,t,n,r,a){var h;Te(ka(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=L.useContext(St),{matches:o}=L.useContext($t),l=o[o.length-1],s=l?l.params:{},c=l?l.pathname:"/",p=l?l.pathnameBase:"/",d=l&&l.route;{let w=d&&d.path||"";Nd(c,!d||w.endsWith("*")||w.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${w}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${w}"> to <Route path="${w==="/"?"*":`${w}/*`}">.`)}let g=jn(),m;if(t){let w=typeof t=="string"?br(t):t;Te(p==="/"||((h=w.pathname)==null?void 0:h.startsWith(p)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${w.pathname}" was given in the \`location\` prop.`),m=w}else m=g;let x=m.pathname||"/",v=x;if(p!=="/"){let w=p.replace(/^\//,"").split("/");v="/"+x.replace(/^\//,"").split("/").slice(w.length).join("/")}let E=dd(e,{pathname:v});Tt(d||E!=null,`No routes matched location "${m.pathname}${m.search}${m.hash}" `),Tt(E==null||E[E.length-1].route.element!==void 0||E[E.length-1].route.Component!==void 0||E[E.length-1].route.lazy!==void 0,`Matched leaf route at location "${m.pathname}${m.search}${m.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let f=Jm(E&&E.map(w=>Object.assign({},w,{params:Object.assign({},s,w.params),pathname:Kt([p,i.encodeLocation?i.encodeLocation(w.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?p:Kt([p,i.encodeLocation?i.encodeLocation(w.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:w.pathnameBase])})),o,n,r,a);return t&&f?L.createElement(xa.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...m},navigationType:"POP"}},f):f}function Xm(){let e=r0(),t=Tm(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r},i={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=L.createElement(L.Fragment,null,L.createElement("p",null," Hey developer "),L.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",L.createElement("code",{style:i},"ErrorBoundary")," or"," ",L.createElement("code",{style:i},"errorElement")," prop on your route.")),L.createElement(L.Fragment,null,L.createElement("h2",null,"Unexpected Application Error!"),L.createElement("h3",{style:{fontStyle:"italic"}},t),n?L.createElement("pre",{style:a},n):null,o)}var Zm=L.createElement(Xm,null),Cd=class extends L.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){let e=this.state.error;if(this.context&&typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){const n=Hm(e.digest);n&&(e=n)}let t=e!==void 0?L.createElement($t.Provider,{value:this.props.routeContext},L.createElement(Cs.Provider,{value:e,children:this.props.component})):this.props.children;return this.context?L.createElement(Qm,{error:e},t):t}};Cd.contextType=Mm;var zo=new WeakMap;function Qm({children:e,error:t}){let{basename:n}=L.useContext(St);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let r=Um(t.digest);if(r){let a=zo.get(t);if(a)throw a;let i=wd(r.location,n);if(vd&&!zo.get(t))if(i.isExternal||r.reloadDocument)window.location.href=i.absoluteURL||i.to;else{const o=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(i.to,{replace:r.replace}));throw zo.set(t,o),o}return L.createElement("meta",{httpEquiv:"refresh",content:`0;url=${i.absoluteURL||i.to}`})}}return e}function Gm({routeContext:e,match:t,children:n}){let r=L.useContext(Cr);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),L.createElement($t.Provider,{value:e},n)}function Jm(e,t=[],n=null,r=null,a=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let i=e,o=n==null?void 0:n.errors;if(o!=null){let p=i.findIndex(d=>d.route.id&&(o==null?void 0:o[d.route.id])!==void 0);Te(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),i=i.slice(0,Math.min(i.length,p+1))}let l=!1,s=-1;if(n)for(let p=0;p<i.length;p++){let d=i[p];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(s=p),d.route.id){let{loaderData:g,errors:m}=n,x=d.route.loader&&!g.hasOwnProperty(d.route.id)&&(!m||m[d.route.id]===void 0);if(d.route.lazy||x){l=!0,s>=0?i=i.slice(0,s+1):i=[i[0]];break}}}let c=n&&r?(p,d)=>{var g,m;r(p,{location:n.location,params:((m=(g=n.matches)==null?void 0:g[0])==null?void 0:m.params)??{},unstable_pattern:Fm(n.matches),errorInfo:d})}:void 0;return i.reduceRight((p,d,g)=>{let m,x=!1,v=null,E=null;n&&(m=o&&d.route.id?o[d.route.id]:void 0,v=d.route.errorElement||Zm,l&&(s<0&&g===0?(Nd("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),x=!0,E=null):s===g&&(x=!0,E=d.route.hydrateFallbackElement||null)));let f=t.concat(i.slice(0,g+1)),h=()=>{let w;return m?w=v:x?w=E:d.route.Component?w=L.createElement(d.route.Component,null):d.route.element?w=d.route.element:w=p,L.createElement(Gm,{match:d,routeContext:{outlet:p,matches:f,isDataRoute:n!=null},children:w})};return n&&(d.route.ErrorBoundary||d.route.errorElement||g===0)?L.createElement(Cd,{location:n.location,revalidation:n.revalidation,component:v,error:m,children:h(),routeContext:{outlet:null,matches:f,isDataRoute:!0},onError:c}):h()},null)}function Rs(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function qm(e){let t=L.useContext(Cr);return Te(t,Rs(e)),t}function e0(e){let t=L.useContext(Zi);return Te(t,Rs(e)),t}function t0(e){let t=L.useContext($t);return Te(t,Rs(e)),t}function zs(e){let t=t0(e),n=t.matches[t.matches.length-1];return Te(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function n0(){return zs("useRouteId")}function r0(){var r;let e=L.useContext(Cs),t=e0("useRouteError"),n=zs("useRouteError");return e!==void 0?e:(r=t.errors)==null?void 0:r[n]}function a0(){let{router:e}=qm("useNavigate"),t=zs("useNavigate"),n=L.useRef(!1);return Sd(()=>{n.current=!0}),L.useCallback(async(a,i={})=>{Tt(n.current,_d),n.current&&(typeof a=="number"?await e.navigate(a):await e.navigate(a,{fromRouteId:t,...i}))},[e,t])}var Ku={};function Nd(e,t,n){!t&&!Ku[e]&&(Ku[e]=!0,Tt(!1,n))}L.memo(i0);function i0({routes:e,future:t,state:n,onError:r}){return bd(e,void 0,n,r,t)}function zl(e){Te(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function o0({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:a,static:i=!1,unstable_useTransitions:o}){Te(!ka(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=e.replace(/^\/*/,"/"),s=L.useMemo(()=>({basename:l,navigator:a,static:i,unstable_useTransitions:o,future:{}}),[l,a,i,o]);typeof n=="string"&&(n=br(n));let{pathname:c="/",search:p="",hash:d="",state:g=null,key:m="default"}=n,x=L.useMemo(()=>{let v=Jt(c,l);return v==null?null:{location:{pathname:v,search:p,hash:d,state:g,key:m},navigationType:r}},[l,c,p,d,g,m,r]);return Tt(x!=null,`<Router basename="${l}"> is not able to match the URL "${c}${p}${d}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:L.createElement(St.Provider,{value:s},L.createElement(xa.Provider,{children:t,value:x}))}function l0({children:e,location:t}){return Km(Il(e),t)}function Il(e,t=[]){let n=[];return L.Children.forEach(e,(r,a)=>{if(!L.isValidElement(r))return;let i=[...t,a];if(r.type===L.Fragment){n.push.apply(n,Il(r.props.children,i));return}Te(r.type===zl,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Te(!r.props.index||!r.props.children,"An index route cannot have child routes.");let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Il(r.props.children,i)),n.push(o)}),n}var ri="get",ai="application/x-www-form-urlencoded";function Qi(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement}function s0(e){return Qi(e)&&e.tagName.toLowerCase()==="button"}function u0(e){return Qi(e)&&e.tagName.toLowerCase()==="form"}function c0(e){return Qi(e)&&e.tagName.toLowerCase()==="input"}function f0(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function d0(e,t){return e.button===0&&(!t||t==="_self")&&!f0(e)}var Oa=null;function h0(){if(Oa===null)try{new FormData(document.createElement("form"),0),Oa=!1}catch{Oa=!0}return Oa}var p0=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Io(e){return e!=null&&!p0.has(e)?(Tt(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ai}"`),null):e}function m0(e,t){let n,r,a,i,o;if(u0(e)){let l=e.getAttribute("action");r=l?Jt(l,t):null,n=e.getAttribute("method")||ri,a=Io(e.getAttribute("enctype"))||ai,i=new FormData(e)}else if(s0(e)||c0(e)&&(e.type==="submit"||e.type==="image")){let l=e.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let s=e.getAttribute("formaction")||l.getAttribute("action");if(r=s?Jt(s,t):null,n=e.getAttribute("formmethod")||l.getAttribute("method")||ri,a=Io(e.getAttribute("formenctype"))||Io(l.getAttribute("enctype"))||ai,i=new FormData(l,e),!h0()){let{name:c,type:p,value:d}=e;if(p==="image"){let g=c?`${c}.`:"";i.append(`${g}x`,"0"),i.append(`${g}y`,"0")}else c&&i.append(c,d)}}else{if(Qi(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=ri,r=null,a=ai,o=e}return i&&a==="text/plain"&&(o=i,i=void 0),{action:r,method:n.toLowerCase(),encType:a,formData:i,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Is(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function g0(e,t,n,r){let a=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n?a.pathname.endsWith("/")?a.pathname=`${a.pathname}_.${r}`:a.pathname=`${a.pathname}.${r}`:a.pathname==="/"?a.pathname=`_root.${r}`:t&&Jt(a.pathname,t)==="/"?a.pathname=`${t.replace(/\/$/,"")}/_root.${r}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${r}`,a}async function y0(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function v0(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function w0(e,t,n){let r=await Promise.all(e.map(async a=>{let i=t.routes[a.route.id];if(i){let o=await y0(i,n);return o.links?o.links():[]}return[]}));return _0(r.flat(1).filter(v0).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function Xu(e,t,n,r,a,i){let o=(s,c)=>n[c]?s.route.id!==n[c].route.id:!0,l=(s,c)=>{var p;return n[c].pathname!==s.pathname||((p=n[c].route.path)==null?void 0:p.endsWith("*"))&&n[c].params["*"]!==s.params["*"]};return i==="assets"?t.filter((s,c)=>o(s,c)||l(s,c)):i==="data"?t.filter((s,c)=>{var d;let p=r.routes[s.route.id];if(!p||!p.hasLoader)return!1;if(o(s,c)||l(s,c))return!0;if(s.route.shouldRevalidate){let g=s.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((d=n[0])==null?void 0:d.params)||{},nextUrl:new URL(e,window.origin),nextParams:s.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function x0(e,t,{includeHydrateFallback:n}={}){return k0(e.map(r=>{let a=t.routes[r.route.id];if(!a)return[];let i=[a.module];return a.clientActionModule&&(i=i.concat(a.clientActionModule)),a.clientLoaderModule&&(i=i.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(i=i.concat(a.hydrateFallbackModule)),a.imports&&(i=i.concat(a.imports)),i}).flat(1))}function k0(e){return[...new Set(e)]}function E0(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function _0(e,t){let n=new Set;return new Set(t),e.reduce((r,a)=>{let i=JSON.stringify(E0(a));return n.has(i)||(n.add(i),r.push({key:i,link:a})),r},[])}function Rd(){let e=L.useContext(Cr);return Is(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function S0(){let e=L.useContext(Zi);return Is(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Ps=L.createContext(void 0);Ps.displayName="FrameworkContext";function zd(){let e=L.useContext(Ps);return Is(e,"You must render this element inside a <HydratedRouter> element"),e}function b0(e,t){let n=L.useContext(Ps),[r,a]=L.useState(!1),[i,o]=L.useState(!1),{onFocus:l,onBlur:s,onMouseEnter:c,onMouseLeave:p,onTouchStart:d}=t,g=L.useRef(null);L.useEffect(()=>{if(e==="render"&&o(!0),e==="viewport"){let v=f=>{f.forEach(h=>{o(h.isIntersecting)})},E=new IntersectionObserver(v,{threshold:.5});return g.current&&E.observe(g.current),()=>{E.disconnect()}}},[e]),L.useEffect(()=>{if(r){let v=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(v)}}},[r]);let m=()=>{a(!0)},x=()=>{a(!1),o(!1)};return n?e!=="intent"?[i,g,{}]:[i,g,{onFocus:Dr(l,m),onBlur:Dr(s,x),onMouseEnter:Dr(c,m),onMouseLeave:Dr(p,x),onTouchStart:Dr(d,m)}]:[!1,g,{}]}function Dr(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function C0({page:e,...t}){let{router:n}=Rd(),r=L.useMemo(()=>dd(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?L.createElement(R0,{page:e,matches:r,...t}):null}function N0(e){let{manifest:t,routeModules:n}=zd(),[r,a]=L.useState([]);return L.useEffect(()=>{let i=!1;return w0(e,t,n).then(o=>{i||a(o)}),()=>{i=!0}},[e,t,n]),r}function R0({page:e,matches:t,...n}){let r=jn(),{future:a,manifest:i,routeModules:o}=zd(),{basename:l}=Rd(),{loaderData:s,matches:c}=S0(),p=L.useMemo(()=>Xu(e,t,c,i,r,"data"),[e,t,c,i,r]),d=L.useMemo(()=>Xu(e,t,c,i,r,"assets"),[e,t,c,i,r]),g=L.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let v=new Set,E=!1;if(t.forEach(h=>{var S;let w=i.routes[h.route.id];!w||!w.hasLoader||(!p.some(_=>_.route.id===h.route.id)&&h.route.id in s&&((S=o[h.route.id])!=null&&S.shouldRevalidate)||w.hasClientLoader?E=!0:v.add(h.route.id))}),v.size===0)return[];let f=g0(e,l,a.unstable_trailingSlashAwareDataRequests,"data");return E&&v.size>0&&f.searchParams.set("_routes",t.filter(h=>v.has(h.route.id)).map(h=>h.route.id).join(",")),[f.pathname+f.search]},[l,a.unstable_trailingSlashAwareDataRequests,s,r,i,p,t,e,o]),m=L.useMemo(()=>x0(d,i),[d,i]),x=N0(d);return L.createElement(L.Fragment,null,g.map(v=>L.createElement("link",{key:v,rel:"prefetch",as:"fetch",href:v,...n})),m.map(v=>L.createElement("link",{key:v,rel:"modulepreload",href:v,...n})),x.map(({key:v,link:E})=>L.createElement("link",{key:v,nonce:n.nonce,...E})))}function z0(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var I0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{I0&&(window.__reactRouterVersion="7.12.0")}catch{}function P0({basename:e,children:t,unstable_useTransitions:n,window:r}){let a=L.useRef();a.current==null&&(a.current=cm({window:r,v5Compat:!0}));let i=a.current,[o,l]=L.useState({action:i.action,location:i.location}),s=L.useCallback(c=>{n===!1?l(c):L.startTransition(()=>l(c))},[n]);return L.useLayoutEffect(()=>i.listen(s),[i,s]),L.createElement(o0,{basename:e,children:t,location:o.location,navigationType:o.action,navigator:i,unstable_useTransitions:n})}var Id=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Pd=L.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:a,reloadDocument:i,replace:o,state:l,target:s,to:c,preventScrollReset:p,viewTransition:d,unstable_defaultShouldRevalidate:g,...m},x){let{basename:v,unstable_useTransitions:E}=L.useContext(St),f=typeof c=="string"&&Id.test(c),h=wd(c,v);c=h.to;let w=jm(c,{relative:a}),[S,_,A]=b0(r,m),F=F0(c,{replace:o,state:l,target:s,preventScrollReset:p,relative:a,viewTransition:d,unstable_defaultShouldRevalidate:g,unstable_useTransitions:E});function W(b){t&&t(b),b.defaultPrevented||F(b)}let D=L.createElement("a",{...m,...A,href:h.absoluteURL||w,onClick:h.isExternal||i?t:W,ref:z0(x,_),target:s,"data-discover":!f&&n==="render"?"true":void 0});return S&&!f?L.createElement(L.Fragment,null,D,L.createElement(C0,{page:w})):D});Pd.displayName="Link";var L0=L.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:a=!1,style:i,to:o,viewTransition:l,children:s,...c},p){let d=Ea(o,{relative:c.relative}),g=jn(),m=L.useContext(Zi),{navigator:x,basename:v}=L.useContext(St),E=m!=null&&$0(d)&&l===!0,f=x.encodeLocation?x.encodeLocation(d).pathname:d.pathname,h=g.pathname,w=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;n||(h=h.toLowerCase(),w=w?w.toLowerCase():null,f=f.toLowerCase()),w&&v&&(w=Jt(w,v)||w);const S=f!=="/"&&f.endsWith("/")?f.length-1:f.length;let _=h===f||!a&&h.startsWith(f)&&h.charAt(S)==="/",A=w!=null&&(w===f||!a&&w.startsWith(f)&&w.charAt(f.length)==="/"),F={isActive:_,isPending:A,isTransitioning:E},W=_?t:void 0,D;typeof r=="function"?D=r(F):D=[r,_?"active":null,A?"pending":null,E?"transitioning":null].filter(Boolean).join(" ");let b=typeof i=="function"?i(F):i;return L.createElement(Pd,{...c,"aria-current":W,className:D,ref:p,style:b,to:o,viewTransition:l},typeof s=="function"?s(F):s)});L0.displayName="NavLink";var A0=L.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:a,state:i,method:o=ri,action:l,onSubmit:s,relative:c,preventScrollReset:p,viewTransition:d,unstable_defaultShouldRevalidate:g,...m},x)=>{let{unstable_useTransitions:v}=L.useContext(St),E=B0(),f=W0(l,{relative:c}),h=o.toLowerCase()==="get"?"get":"post",w=typeof l=="string"&&Id.test(l),S=_=>{if(s&&s(_),_.defaultPrevented)return;_.preventDefault();let A=_.nativeEvent.submitter,F=(A==null?void 0:A.getAttribute("formmethod"))||o,W=()=>E(A||_.currentTarget,{fetcherKey:t,method:F,navigate:n,replace:a,state:i,relative:c,preventScrollReset:p,viewTransition:d,unstable_defaultShouldRevalidate:g});v&&n!==!1?L.startTransition(()=>W()):W()};return L.createElement("form",{ref:x,method:h,action:f,onSubmit:r?s:S,...m,"data-discover":!w&&e==="render"?"true":void 0})});A0.displayName="Form";function T0(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Ld(e){let t=L.useContext(Cr);return Te(t,T0(e)),t}function F0(e,{target:t,replace:n,state:r,preventScrollReset:a,relative:i,viewTransition:o,unstable_defaultShouldRevalidate:l,unstable_useTransitions:s}={}){let c=Ns(),p=jn(),d=Ea(e,{relative:i});return L.useCallback(g=>{if(d0(g,t)){g.preventDefault();let m=n!==void 0?n:pa(p)===pa(d),x=()=>c(e,{replace:m,state:r,preventScrollReset:a,relative:i,viewTransition:o,unstable_defaultShouldRevalidate:l});s?L.startTransition(()=>x()):x()}},[p,c,d,n,r,t,e,a,i,o,l,s])}var D0=0,M0=()=>`__${String(++D0)}__`;function B0(){let{router:e}=Ld("useSubmit"),{basename:t}=L.useContext(St),n=n0(),r=e.fetch,a=e.navigate;return L.useCallback(async(i,o={})=>{let{action:l,method:s,encType:c,formData:p,body:d}=m0(i,t);if(o.navigate===!1){let g=o.fetcherKey||M0();await r(g,n,o.action||l,{unstable_defaultShouldRevalidate:o.unstable_defaultShouldRevalidate,preventScrollReset:o.preventScrollReset,formData:p,body:d,formMethod:o.method||s,formEncType:o.encType||c,flushSync:o.flushSync})}else await a(o.action||l,{unstable_defaultShouldRevalidate:o.unstable_defaultShouldRevalidate,preventScrollReset:o.preventScrollReset,formData:p,body:d,formMethod:o.method||s,formEncType:o.encType||c,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,a,t,n])}function W0(e,{relative:t}={}){let{basename:n}=L.useContext(St),r=L.useContext($t);Te(r,"useFormAction must be used inside a RouteContext");let[a]=r.matches.slice(-1),i={...Ea(e||".",{relative:t})},o=jn();if(e==null){i.search=o.search;let l=new URLSearchParams(i.search),s=l.getAll("index");if(s.some(p=>p==="")){l.delete("index"),s.filter(d=>d).forEach(d=>l.append("index",d));let p=l.toString();i.search=p?`?${p}`:""}}return(!e||e===".")&&a.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(i.pathname=i.pathname==="/"?n:Kt([n,i.pathname])),pa(i)}function $0(e,{relative:t}={}){let n=L.useContext(kd);Te(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=Ld("useViewTransitionState"),a=Ea(e,{relative:t});if(!n.isTransitioning)return!1;let i=Jt(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=Jt(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Ii(a.pathname,o)!=null||Ii(a.pathname,i)!=null}const je="http://localhost:8020";function O0(){const[e,t]=L.useState([]),[n,r]=L.useState(!0),a=Ns(),i=L.useRef(null);L.useEffect(()=>{o()},[]);const o=async()=>{try{const d=await(await fetch(`${je}/api/projects`)).json();d.status==="success"&&t(d.projects)}catch(p){console.error(":",p)}finally{r(!1)}},l=async()=>{const p=prompt("","");if(p)try{const g=await(await fetch(`${je}/api/projects/create`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:p})})).json();g.status==="success"&&a(`/project/${g.project.id}`)}catch(d){alert(": "+d.message)}},s=()=>{i.current.click()},c=async p=>{const d=p.target.files[0];if(!d)return;const g=new FormData;g.append("file",d);try{r(!0);const x=await(await fetch(`${je}/api/projects/import`,{method:"POST",body:g})).json();x.status==="success"?o():alert(": "+(x.detail||""))}catch(m){alert(": "+m.message)}finally{r(!1),i.current&&(i.current.value="")}};return u.createElement("div",{style:it.container},u.createElement("input",{type:"file",ref:i,style:{display:"none"},accept:".zip",onChange:c}),u.createElement("header",{style:it.header},u.createElement("h1",{style:it.title},""),u.createElement("div",{style:it.actions},u.createElement("button",{onClick:s,style:it.secondaryBtn},""),u.createElement("button",{onClick:l,style:it.primaryBtn},"+ "))),n?u.createElement("div",{style:it.loading},"..."):u.createElement("div",{style:it.grid},e.length===0&&u.createElement("div",{style:it.empty},""),e.map(p=>u.createElement("div",{key:p.id,style:it.card,onClick:()=>a(`/project/${p.id}`)},u.createElement("div",{style:it.cardPreview},u.createElement("span",{style:{fontSize:"40px"}},"")),u.createElement("div",{style:it.cardInfo},u.createElement("h3",{style:it.cardTitle},p.name),u.createElement("p",{style:it.cardDate},": ",p.updated_at))))))}const it={container:{padding:"40px",maxWidth:"1200px",margin:"0 auto",fontFamily:"sans-serif"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"40px"},title:{margin:0,color:"#333"},actions:{display:"flex",gap:"10px"},primaryBtn:{padding:"10px 20px",background:"#007AFF",color:"#fff",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"16px"},secondaryBtn:{padding:"10px 20px",background:"#f0f0f0",color:"#333",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"16px"},grid:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(240px, 1fr))",gap:"24px"},card:{border:"1px solid #eee",borderRadius:"12px",overflow:"hidden",cursor:"pointer",transition:"transform 0.2s, box-shadow 0.2s",background:"#fff",boxShadow:"0 2px 8px rgba(0,0,0,0.05)"},cardPreview:{height:"160px",background:"#f8f9fa",display:"flex",alignItems:"center",justifyContent:"center",borderBottom:"1px solid #eee"},cardInfo:{padding:"16px"},cardTitle:{margin:"0 0 8px 0",fontSize:"16px",fontWeight:"600"},cardDate:{margin:0,fontSize:"12px",color:"#999"},loading:{textAlign:"center",color:"#666",marginTop:"50px"},empty:{gridColumn:"1 / -1",textAlign:"center",padding:"40px",color:"#999",background:"#f9f9f9",borderRadius:"8px"}};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var U0={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H0=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),fe=(e,t)=>{const n=L.forwardRef(({color:r="currentColor",size:a=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:l="",children:s,...c},p)=>L.createElement("svg",{ref:p,...U0,width:a,height:a,stroke:r,strokeWidth:o?Number(i)*24/Number(a):i,className:["lucide",`lucide-${H0(e)}`,l].join(" "),...c},[...t.map(([d,g])=>L.createElement(d,g)),...Array.isArray(s)?s:[s]]));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pl=fe("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j0=fe("AlignCenter",[["line",{x1:"21",x2:"3",y1:"6",y2:"6",key:"1fp77t"}],["line",{x1:"17",x2:"7",y1:"12",y2:"12",key:"rsh8ii"}],["line",{x1:"19",x2:"5",y1:"18",y2:"18",key:"1t0tuv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V0=fe("AlignLeft",[["line",{x1:"21",x2:"3",y1:"6",y2:"6",key:"1fp77t"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}],["line",{x1:"17",x2:"3",y1:"18",y2:"18",key:"1awlsn"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y0=fe("AlignRight",[["line",{x1:"21",x2:"3",y1:"6",y2:"6",key:"1fp77t"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}],["line",{x1:"21",x2:"7",y1:"18",y2:"18",key:"1g9eri"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K0=fe("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X0=fe("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ad=fe("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z0=fe("Bold",[["path",{d:"M14 12a4 4 0 0 0 0-8H6v8",key:"v2sylx"}],["path",{d:"M15 20a4 4 0 0 0 0-8H6v8Z",key:"1ef5ya"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q0=fe("BoxSelect",[["path",{d:"M5 3a2 2 0 0 0-2 2",key:"y57alp"}],["path",{d:"M19 3a2 2 0 0 1 2 2",key:"18rm91"}],["path",{d:"M21 19a2 2 0 0 1-2 2",key:"1j7049"}],["path",{d:"M5 21a2 2 0 0 1-2-2",key:"sbafld"}],["path",{d:"M9 3h1",key:"1yesri"}],["path",{d:"M9 21h1",key:"15o7lz"}],["path",{d:"M14 3h1",key:"1ec4yj"}],["path",{d:"M14 21h1",key:"v9vybs"}],["path",{d:"M3 9v1",key:"1r0deq"}],["path",{d:"M21 9v1",key:"mxsmne"}],["path",{d:"M3 14v1",key:"vnatye"}],["path",{d:"M21 14v1",key:"169vum"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G0=fe("Box",[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J0=fe("Brush",[["path",{d:"m9.06 11.9 8.07-8.06a2.85 2.85 0 1 1 4.03 4.03l-8.06 8.08",key:"1styjt"}],["path",{d:"M7.07 14.94c-1.66 0-3 1.35-3 3.02 0 1.33-2.5 1.52-2 2.02 1.08 1.1 2.49 2.02 4 2.02 2.2 0 4-1.8 4-4.04a3.01 3.01 0 0 0-3-3.02z",key:"z0l1mu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Td=fe("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fr=fe("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q0=fe("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eg=fe("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tg=fe("CircleDashed",[["path",{d:"M10.1 2.182a10 10 0 0 1 3.8 0",key:"5ilxe3"}],["path",{d:"M13.9 21.818a10 10 0 0 1-3.8 0",key:"11zvb9"}],["path",{d:"M17.609 3.721a10 10 0 0 1 2.69 2.7",key:"1iw5b2"}],["path",{d:"M2.182 13.9a10 10 0 0 1 0-3.8",key:"c0bmvh"}],["path",{d:"M20.279 17.609a10 10 0 0 1-2.7 2.69",key:"1ruxm7"}],["path",{d:"M21.818 10.1a10 10 0 0 1 0 3.8",key:"qkgqxc"}],["path",{d:"M3.721 6.391a10 10 0 0 1 2.7-2.69",key:"1mcia2"}],["path",{d:"M6.391 20.279a10 10 0 0 1-2.69-2.7",key:"1fvljs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ng=fe("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rg=fe("Cpu",[["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"9",y:"9",width:"6",height:"6",key:"o3kz5p"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ag=fe("Crop",[["path",{d:"M6 2v14a2 2 0 0 0 2 2h14",key:"ron5a4"}],["path",{d:"M18 22V8a2 2 0 0 0-2-2H2",key:"7s9ehn"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fd=fe("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dd=fe("FileJson",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 12a1 1 0 0 0-1 1v1a1 1 0 0 1-1 1 1 1 0 0 1 1 1v1a1 1 0 0 0 1 1",key:"1oajmo"}],["path",{d:"M14 18a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1 1 1 0 0 1-1-1v-1a1 1 0 0 0-1-1",key:"mpwhp6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ig=fe("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const og=fe("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lg=fe("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wr=fe("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pi=fe("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Li=fe("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sg=fe("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Md=fe("Loader",[["line",{x1:"12",x2:"12",y1:"2",y2:"6",key:"gza1u7"}],["line",{x1:"12",x2:"12",y1:"18",y2:"22",key:"1qhbu9"}],["line",{x1:"4.93",x2:"7.76",y1:"4.93",y2:"7.76",key:"xae44r"}],["line",{x1:"16.24",x2:"19.07",y1:"16.24",y2:"19.07",key:"bxnmvf"}],["line",{x1:"2",x2:"6",y1:"12",y2:"12",key:"89khin"}],["line",{x1:"18",x2:"22",y1:"12",y2:"12",key:"pb8tfm"}],["line",{x1:"4.93",x2:"7.76",y1:"19.07",y2:"16.24",key:"1uxjnu"}],["line",{x1:"16.24",x2:"19.07",y1:"7.76",y2:"4.93",key:"6duxfx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Po=fe("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const On=fe("Maximize",[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ug=fe("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cg=fe("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fg=fe("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dg=fe("MousePointer2",[["path",{d:"m4 4 7.07 17 2.51-7.39L21 11.07z",key:"1vqm48"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hg=fe("Move",[["polyline",{points:"5 9 2 12 5 15",key:"1r5uj5"}],["polyline",{points:"9 5 12 2 15 5",key:"5v383o"}],["polyline",{points:"15 19 12 22 9 19",key:"g7qi8m"}],["polyline",{points:"19 9 22 12 19 15",key:"tpp73q"}],["line",{x1:"2",x2:"22",y1:"12",y2:"12",key:"1dnqot"}],["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pg=fe("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mg=fe("PenTool",[["path",{d:"m12 19 7-7 3 3-7 7-3-3z",key:"rklqx2"}],["path",{d:"m18 13-1.5-7.5L2 2l3.5 14.5L13 18l5-5z",key:"1et58u"}],["path",{d:"m2 2 7.586 7.586",key:"etlp93"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gg=fe("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ai=fe("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yg=fe("Redo2",[["path",{d:"m15 14 5-5-5-5",key:"12vg1m"}],["path",{d:"M20 9H9.5A5.5 5.5 0 0 0 4 14.5v0A5.5 5.5 0 0 0 9.5 20H13",key:"19mnr4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vg=fe("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bd=fe("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wg=fe("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xg=fe("Scissors",[["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M8.12 8.12 12 12",key:"1alkpv"}],["path",{d:"M20 4 8.12 15.88",key:"xgtan2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M14.8 14.8 20 20",key:"ptml3r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gi=fe("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kg=fe("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eg=fe("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wd=fe("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xr=fe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _g=fe("Triangle",[["path",{d:"M13.73 4a2 2 0 0 0-3.46 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"14u9p9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kr=fe("Type",[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sg=fe("Undo2",[["path",{d:"M9 14 4 9l5-5",key:"102s5s"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5v0a5.5 5.5 0 0 1-5.5 5.5H11",key:"llx8ln"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lo=fe("Unlock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bg=fe("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $d=fe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ii=fe("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),Cg=({activeTool:e,onToolSelect:t,onAddObject:n})=>{const r=[{id:"select",icon:u.createElement(dg,{size:20}),label:"",type:"mode"},{id:"frame",icon:u.createElement(Li,{size:20}),label:"",type:"action"},{id:"image",icon:u.createElement(wr,{size:20}),label:"",type:"action"},{id:"text",icon:u.createElement(kr,{size:20}),label:"",type:"action"},{id:"shape",icon:u.createElement(Wd,{size:20}),label:"",type:"action"},{id:"spline",icon:u.createElement(mg,{size:20}),label:"",type:"mode"},{id:"draw",icon:u.createElement(J0,{size:20}),label:"",type:"mode"}];return u.createElement("aside",{className:"h-screen w-[72px] bg-white border-r border-gray-200 flex flex-col items-center py-6 select-none z-50 shrink-0"},u.createElement("div",{className:"flex-1 flex flex-col justify-center gap-4 w-full px-3"},r.map(a=>u.createElement("button",{key:a.id,onClick:i=>{a.type==="mode"?t(a.id):(n(a.id),t("select"))},className:`
              group relative flex items-center justify-center w-full aspect-square rounded-xl transition-all duration-200
              ${e===a.id?"bg-black text-white shadow-md":"text-gray-500 hover:bg-gray-100"}
            `},a.icon,u.createElement("span",{className:"absolute left-14 bg-gray-800 text-white text-xs px-2 py-1 rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap pointer-events-none z-50"},a.label)))),u.createElement("div",{className:"mt-auto flex flex-col gap-4 px-3 w-full"},u.createElement("button",{className:"flex items-center justify-center w-full aspect-square rounded-xl text-gray-500 hover:bg-gray-100",title:""},u.createElement(Gi,{size:20}))))},Ng=({fileName:e,setFileName:t,onUndo:n,onRedo:r,canUndo:a,canRedo:i,onSaveStructure:o,onPackProject:l,onOpen:s,onBack:c,saveStatus:p,onShowHelp:d})=>{const g=L.useRef(null),m=x=>{const v=x.target.files[0];v&&s(v),x.target.value=""};return u.createElement("header",{className:"h-16 bg-white border-b border-gray-200 flex items-center justify-between px-4 z-40 select-none shrink-0 relative"},u.createElement("input",{type:"file",ref:g,onChange:m,accept:".zip,.canvas,.json",className:"hidden"}),u.createElement("div",{className:"flex items-center gap-4 w-1/3"},u.createElement("button",{onClick:c,className:"text-gray-500 hover:text-blue-600 transition-colors p-1 rounded hover:bg-gray-100",title:""},u.createElement(X0,{size:20})),u.createElement("div",{className:"h-6 w-px bg-gray-200"}),u.createElement("div",{className:"flex items-center gap-1 group border-b border-transparent hover:border-gray-300 transition-colors"},u.createElement("input",{type:"text",value:e,onChange:x=>t(x.target.value),className:"font-semibold text-gray-800 text-sm bg-transparent outline-none w-auto min-w-[120px]"}))),u.createElement("div",{className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 flex items-center gap-1 bg-gray-50 p-1 rounded-lg border border-gray-100"},u.createElement("button",{onClick:n,disabled:!a,className:`p-2 rounded-md transition-all ${a?"text-gray-500 hover:bg-white":"text-gray-300"}`},u.createElement(Sg,{size:18})),u.createElement("div",{className:"w-px h-4 bg-gray-200 mx-1"}),u.createElement("button",{onClick:r,disabled:!i,className:`p-2 rounded-md transition-all ${i?"text-gray-500 hover:bg-white":"text-gray-300"}`},u.createElement(yg,{size:18}))),u.createElement("div",{className:"flex items-center gap-2 w-1/3 justify-end"},u.createElement("span",{className:"text-xs text-gray-400 font-mono mr-2 select-none"},p==="Synced"&&"",p==="Saving"&&"...",p==="Unsaved"&&"...",p==="Error"&&""),u.createElement("button",{onClick:()=>g.current.click(),className:"flex items-center gap-2 px-3 py-2 text-gray-700 hover:bg-gray-100 rounded-lg text-sm font-medium transition-colors"},u.createElement(og,{size:16})," "),u.createElement("div",{className:"w-px h-6 bg-gray-200 mx-1"}),u.createElement("button",{onClick:o,className:"flex items-center gap-2 px-3 py-2 text-gray-700 hover:bg-gray-100 rounded-lg text-sm font-medium transition-colors",title:" (JSON)"},u.createElement(Dd,{size:16})," "),u.createElement("button",{onClick:l,className:"flex items-center gap-2 px-4 py-2 bg-black text-white rounded-lg hover:bg-gray-800 shadow-sm text-sm font-medium transition-colors",title:" (ZIP)"},u.createElement(pg,{size:16})," "),u.createElement("div",{className:"w-px h-6 bg-gray-200 mx-1"}),u.createElement("button",{onClick:d,className:"p-2 text-gray-500 hover:text-blue-600 transition-colors rounded-full hover:bg-gray-100",title:""},u.createElement(lg,{size:20}))))},Rg=({isOpen:e,onClose:t,onSave:n,initialData:r=null})=>{const[a,i]=L.useState(""),[o,l]=L.useState(""),[s,c]=L.useState(""),p=L.useRef(null),[d,g]=L.useState([]),[m,x]=L.useState({image:{nodeId:"",fieldName:"image"},mask:{nodeId:"",fieldName:"image"},prompt:{nodeId:"",fieldName:"value"}}),[v,E]=L.useState([]);L.useEffect(()=>{if(e)if(r){i(r.name||""),l(r.json||""),c(r.jsonFilename||""),r.outputNodes&&Array.isArray(r.outputNodes)?g(r.outputNodes.map((C,$)=>({id:Date.now()+$,name:C.name||"",nodeId:C.nodeId||""}))):r.outputNodeId?g([{id:Date.now(),name:"Output",nodeId:r.outputNodeId||""}]):g([]);const b={image:{nodeId:"",fieldName:"image"},mask:{nodeId:"",fieldName:"image"},prompt:{nodeId:"",fieldName:"value"}},K=[];(r.mappings||[]).forEach(C=>{const $=C.slot_name==="base_image"?"image":C.slot_name;if(["image","mask","prompt"].includes($)){const k=b[$].fieldName;b[$]={nodeId:C.node_id||"",fieldName:C.field_name||k}}else K.push({id:Date.now()+Math.random(),name:C.slot_name,nodeId:C.node_id||"",fieldName:C.field_name||""})}),x(b),E(K)}else i(""),l(""),c(""),g([{id:Date.now(),name:"Output",nodeId:""}]),x({image:{nodeId:"",fieldName:"image"},mask:{nodeId:"",fieldName:"image"},prompt:{nodeId:"",fieldName:"value"}}),E([])},[e,r]);const f=b=>{const K=b.target.files[0];if(!K)return;c(K.name),a||i(K.name.replace(/\.json$/i,""));const C=new FileReader;C.onload=$=>{l($.target.result)},C.readAsText(K)},h=()=>{g([...d,{id:Date.now(),name:"",nodeId:""}])},w=b=>{g(d.filter(K=>K.id!==b))},S=(b,K,C)=>{g(d.map($=>$.id===b?{...$,[K]:C}:$))},_=(b,K,C)=>{x($=>({...$,[b]:{...$[b],[K]:C}}))},A=()=>{E([...v,{id:Date.now(),name:"",nodeId:""}])},F=b=>{E(v.filter(K=>K.id!==b))},W=(b,K,C)=>{E(v.map($=>$.id===b?{...$,[K]:C}:$))},D=()=>{const b=[];Object.entries(m).forEach(([$,k])=>{k.nodeId&&k.nodeId.trim()!==""&&b.push({slot_name:$,node_id:k.nodeId.trim(),field_name:k.fieldName.trim()})}),v.forEach($=>{$.name&&$.nodeId&&b.push({slot_name:$.name.trim(),node_id:$.nodeId.trim(),field_name:$.fieldName.trim()})});const K=d.filter($=>$.nodeId&&$.nodeId.trim()!=="").map($=>({name:$.name.trim(),nodeId:$.nodeId.trim()})),C={...r||{},id:(r==null?void 0:r.id)||Date.now().toString(),type:"comfy",name:a,json:o,jsonFilename:s,outputNodes:K,outputNodeId:K.length>0?K[0].nodeId:"",mappings:b};n(C),t()};return e?u.createElement("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm"},u.createElement("div",{className:"bg-white w-[800px] max-h-[90vh] rounded-xl shadow-2xl flex flex-col overflow-hidden"},u.createElement("div",{className:"px-6 py-4 border-b border-gray-100 flex justify-between items-center bg-gray-50"},u.createElement("div",{className:"flex items-center gap-2"},u.createElement(Gi,{className:"text-blue-600",size:20}),u.createElement("h2",{className:"text-lg font-semibold text-gray-800"},r?"":"")),u.createElement("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors"},u.createElement($d,{size:20}))),u.createElement("div",{className:"flex-1 overflow-y-auto p-6 space-y-6"},u.createElement("div",{className:"space-y-4"},u.createElement("div",null,u.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},""),u.createElement("input",{type:"text",value:a,onChange:b=>i(b.target.value),placeholder:"SDXL ",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all"})),u.createElement("div",null,u.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"}," (.json)"),u.createElement("input",{type:"file",ref:p,onChange:f,accept:".json",className:"hidden"}),u.createElement("div",{className:"flex items-center gap-3"},u.createElement("button",{onClick:()=>p.current.click(),className:"flex items-center gap-2 px-4 py-2 bg-white border border-gray-300 rounded-lg text-sm text-gray-700 hover:bg-gray-50 transition-colors shadow-sm"},u.createElement(bg,{size:16}),s?"":""),s&&u.createElement("span",{className:"text-sm text-gray-600 flex items-center gap-1"},u.createElement(Dd,{size:14})," ",s),!s&&!o&&u.createElement("span",{className:"text-xs text-gray-400"}," ComfyUI  API  JSON")),o&&u.createElement("div",{className:"mt-2 text-[10px] text-gray-400 truncate font-mono"},": ",o.substring(0,60),"..."))),u.createElement("hr",{className:"border-gray-100"}),u.createElement("div",null,u.createElement("h3",{className:"text-md font-semibold text-gray-800 mb-3 flex items-center gap-2"},u.createElement(Pi,{size:18,className:"text-purple-500"}),"  (Input Mappings)"),u.createElement("p",{className:"text-sm text-gray-500 mb-4"}," ComfyUI  ID"),u.createElement("div",{className:"bg-blue-50/50 rounded-lg p-4 border border-blue-100 mb-4"},u.createElement("h4",{className:"text-xs font-bold text-blue-600 uppercase tracking-wider mb-3"}," (Fixed Slots)"),u.createElement("div",{className:"space-y-3"},u.createElement("div",{className:"flex items-center gap-4"},u.createElement("div",{className:"w-32 text-sm font-medium text-gray-700 flex items-center gap-2"},u.createElement(ii,{size:14,className:"text-orange-500"}),"  (Image)"),u.createElement("div",{className:"flex-1 flex gap-2"},u.createElement("input",{type:"text",value:m.image.nodeId,onChange:b=>_("image","nodeId",b.target.value),placeholder:" ID ( 10)",className:"flex-1 px-3 py-1.5 border border-gray-300 rounded bg-white focus:border-blue-500 outline-none text-sm min-w-0"}),u.createElement("input",{type:"text",value:m.image.fieldName,onChange:b=>_("image","fieldName",b.target.value),placeholder:" ( image)",className:"w-24 px-3 py-1.5 border border-gray-300 rounded bg-white focus:border-blue-500 outline-none text-sm"})),u.createElement("div",{className:"w-8"})),u.createElement("div",{className:"flex items-center gap-4"},u.createElement("div",{className:"w-32 text-sm font-medium text-gray-700 flex items-center gap-2"},u.createElement(Pi,{size:14,className:"text-gray-500"}),"  (Mask)"),u.createElement("div",{className:"flex-1 flex gap-2"},u.createElement("input",{type:"text",value:m.mask.nodeId,onChange:b=>_("mask","nodeId",b.target.value),placeholder:" ID ()",className:"flex-1 px-3 py-1.5 border border-gray-300 rounded bg-white focus:border-blue-500 outline-none text-sm min-w-0"}),u.createElement("input",{type:"text",value:m.mask.fieldName,onChange:b=>_("mask","fieldName",b.target.value),placeholder:" ( image)",className:"w-24 px-3 py-1.5 border border-gray-300 rounded bg-white focus:border-blue-500 outline-none text-sm"})),u.createElement("div",{className:"w-8"})),u.createElement("div",{className:"flex items-center gap-4"},u.createElement("div",{className:"w-32 text-sm font-medium text-gray-700 flex items-center gap-2"},u.createElement("span",{className:"text-green-600 font-bold text-xs"},"T"),"  (Prompt)"),u.createElement("div",{className:"flex-1 flex gap-2"},u.createElement("input",{type:"text",value:m.prompt.nodeId,onChange:b=>_("prompt","nodeId",b.target.value),placeholder:" ID ( 6)",className:"flex-1 px-3 py-1.5 border border-gray-300 rounded bg-white focus:border-blue-500 outline-none text-sm min-w-0"}),u.createElement("input",{type:"text",value:m.prompt.fieldName,onChange:b=>_("prompt","fieldName",b.target.value),placeholder:" ( value)",className:"w-24 px-3 py-1.5 border border-gray-300 rounded bg-white focus:border-blue-500 outline-none text-sm"})),u.createElement("div",{className:"w-8"})))),u.createElement("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200"},u.createElement("h4",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider mb-3"}," (Custom Slots)"),u.createElement("div",{className:"space-y-2"},v.map(b=>u.createElement("div",{key:b.id,className:"flex items-center gap-4 group"},u.createElement("div",{className:"w-32"},u.createElement("input",{type:"text",value:b.name,onChange:K=>W(b.id,"name",K.target.value),placeholder:" ( steps)",className:"w-full px-2 py-1.5 border border-gray-300 rounded text-sm focus:border-purple-500 outline-none"})),u.createElement("div",{className:"flex-1 flex gap-2"},u.createElement("input",{type:"text",value:b.nodeId,onChange:K=>W(b.id,"nodeId",K.target.value),placeholder:" ID",className:"flex-1 px-3 py-1.5 border border-gray-300 rounded bg-white focus:border-purple-500 outline-none text-sm min-w-0"}),u.createElement("input",{type:"text",value:b.fieldName,onChange:K=>W(b.id,"fieldName",K.target.value),placeholder:"",className:"w-24 px-3 py-1.5 border border-gray-300 rounded bg-white focus:border-purple-500 outline-none text-sm"})),u.createElement("button",{onClick:()=>F(b.id),className:"w-8 h-8 flex items-center justify-center text-gray-400 hover:text-red-500 hover:bg-red-50 rounded transition-colors"},u.createElement(xr,{size:16}))))),u.createElement("button",{onClick:A,className:"mt-4 flex items-center gap-2 text-sm text-purple-600 hover:text-purple-700 font-medium px-2 py-1 rounded hover:bg-purple-50 transition-colors"},u.createElement(Ai,{size:16})," "))),u.createElement("hr",{className:"border-gray-100"}),u.createElement("div",null,u.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center gap-2"},u.createElement(fg,{size:16,className:"text-gray-500"}),"  (Output Nodes)"),u.createElement("div",{className:"bg-gray-50 p-3 rounded-lg border border-gray-200 space-y-2"},d.map((b,K)=>u.createElement("div",{key:b.id,className:"flex items-center gap-3"},u.createElement("div",{className:"w-32"},u.createElement("input",{type:"text",value:b.name,onChange:C=>S(b.id,"name",C.target.value),placeholder:" ( result)",className:"w-full px-2 py-1.5 border border-gray-300 rounded text-sm focus:border-blue-500 outline-none"})),u.createElement("input",{type:"text",value:b.nodeId,onChange:C=>S(b.id,"nodeId",C.target.value),placeholder:" ID ( 9)",className:"flex-1 px-3 py-1.5 border border-gray-300 rounded bg-white focus:border-blue-500 outline-none text-sm"}),u.createElement("button",{onClick:()=>w(b.id),className:"w-8 h-8 flex items-center justify-center text-gray-400 hover:text-red-500 hover:bg-red-50 rounded transition-colors",disabled:d.length===1&&K===0},u.createElement(xr,{size:16})))),u.createElement("button",{onClick:h,className:"mt-2 flex items-center gap-2 text-xs text-blue-600 hover:text-blue-700 font-medium px-2 py-1 rounded hover:bg-blue-50 transition-colors"},u.createElement(Ai,{size:14})," ")),u.createElement("p",{className:"text-xs text-gray-500 mt-1"},""))),u.createElement("div",{className:"px-6 py-4 border-t border-gray-100 bg-gray-50 flex justify-end gap-3"},u.createElement("button",{onClick:t,className:"px-4 py-2 text-gray-600 hover:bg-gray-200 rounded-lg text-sm font-medium transition-colors"},""),u.createElement("button",{onClick:D,className:"px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg text-sm font-medium shadow-sm flex items-center gap-2 transition-colors"},u.createElement(wg,{size:16})," ")))):null},An=({label:e,icon:t,binding:n,onClear:r})=>u.createElement("div",{className:`flex items-center p-2 rounded-lg border transition-all text-xs ${n?"bg-white border-gray-300 shadow-sm":"bg-gray-50 border-dashed border-gray-200"}`},u.createElement("div",{className:`w-6 h-6 rounded flex items-center justify-center mr-2 shrink-0 ${n?"bg-gray-100 text-gray-700":"bg-transparent text-gray-300"}`},u.createElement(t,{size:12})),u.createElement("div",{className:"flex-1 min-w-0"},u.createElement("div",{className:"text-[9px] font-bold uppercase tracking-wider text-gray-400"},e),u.createElement("div",{className:"text-[11px] font-medium text-gray-700 truncate"},n?n.type+(n.text?`: ${n.text}`:""):"")),n&&u.createElement("button",{onClick:r,className:"p-1 hover:bg-gray-100 rounded-full text-gray-400 hover:text-gray-700 transition-colors"},u.createElement($d,{size:12}))),zg=({workflows:e,activeWorkflowId:t,bindings:n,onSwitchWorkflow:r=()=>{},onClearBinding:a,onAddWorkflow:i=()=>{},onDeleteWorkflow:o=()=>{},onExecute:l})=>{const[s,c]=L.useState(!1),[p,d]=L.useState(!1),[g,m]=L.useState(null),x=e.find(_=>_.id===t),v=e.filter(_=>_.type!=="api"),E=()=>{m(null),d(!0)},f=()=>{x&&(m(x),d(!0))},h=async()=>{c(!0),await l((x==null?void 0:x.type)||"comfy"),c(!1)},w=()=>{if(!x)return;const _="data:text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(x,null,2)),A=document.createElement("a");A.setAttribute("href",_),A.setAttribute("download",(x.name||"workflow")+".json"),document.body.appendChild(A),A.click(),A.remove()},S=()=>{x&&window.confirm(` "${x.name}" `)&&o(x.id)};return u.createElement("div",{className:"flex-1 flex flex-col overflow-hidden"},u.createElement("div",{className:"flex-1 overflow-hidden relative flex flex-col"},u.createElement("div",{className:"flex-1 p-5 space-y-4 text-sm text-gray-600 leading-relaxed font-normal bg-gray-50/50"},u.createElement("p",null," ",u.createElement("strong",{className:"font-bold text-gray-800"},""),""),u.createElement("p",null,""),u.createElement("ul",{className:"list-disc pl-4 space-y-1 text-xs text-gray-500"},u.createElement("li",null,u.createElement("strong",null," (Frame):"),"  ",u.createElement("span",{className:"font-semibold text-gray-600"},""),"  ",u.createElement("span",{className:"font-semibold text-gray-600"},""),""),u.createElement("li",null,u.createElement("strong",null,"/:"),"  ",u.createElement("span",{className:"font-semibold text-gray-600"},""),"  ",u.createElement("span",{className:"font-semibold text-gray-600"},""),""),u.createElement("li",null,u.createElement("strong",null,":"),"  ",u.createElement("span",{className:"font-semibold text-gray-600"},""),"")),u.createElement("p",null,' "" '))),u.createElement("div",{className:"h-px bg-gray-100 w-full shrink-0"}),u.createElement("div",{className:"h-10 flex items-center px-3 bg-white shrink-0"},u.createElement("div",{className:"flex items-center gap-2 flex-1 min-w-0"},u.createElement(Pl,{size:14,className:"text-gray-400"}),u.createElement("div",{className:"relative flex-1 group"},u.createElement("select",{value:t||"",onChange:_=>r(_.target.value),className:"w-full bg-transparent font-medium text-xs text-gray-700 outline-none appearance-none cursor-pointer pr-4"},v.map(_=>u.createElement("option",{key:_.id,value:_.id},_.name))),u.createElement(fr,{size:12,className:"absolute right-0 top-1/2 -translate-y-1/2 text-gray-300 pointer-events-none"}))),u.createElement("button",{onClick:w,className:"ml-1 text-gray-300 hover:text-gray-600 transition-colors",title:" (JSON)",disabled:!x},u.createElement(Fd,{size:14})),u.createElement("button",{onClick:f,className:"ml-1 text-gray-300 hover:text-gray-600 transition-colors",title:"",disabled:!x},u.createElement(Gi,{size:14})),u.createElement("button",{onClick:S,className:"ml-1 text-gray-300 hover:text-red-500 transition-colors",title:"",disabled:!x},u.createElement(xr,{size:14})),u.createElement("button",{onClick:E,className:"ml-2 text-gray-300 hover:text-gray-600 transition-colors",title:""},u.createElement(Ai,{size:14}))),u.createElement("div",{className:"h-px bg-gray-100 w-full shrink-0"}),u.createElement("div",{className:"p-3 bg-gray-50/50 space-y-1.5 shrink-0"},x!=null&&x.mappings&&x.mappings.length>0?x.mappings.map(_=>{const A=_.slot_name;let F=A,W=G0;return A==="image"?(F=" (Image)",W=wr):A==="mask"?(F=" (Mask)",W=On):A==="prompt"&&(F=" (Prompt)",W=kr),u.createElement(An,{key:A,label:F,icon:W,binding:n[A],onClear:()=>a(A)})}):u.createElement(u.Fragment,null,u.createElement(An,{label:" (Image)",icon:wr,binding:n.image,onClear:()=>a("image")}),u.createElement(An,{label:" (Mask)",icon:On,binding:n.mask,onClear:()=>a("mask")}),u.createElement(An,{label:" (Prompt)",icon:kr,binding:n.prompt,onClear:()=>a("prompt")}))),u.createElement("div",{className:"p-3 border-t border-gray-200 bg-white shrink-0"},u.createElement("button",{onClick:h,disabled:s||!n.image&&!n.prompt,className:`w-full py-2.5 rounded-lg text-xs font-bold flex items-center justify-center gap-2 transition-all shadow-sm border ${s||!n.image&&!n.prompt?"bg-gray-50 text-gray-300 border-gray-100 cursor-not-allowed":"bg-white text-gray-800 border-gray-300 hover:bg-gray-50 active:scale-95"}`},s?u.createElement(u.Fragment,null,u.createElement(Md,{size:14,className:"animate-spin"})," ..."):u.createElement(u.Fragment,null,u.createElement(gg,{size:14,fill:"currentColor"})," "))),u.createElement(Rg,{isOpen:p,onClose:()=>d(!1),onSave:_=>{i(_),d(!1)},initialData:g}))},Ig=({workflows:e,activeWorkflowId:t,bindings:n,onSwitchWorkflow:r,onClearBinding:a,onExecute:i,chatMessages:o,onNewChat:l,apiConfig:s,onApiConfigChange:c})=>{var D;const[p,d]=L.useState(!1),[g,m]=L.useState(""),[x,v]=L.useState(!1),E=L.useRef(null),f=e.find(b=>b.id===t),h=e.filter(b=>b.type==="api"),w=((D=s.profiles)==null?void 0:D.find(b=>b.id===s.activeId))||{},S=(b,K)=>{c(C=>({...C,profiles:C.profiles.map($=>$.id===C.activeId?{...$,[b]:K}:$)}))},_=()=>{const b=Date.now().toString();c(K=>({...K,activeId:b,profiles:[...K.profiles,{id:b,name:"New Profile",model:"gemini/gemini-2.5-flash-image",apiKey:"",baseUrl:"",contextLimit:10}]}))},A=()=>{if(s.profiles.length<=1){alert("");return}window.confirm("")&&c(b=>{const K=b.profiles.filter(C=>C.id!==b.activeId);return{...b,activeId:K[0].id,profiles:K}})};L.useEffect(()=>{E.current&&(E.current.scrollTop=E.current.scrollHeight)},[o]);const F=async()=>{!g.trim()&&!n.image&&!n.prompt||(d(!0),await i((f==null?void 0:f.type)||"api",g),m(""),d(!1))},W=(b,K,C,$)=>{b.dataTransfer.setData("content",K),b.dataTransfer.setData("dragType",C),$&&$.length>0&&b.dataTransfer.setData("sourceIds",JSON.stringify($))};return u.createElement("div",{className:"flex-1 flex flex-col overflow-hidden"},u.createElement("div",{className:"bg-white border-b border-gray-200"},u.createElement("button",{onClick:()=>v(!x),className:"w-full px-3 py-2 flex items-center justify-between text-xs font-medium text-gray-600 hover:bg-gray-50 transition-colors"},u.createElement("div",{className:"flex items-center gap-2"},u.createElement(Gi,{size:14}),u.createElement("span",null," (",w.name||"Default",")")),u.createElement(fr,{size:12,className:`transition-transform ${x?"rotate-180":""}`})),x&&u.createElement("div",{className:"p-3 bg-gray-50 space-y-3 border-t border-gray-100"},u.createElement("div",{className:"flex items-center gap-2"},u.createElement("select",{value:s.activeId,onChange:b=>c({...s,activeId:b.target.value}),className:"flex-1 px-2 py-1.5 text-xs border border-gray-300 rounded bg-white focus:border-blue-500 outline-none"},s.profiles.map(b=>u.createElement("option",{key:b.id,value:b.id},b.name))),u.createElement("button",{onClick:_,className:"p-1.5 bg-white border border-gray-300 rounded hover:bg-gray-100 text-gray-600",title:""},u.createElement(Ai,{size:14})),u.createElement("button",{onClick:A,className:"p-1.5 bg-white border border-gray-300 rounded hover:bg-red-50 text-red-500",title:""},u.createElement(xr,{size:14}))),u.createElement("div",null,u.createElement("label",{className:"block text-[10px] font-bold text-gray-500 uppercase mb-1"}," (Name)"),u.createElement("input",{type:"text",value:w.name||"",onChange:b=>S("name",b.target.value),className:"w-full px-2 py-1.5 text-xs border border-gray-300 rounded bg-white focus:border-blue-500 outline-none"})),u.createElement("div",null,u.createElement("label",{className:"block text-[10px] font-bold text-gray-500 uppercase mb-1"}," (Model)"),u.createElement("input",{type:"text",value:w.model||"",onChange:b=>S("model",b.target.value),className:"w-full px-2 py-1.5 text-xs border border-gray-300 rounded bg-white focus:border-blue-500 outline-none",placeholder:"gemini/gemini-1.5-flash"})),u.createElement("div",null,u.createElement("label",{className:"block text-[10px] font-bold text-gray-500 uppercase mb-1"},"API Key"),u.createElement("input",{type:"password",value:w.apiKey||"",onChange:b=>S("apiKey",b.target.value),className:"w-full px-2 py-1.5 text-xs border border-gray-300 rounded bg-white focus:border-blue-500 outline-none",placeholder:"sk-..."})),u.createElement("div",null,u.createElement("label",{className:"block text-[10px] font-bold text-gray-500 uppercase mb-1"},"API Base URL ()"),u.createElement("input",{type:"text",value:w.baseUrl||"",onChange:b=>S("baseUrl",b.target.value),className:"w-full px-2 py-1.5 text-xs border border-gray-300 rounded bg-white focus:border-blue-500 outline-none",placeholder:"https://api.openai.com/v1"})),u.createElement("div",null,u.createElement("label",{className:"block text-[10px] font-bold text-gray-500 uppercase mb-1"}," (History Limit)"),u.createElement("input",{type:"number",value:w.contextLimit||10,onChange:b=>S("contextLimit",parseInt(b.target.value)),className:"w-full px-2 py-1.5 text-xs border border-gray-300 rounded bg-white focus:border-blue-500 outline-none"})))),u.createElement("div",{className:"flex-1 overflow-hidden relative flex flex-col"},u.createElement("div",{className:"absolute top-3 right-3 z-10"},u.createElement("button",{onClick:l,className:"flex items-center gap-1.5 px-2.5 py-1.5 bg-white border border-gray-200 rounded-full shadow-sm text-[10px] text-gray-600 hover:bg-gray-50 hover:text-red-500 transition-colors",title:""},u.createElement(Bd,{size:10})," ")),u.createElement("div",{ref:E,className:"flex-1 overflow-y-auto p-4 space-y-4"},o.length===0&&u.createElement("div",{className:"text-center mt-8 space-y-3"},u.createElement("div",{className:"w-10 h-10 bg-gray-50 rounded-full flex items-center justify-center mx-auto border border-gray-100"},u.createElement(Pl,{size:16,className:"text-gray-300"})),u.createElement("div",{className:"text-xs text-gray-400 leading-relaxed px-4"},"")),o.map((b,K)=>u.createElement("div",{key:K,className:`flex flex-col ${b.role==="user"?"items-end":"items-start"}`},u.createElement("div",{className:`max-w-[95%] rounded-lg px-3 py-3 text-sm border shadow-sm ${b.role==="user"?"bg-white border-gray-200 text-gray-800":"bg-gray-50 border-gray-100 text-gray-600"}`},b.type==="card"?u.createElement("div",{className:"flex flex-col gap-2"},b.image&&u.createElement("div",{className:"rounded-lg overflow-hidden bg-gray-50 border border-gray-200 mb-1"},u.createElement("img",{src:b.image,alt:"context",className:`w-full h-auto block ${b.role==="assistant"?"cursor-grab active:cursor-grabbing":""}`,style:{maxHeight:"300px",objectFit:"contain"},draggable:b.role==="assistant",onDragStart:C=>W(C,b.image,"chatImage",b.sourceIds)})),b.text&&u.createElement("div",{className:`text-xs leading-relaxed break-words relative group ${b.role==="assistant"?"cursor-grab active:cursor-grabbing":""}`,draggable:b.role==="assistant",onDragStart:C=>W(C,b.text,"chatText",b.sourceIds)},b.text,b.role==="assistant"&&u.createElement("div",{className:"absolute top-0 right-0 opacity-0 group-hover:opacity-100 transition-opacity"},u.createElement(ug,{size:10,className:"text-gray-400"})))):u.createElement("span",{className:"leading-snug"},b.content)))))),u.createElement("div",{className:"h-px bg-gray-100 w-full shrink-0"}),u.createElement("div",{className:"h-10 flex items-center px-3 bg-white shrink-0"},u.createElement("div",{className:"flex items-center gap-2 flex-1 min-w-0"},u.createElement(Pl,{size:14,className:"text-gray-400"}),u.createElement("div",{className:"relative flex-1 group"},u.createElement("select",{value:t,onChange:b=>r(b.target.value),className:"w-full bg-transparent font-medium text-xs text-gray-700 outline-none appearance-none cursor-pointer pr-4"},h.map(b=>u.createElement("option",{key:b.id,value:b.id},b.name))),u.createElement(fr,{size:12,className:"absolute right-0 top-1/2 -translate-y-1/2 text-gray-300 pointer-events-none"})))),u.createElement("div",{className:"h-px bg-gray-100 w-full shrink-0"}),u.createElement("div",{className:"p-3 bg-gray-50/50 space-y-1.5 shrink-0"},u.createElement(An,{label:" (Image)",icon:wr,binding:n.image,onClear:()=>a("image")}),u.createElement(An,{label:" (Mask)",icon:On,binding:n.mask,onClear:()=>a("mask")}),u.createElement(An,{label:" (Prompt)",icon:kr,binding:n.prompt,onClear:()=>a("prompt")})),u.createElement("div",{className:"p-3 border-t border-gray-200 bg-white shrink-0"},u.createElement("div",{className:"flex flex-col gap-2"},u.createElement("div",{className:"relative"},u.createElement("textarea",{value:g,onChange:b=>m(b.target.value),onKeyDown:b=>{b.key==="Enter"&&!b.shiftKey&&(b.preventDefault(),F())},placeholder:"...",className:"w-full bg-white border border-gray-200 rounded-lg py-2 px-3 text-xs focus:ring-1 focus:ring-gray-300 focus:border-gray-300 outline-none resize-none min-h-[60px]"})),u.createElement("button",{onClick:F,disabled:p||!g.trim()&&!n.image,className:`w-full py-2 rounded-lg text-xs font-bold flex items-center justify-center gap-2 transition-all shadow-sm border ${!g.trim()&&!n.image?"bg-gray-50 text-gray-300 border-gray-100":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50 active:scale-95"}`},p?u.createElement(Md,{size:14,className:"animate-spin"}):u.createElement(Ad,{size:14}),u.createElement("span",null,"")))))},Pg=({workflows:e,activeWorkflowId:t,bindings:n={},onSwitchWorkflow:r=()=>{},onClearBinding:a,onAddWorkflow:i=()=>{},onDeleteWorkflow:o=()=>{},onExecute:l,chatMessages:s,onNewChat:c,apiConfig:p,onApiConfigChange:d})=>{const g=e.find(w=>w.id===t),[m,x]=L.useState((g==null?void 0:g.type)==="api"?"api":"comfy"),[v,E]=L.useState(!1),f=m==="api";L.useEffect(()=>{g&&x(g.type==="api"?"api":"comfy")},[g]);const h=w=>{if(m===w)return;x(w);const S=e.find(_=>w==="api"?_.type==="api":_.type!=="api");r(S?S.id:null)};return u.createElement("aside",{className:`${v?"w-0 border-none":"w-[360px] border-l"} bg-white border-gray-200 h-full flex flex-col font-sans z-20 shadow-xl shrink-0 transition-all duration-300 relative`},u.createElement("button",{onClick:()=>E(!v),className:"absolute -left-3 top-1/2 -translate-y-1/2 bg-white border border-gray-200 rounded-full p-1 shadow-md hover:bg-gray-50 z-50 text-gray-500",title:v?"":""},v?u.createElement(q0,{size:14}):u.createElement(eg,{size:14})),u.createElement("div",{className:`flex flex-col h-full w-[360px] ${v?"hidden":"flex"}`},u.createElement("div",{className:"flex items-center p-1.5 m-2 bg-gray-100/80 rounded-lg shrink-0 gap-1"},u.createElement("button",{onClick:()=>h("comfy"),className:`flex-1 flex items-center justify-center gap-2 py-1.5 text-xs font-bold rounded-md transition-all ${f?"text-gray-500 hover:text-gray-700 hover:bg-gray-200/50":"bg-white text-blue-600 shadow-sm"}`},u.createElement(rg,{size:14})," ComfyUI"),u.createElement("button",{onClick:()=>h("api"),className:`flex-1 flex items-center justify-center gap-2 py-1.5 text-xs font-bold rounded-md transition-all ${f?"bg-white text-purple-600 shadow-sm":"text-gray-500 hover:text-gray-700 hover:bg-gray-200/50"}`},u.createElement(cg,{size:14})," AI ")),f?u.createElement(Ig,{workflows:e,activeWorkflowId:t,bindings:n,onSwitchWorkflow:r,onClearBinding:a,onExecute:l,chatMessages:s,onNewChat:c,apiConfig:p,onApiConfigChange:d}):u.createElement(zg,{workflows:e,activeWorkflowId:t,bindings:n,onSwitchWorkflow:r,onClearBinding:a,onAddWorkflow:i,onDeleteWorkflow:o,onExecute:l})))},Ua="relative flex items-center gap-1.5 px-2 py-1.5 hover:bg-gray-100 rounded-md text-gray-700 text-xs font-medium transition-colors",Lg=({selectedObject:e,zoom:t,offset:n,onAction:r,onUpdateObject:a,isCropping:i,isGlobalSettings:o,resizeMode:l,onToggleResizeMode:s,isProcessing:c})=>{const[p,d]=L.useState(!1);L.useEffect(()=>{d(!1)},[e==null?void 0:e.id]);const g=()=>{if(!e)return;const _=e.naturalWidth||100,A=e.naturalHeight||100,W=e.width*(A/_);a({...e,height:W,contentWidth:null,contentHeight:null,contentX:0,contentY:0})};if(!e)return null;if(i){const _=e.x*t+n.x,A=e.y*t+n.y,F=[{label:"",w:0,h:0},{label:"1:1",w:1,h:1},{label:"4:3",w:4,h:3},{label:"3:4",w:3,h:4},{label:"16:9",w:16,h:9},{label:"9:16",w:9,h:16}];return u.createElement("div",{style:{position:"absolute",top:A-50,left:_,zIndex:90},key:`toolbar-crop-${e.id}`,className:"flex items-center gap-2 bg-black text-white px-2 py-1.5 rounded-full shadow-xl text-xs font-medium animate-in fade-in zoom-in-95",onMouseDown:W=>W.stopPropagation()},u.createElement(hg,{size:12,className:"ml-1"}),u.createElement("span",null,""),u.createElement("div",{className:"w-px h-3 bg-white/20 mx-1"}),u.createElement("div",{className:"relative"},u.createElement("button",{onClick:()=>d(!p),className:"flex items-center gap-1 hover:bg-white/20 px-2 py-1 rounded transition-colors"},u.createElement(Li,{size:12})," ",u.createElement("span",null,"")," ",u.createElement(fr,{size:10})),p&&u.createElement("div",{className:"absolute top-full left-0 mt-2 bg-white text-gray-800 border border-gray-200 rounded-lg shadow-xl py-1 z-50 flex flex-col min-w-[80px] overflow-hidden"},F.map(W=>u.createElement("button",{key:W.label,onClick:()=>{if(W.label===""){const D=e.contentWidth||e.width,b=(e.naturalHeight||100)/(e.naturalWidth||100);a({...e,contentHeight:D*b})}else{const b=(e.contentWidth||e.width)*(W.h/W.w);a({...e,contentHeight:b})}d(!1)},className:"px-3 py-2 text-xs text-left hover:bg-blue-50 hover:text-blue-600 whitespace-nowrap border-b border-gray-50 last:border-0"},W.label)))),u.createElement("div",{className:"w-px h-3 bg-white/20 mx-1"}),u.createElement("button",{onClick:()=>r("finish_crop"),className:"hover:text-green-400 hover:bg-white/10 px-2 py-1 rounded flex items-center gap-1 transition-colors"},u.createElement(Td,{size:12})," "))}let m={};if(o)m={position:"absolute",top:20,left:"50%",transform:"translateX(-50%)",zIndex:90};else{const _=e.x*t+n.x;m={position:"absolute",top:e.y*t+n.y-50,left:_,zIndex:90}}const x=e.isLocked,v=()=>a({...e,isLocked:!e.isLocked}),E=({type:_="fill"})=>u.createElement("div",{className:"relative flex items-center group w-4 h-4 mr-1",title:_==="fill"?"":""},_==="fill"?u.createElement("div",{className:"w-4 h-4 rounded-full border border-gray-300 shadow-sm cursor-pointer",style:{backgroundColor:e.fill||"transparent",backgroundImage:e.fill==="transparent"?"linear-gradient(45deg, #ccc 25%, transparent 25%, transparent 75%, #ccc 75%, #ccc), linear-gradient(45deg, #ccc 25%, transparent 25%, transparent 75%, #ccc 75%, #ccc)":"none",backgroundSize:"8px 8px",backgroundPosition:"0 0, 4px 4px"}}):u.createElement("div",{className:"w-4 h-4 rounded-sm border-2 cursor-pointer shadow-sm box-border",style:{borderColor:!e.stroke||e.stroke==="transparent"?"#d1d5db":e.stroke,borderStyle:!e.stroke||e.stroke==="transparent"?"dashed":"solid"}}),u.createElement("input",{type:"color",value:!e[_]||e[_]==="transparent"?"#000000":e[_],onChange:A=>a({...e,[_]:A.target.value}),className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer",disabled:x})),f=()=>u.createElement("div",{className:"flex items-center gap-1 bg-gray-50 rounded px-1 w-16 mr-2",title:"/"},u.createElement(Q0,{size:10,className:"text-gray-400 shrink-0"}),u.createElement("input",{type:"number",min:"1",max:"500",value:e.strokeWidth||0,onChange:_=>a({...e,strokeWidth:Number(_.target.value)}),className:"w-full bg-transparent text-xs text-center focus:outline-none",disabled:x})),h=()=>u.createElement("div",{className:"flex items-center gap-1 w-14 group relative",title:""},u.createElement(tg,{size:12,className:"text-gray-400"}),u.createElement("input",{type:"range",min:"0",max:"1",step:"0.1",value:e.opacity??1,onChange:_=>a({...e,opacity:Number(_.target.value)},!0),onMouseDown:_=>_.stopPropagation(),onMouseUp:()=>a({...e}),onTouchStart:_=>_.stopPropagation(),onTouchEnd:()=>a({...e}),onPointerDown:_=>_.stopPropagation(),className:"w-full h-1 bg-gray-300 rounded-lg appearance-none cursor-pointer accent-black relative z-50",disabled:x})),w=()=>u.createElement("div",{className:"flex items-center gap-1 w-14 group relative",title:""},u.createElement(Eg,{size:12,className:"text-gray-400"}),u.createElement("input",{type:"range",min:"0",max:"20",step:"1",value:e.blur??0,onChange:_=>a({...e,blur:Number(_.target.value)},!0),onMouseDown:_=>_.stopPropagation(),onMouseUp:()=>a({...e}),onTouchStart:_=>_.stopPropagation(),onTouchEnd:()=>a({...e}),onPointerDown:_=>_.stopPropagation(),className:"w-full h-1 bg-gray-300 rounded-lg appearance-none cursor-pointer accent-black relative z-50",disabled:x}));let S=null;if(e.type==="frame"){const _=[{label:"1:1",w:1,h:1},{label:"16:9",w:16,h:9},{label:"9:16",w:9,h:16},{label:"4:3",w:4,h:3}];S=u.createElement(u.Fragment,null,u.createElement("div",{className:"relative"},u.createElement("button",{onClick:()=>!x&&d(!p),className:"flex items-center gap-1 px-2 py-1 hover:bg-gray-100 rounded-md text-xs font-medium text-gray-700"},u.createElement("span",null,"")," ",u.createElement(fr,{size:12})),p&&!x&&u.createElement("div",{className:"absolute top-full left-0 mt-1 bg-white border border-gray-200 rounded-lg shadow-lg py-1 z-50 flex flex-col min-w-[80px]"},_.map(A=>u.createElement("button",{key:A.label,onClick:()=>{const F=e.width*(A.h/A.w);a({...e,height:F}),d(!1)},className:"px-3 py-1.5 text-xs text-left hover:bg-blue-50 text-gray-700"},A.label)))),u.createElement("div",{className:"w-px h-4 bg-gray-200 mx-1"}),u.createElement("div",{className:"flex items-center gap-2 px-1"},u.createElement("div",{className:"flex items-center gap-1 bg-gray-50 px-1.5 py-0.5 rounded border border-gray-200 w-24"},u.createElement("span",{className:"text-[10px] text-gray-400 font-mono"},"W"),u.createElement("input",{type:"number",value:e.width,onChange:A=>a({...e,width:Number(A.target.value)}),className:"w-full bg-transparent text-xs outline-none",disabled:x||e.lockedWidth}),u.createElement("button",{onClick:()=>!x&&a({...e,lockedWidth:!e.lockedWidth}),className:`p-0.5 ${e.lockedWidth?"text-red-500":"text-gray-300"}`,disabled:x},e.lockedWidth?u.createElement(Po,{size:10}):u.createElement(Lo,{size:10}))),u.createElement("div",{className:"flex items-center gap-1 bg-gray-50 px-1.5 py-0.5 rounded border border-gray-200 w-24"},u.createElement("span",{className:"text-[10px] text-gray-400 font-mono"},"H"),u.createElement("input",{type:"number",value:e.height,onChange:A=>a({...e,height:Number(A.target.value)}),className:"w-full bg-transparent text-xs outline-none",disabled:x||e.lockedHeight}),u.createElement("button",{onClick:()=>!x&&a({...e,lockedHeight:!e.lockedHeight}),className:`p-0.5 ${e.lockedHeight?"text-red-500":"text-gray-300"}`,disabled:x},e.lockedHeight?u.createElement(Po,{size:10}):u.createElement(Lo,{size:10})))),u.createElement("div",{className:"w-px h-4 bg-gray-200 mx-1"}),u.createElement("div",{className:"flex items-center gap-2"},u.createElement("span",{className:"text-[10px] text-gray-400"},""),u.createElement(E,{type:"fill",selectedObject:e,onUpdateObject:a,isGlobalLocked:x})))}else if(e.type==="shape")S=u.createElement(u.Fragment,null,u.createElement("div",{className:"flex gap-1 pr-2 border-r border-gray-200 mr-2"},u.createElement("button",{onClick:()=>!x&&a({...e,shapeType:"rectangle"}),className:`p-1 rounded hover:bg-gray-100 ${e.shapeType==="rectangle"?"bg-blue-50 text-blue-600":""}`,title:""},u.createElement(Wd,{size:14})),u.createElement("button",{onClick:()=>!x&&a({...e,shapeType:"circle"}),className:`p-1 rounded hover:bg-gray-100 ${e.shapeType==="circle"?"bg-blue-50 text-blue-600":""}`,title:""},u.createElement(ng,{size:14})),u.createElement("button",{onClick:()=>!x&&a({...e,shapeType:"triangle"}),className:`p-1 rounded hover:bg-gray-100 ${e.shapeType==="triangle"?"bg-blue-50 text-blue-600":""}`,title:""},u.createElement(_g,{size:14}))),u.createElement("div",{className:"flex items-center gap-2"},u.createElement(E,{type:"fill",selectedObject:e,onUpdateObject:a,isGlobalLocked:x}),u.createElement("div",{className:"w-px h-3 bg-gray-200 mx-1"}),u.createElement(E,{type:"stroke",selectedObject:e,onUpdateObject:a,isGlobalLocked:x}),u.createElement(f,{selectedObject:e,onUpdateObject:a,isGlobalLocked:x})),u.createElement(h,{selectedObject:e,onUpdateObject:a,isGlobalLocked:x}));else if(e.type==="spline")S=u.createElement(u.Fragment,null,u.createElement(E,{type:"fill",selectedObject:e,onUpdateObject:a,isGlobalLocked:x}),u.createElement(E,{type:"stroke",selectedObject:e,onUpdateObject:a,isGlobalLocked:x}),u.createElement(f,{selectedObject:e,onUpdateObject:a,isGlobalLocked:x}),u.createElement(h,{selectedObject:e,onUpdateObject:a,isGlobalLocked:x}));else if(e.type==="draw")S=u.createElement(u.Fragment,null,u.createElement("div",{className:"flex items-center gap-2 px-1"},o&&u.createElement("span",{className:"text-xs font-bold text-gray-500 mr-1"},""),u.createElement("div",{className:"flex items-center gap-1",title:""},u.createElement(E,{type:"stroke",selectedObject:e,onUpdateObject:a,isGlobalLocked:x})),u.createElement(f,{selectedObject:e,onUpdateObject:a,isGlobalLocked:x}),u.createElement("div",{className:"w-px h-4 bg-gray-200 mx-1"}),u.createElement(h,{selectedObject:e,onUpdateObject:a,isGlobalLocked:x}),u.createElement(w,{selectedObject:e,onUpdateObject:a,isGlobalLocked:x})));else if(e.type==="text"){const _=()=>a({...e,fontWeight:e.fontWeight==="bold"?"normal":"bold"}),A=()=>a({...e,fontFamily:e.fontFamily==="serif"?"sans-serif":"serif"}),F=W=>a({...e,align:W});S=u.createElement(u.Fragment,null,u.createElement("div",{className:"flex items-center gap-1 pr-2 border-r border-gray-200 mr-2"},u.createElement("button",{onClick:A,className:"p-1.5 rounded hover:bg-gray-100",title:" (Serif/Sans)"},u.createElement("span",{className:e.fontFamily==="serif"?"font-serif":"font-sans"},"T")),u.createElement("div",{className:"flex items-center gap-0.5 bg-gray-50 rounded px-1 w-10 border border-gray-200",title:""},u.createElement("input",{type:"number",value:e.fontSize||24,onChange:W=>a({...e,fontSize:Number(W.target.value)}),className:"w-full bg-transparent text-xs text-center focus:outline-none",disabled:x})),u.createElement("button",{onClick:_,className:`p-1.5 rounded hover:bg-gray-100 ${e.fontWeight==="bold"?"bg-gray-200 text-black":"text-gray-600"}`,title:""},u.createElement(Z0,{size:14}))),u.createElement("div",{className:"flex items-center gap-0.5 border border-gray-200 rounded p-0.5 mr-2"},u.createElement("button",{onClick:()=>F("left"),className:`p-1 rounded hover:bg-white ${e.align==="left"?"bg-white shadow-sm text-black":"text-gray-400"}`},u.createElement(V0,{size:12})),u.createElement("button",{onClick:()=>F("center"),className:`p-1 rounded hover:bg-white ${e.align==="center"?"bg-white shadow-sm text-black":"text-gray-400"}`},u.createElement(j0,{size:12})),u.createElement("button",{onClick:()=>F("right"),className:`p-1 rounded hover:bg-white ${e.align==="right"?"bg-white shadow-sm text-black":"text-gray-400"}`},u.createElement(Y0,{size:12}))),u.createElement("div",{className:"flex items-center gap-2 pr-2 border-r border-gray-200 mr-2"},u.createElement("div",{className:"flex items-center gap-1",title:""},u.createElement(E,{type:"fill",selectedObject:e,onUpdateObject:a,isGlobalLocked:x})),u.createElement("div",{className:"flex items-center gap-1",title:""},u.createElement("span",{className:"text-[10px] text-gray-400"},""),u.createElement(E,{type:"stroke",selectedObject:e,onUpdateObject:a,isGlobalLocked:x}),u.createElement(f,{selectedObject:e,onUpdateObject:a,isGlobalLocked:x}))),u.createElement(h,{selectedObject:e,onUpdateObject:a,isGlobalLocked:x}))}else if(e.type==="image"){const _=[{label:"",w:0,h:0},{label:"1:1",w:1,h:1},{label:"4:3",w:4,h:3},{label:"3:4",w:3,h:4},{label:"16:9",w:16,h:9},{label:"9:16",w:9,h:16}];S=u.createElement(u.Fragment,null,u.createElement("button",{onClick:()=>!x&&s&&s(),className:`${Ua} ${l==="scale"?"bg-blue-50 text-blue-600":""}`,title:l==="scale"?" ()":" ()"},l==="scale"?u.createElement(On,{size:14}):u.createElement(ag,{size:14})),u.createElement("button",{onClick:()=>!x&&g(),className:Ua,title:""},u.createElement(Bd,{size:14})),u.createElement("div",{className:"w-px h-3 bg-gray-200 mx-1"}),u.createElement("div",{className:"relative"},u.createElement("button",{onClick:()=>!x&&d(!p),className:Ua},u.createElement(Li,{size:14}),u.createElement("span",null,""),u.createElement(fr,{size:12})),p&&!x&&u.createElement("div",{className:"absolute top-full left-0 mt-1 bg-white border border-gray-200 rounded-lg shadow-lg py-1 z-50 flex flex-col min-w-[80px]"},_.map(A=>u.createElement("button",{key:A.label,onClick:()=>{if(A.label===""){const F=e.naturalWidth||100,W=e.naturalHeight||100,D=e.width*(W/F);a({...e,height:D})}else{const F=e.width*(A.h/A.w);a({...e,height:F})}d(!1)},className:"px-3 py-1.5 text-xs text-left hover:bg-blue-50 text-gray-700 whitespace-nowrap"},A.label)))),u.createElement("button",{className:`${Ua} ${c?"cursor-wait opacity-70":""}`,onClick:()=>!x&&!c&&r("remove_bg"),disabled:c},c?u.createElement(sg,{size:14,className:"animate-spin text-blue-500"}):u.createElement(xg,{size:14}),u.createElement("span",null,c?"":"")),u.createElement("div",{className:"w-px h-4 bg-gray-200 mx-1"}),u.createElement(h,{selectedObject:e,onUpdateObject:a,isGlobalLocked:x}))}return u.createElement("div",{style:m,key:`toolbar-${e.id}`,onMouseDown:_=>_.stopPropagation(),className:`flex items-center gap-1 bg-white p-1.5 rounded-xl shadow-xl border border-gray-100 animate-in fade-in zoom-in-95 duration-200 select-none whitespace-nowrap ${x?"bg-gray-50 opacity-90":""}`},u.createElement("div",{className:`flex items-center gap-1 ${x?"pointer-events-none opacity-50":""}`},S),!o&&u.createElement(u.Fragment,null,u.createElement("div",{className:"w-px h-4 bg-gray-200 mx-1"}),u.createElement("button",{onClick:v,className:`flex items-center gap-1 px-2 py-1.5 rounded-md text-xs font-medium transition-colors ${e.isLocked?"bg-red-50 text-red-600":"hover:bg-gray-100 text-gray-700"}`,title:e.isLocked?"":""},e.isLocked?u.createElement(Po,{size:14}):u.createElement(Lo,{size:14})),u.createElement("button",{onClick:_=>{_.stopPropagation(),!x&&r("delete")},className:`p-1.5 rounded-md transition-colors ${x?"text-gray-300 cursor-not-allowed":"hover:bg-red-50 text-red-500"}`,disabled:x,title:" (Del)"},u.createElement(xr,{size:14}))))},zn=(e,t,n,r,a)=>{if(!n.current)return{x:0,y:0};const i=n.current.getBoundingClientRect();return{x:(e-i.left-r.x)/a,y:(t-i.top-r.y)/a}},Ag=(e,t,n,r)=>{const a=Math.abs(n-e),i=e+a*.5,o=n-a*.5;return`M ${e} ${t} C ${i} ${t} ${o} ${r} ${n} ${r}`},Zu=(e,t,n,r,a,i)=>{if(!e)return"";const o=t/r,l=n/a;let s=e.map((c,p)=>`${p===0?"M":"L"} ${c.x*o} ${c.y*l}`).join(" ");return i&&(s+=" Z"),s},Tg=e=>({padding:`${1/e}px ${4/e}px`,fontSize:`${9/e}px`,borderWidth:`${1/e}px`,top:`${-18/e}px`,borderRadius:`${2/e}px`}),Fg=(e,t,n)=>{const r=2/e;return t?{borderWidth:r,margin:-r}:n?{borderWidth:r,margin:-r,borderStyle:"dashed"}:{}},Dg=u.memo(({images:e,highlightedLinks:t})=>u.createElement("svg",{className:"absolute top-0 left-0 w-full h-full pointer-events-none overflow-visible z-0"},e.flatMap(n=>(n.sourceIds||[]).map(r=>{const a=e.find(p=>p.id===r);if(!a)return null;const i=`${a.id}-${n.id}`,o=a.x+a.width,l=a.y+a.height/2,s=n.x,c=n.y+n.height/2;return u.createElement("path",{key:i,d:Ag(o,l,s,c),stroke:t.has(i)?"#2563eb":"#cbd5e1",strokeWidth:t.has(i)?"2":"1.5",fill:"none",className:"transition-colors duration-200"})}))),(e,t)=>e.images===t.images&&e.highlightedLinks===t.highlightedLinks),Mg=({obj:e,selectedId:t,zoom:n,croppingId:r,viewMode:a,onMouseDown:i})=>{if(t!==e.id||e.isLocked||a!=="canvas")return null;const o=8/n,l=o/2,s=Math.max(10,10/n),c=4/n,p=1/n,d=15/n;let g=0,m=0,x=e.width,v=e.height;r===e.id&&(g=e.contentX||0,m=e.contentY||0,x=e.contentWidth||e.width,v=e.contentHeight||e.height);const E=["nw","ne","sw","se","n","s","e","w"];return u.createElement(u.Fragment,null,e.type!=="frame"&&!r&&u.createElement("div",{className:"absolute bg-white border border-gray-300 rounded-full flex items-center justify-center cursor-grab active:cursor-grabbing shadow-sm hover:scale-110 transition-transform z-40",style:{left:x/2-12/n,top:v+15/n,width:24/n,height:24/n,borderWidth:1/n},onMouseDown:f=>i(f,e.id,null,"rotate")},u.createElement(vg,{size:14/n,className:"text-gray-600"}),u.createElement("div",{className:"absolute bg-blue-400 bottom-full left-1/2 -translate-x-1/2 pointer-events-none",style:{width:1/n,height:16/n}})),r===e.id&&u.createElement("div",{className:"absolute border-dashed border-white/80 pointer-events-none shadow-sm",style:{left:g,top:m,width:x,height:v,zIndex:20,borderWidth:2/n}}),t===e.id&&!r&&e.type==="image"&&u.createElement("div",{className:"absolute left-1/2 -translate-x-1/2 bg-black/60 text-white rounded-full backdrop-blur-sm pointer-events-none z-50 whitespace-nowrap shadow-sm border border-white/10",style:{top:d,fontSize:s,padding:`${p}px ${c}px`,borderWidth:1/n}},""),E.map(f=>{let h={width:o,height:o,background:"white",border:`${1/n}px solid #0096FF`,position:"absolute",zIndex:30},w="auto",S="auto";return f.includes("n")&&(w=m-l),f.includes("s")&&(w=m+v-l),!f.includes("n")&&!f.includes("s")&&(w=m+v/2-l),f.includes("w")&&(S=g-l),f.includes("e")&&(S=g+x-l),!f.includes("w")&&!f.includes("e")&&(S=g+x/2-l),h={...h,top:w,left:S,cursor:`${f}-resize`},u.createElement("div",{key:f,style:h,onMouseDown:_=>i(_,e.id,null,f)})}))},Bg=({contextMenu:e,onLayerAction:t,setContextMenu:n,activeWorkflow:r,onSelect:a,selectedIds:i=[]})=>{if(!e)return null;const{x:o,y:l,targetId:s,type:c,overlapping:p}=e,d=[];return Array.isArray(i)&&i.length===2&&(d.push({section:""}),d.push({label:" (Composite)",icon:Pi,action:"composite_selected"})),c==="frame"?(d.push({section:""}),d.push({label:" ()",icon:wr,action:"generateImage"}),d.push({label:" Mask ",icon:Pi,action:"generateMask"}),d.push({label:" (Save)",icon:Fd,action:"save_local"}),d.push({section:""}),Qu(d,r,"image")):["image","shape","text"].includes(c)&&(c==="image"&&(d.push({section:""}),d.push({label:" (Original)",icon:wr,action:"save_original"}),d.push({label:" (Create Canvas)",icon:Li,action:"create_canvas_from_image"})),c==="text"&&(d.push({section:""}),d.push({label:" (.txt)",icon:ig,action:"save_text"})),d.push({section:""}),Qu(d,r,c)),d.push({section:""}),d.push({label:"",icon:Ad,action:"bringToFront"}),d.push({label:"",icon:K0,action:"sendToBack"}),d.push({label:"",icon:xr,action:"delete",isDestructive:!0}),u.createElement("div",{style:{position:"fixed",top:l,left:o,zIndex:9999},className:"bg-white rounded-lg shadow-xl border border-gray-200 py-1 w-56 flex flex-col text-sm",onMouseDown:g=>g.stopPropagation()},d.map((g,m)=>{if(g.section)return u.createElement("div",{key:`section-${m}`,className:`px-3 py-2 text-xs font-bold text-gray-400 bg-gray-50 uppercase tracking-wider ${m>0?"mt-1":""}`},g.section);const x=g.icon;return u.createElement("button",{key:g.label,onClick:()=>{t(g.action,s),n(null)},className:`flex items-center gap-3 px-4 py-2 text-left transition-colors ${g.isDestructive?"hover:bg-red-50 text-red-600":"hover:bg-gray-100 text-gray-700"}`},u.createElement(x,{size:16,className:g.isDestructive?"":"text-gray-500"})," ",u.createElement("span",null,g.label))}),p&&p.length>1&&u.createElement("div",{className:"border-t border-gray-100 mt-1 pt-1"},u.createElement("div",{className:"px-3 py-1.5 text-xs font-bold text-gray-400 bg-gray-50 uppercase tracking-wider"},""),u.createElement("div",{className:"max-h-32 overflow-y-auto"},p.map(g=>u.createElement("button",{key:g.id,onClick:()=>{a(g.id),n(null)},className:`w-full flex items-center gap-2 px-4 py-1.5 text-left text-xs hover:bg-blue-50 transition-colors ${g.id===s?"text-blue-600 font-medium bg-blue-50/50":"text-gray-600"}`},g.id===s?u.createElement(Td,{size:12,className:"shrink-0"}):u.createElement("div",{className:"w-3 shrink-0"}),u.createElement("span",{className:"truncate"},g.name||(g.type==="image"?"Image":g.type)))))))};function Qu(e,t,n){t!=null&&t.mappings&&t.mappings.length>0?t.mappings.forEach(r=>{const a=r.slot_name;let i=`${a}`,o=ii;if(a==="image"?(i=" (Image)",o=ii):a==="mask"?(i=" (Mask)",o=On):a==="prompt"&&(i=" (Prompt)",o=kr),n==="text"){if(a==="image"||a==="mask")return}else if(a==="prompt"||a.toLowerCase().includes("seed")||a.toLowerCase().includes("text"))return;e.push({label:i,icon:o,action:`bind_${a}`})}):(n!=="text"&&(e.push({label:" (Image)",icon:ii,action:"bind_image"}),e.push({label:" (Mask)",icon:On,action:"bind_mask"})),n==="text"&&e.push({label:" (Prompt)",icon:kr,action:"bind_prompt"}))}const Wg=({resizeHandle:e,dx:t,dy:n,initialContentSize:r,initialContentPos:a,baseObj:i})=>{const o=r.width||i.width,l=r.height||i.height,s=a.x||0,c=a.y||0,p=o/l;let d=o,g=l,m=s,x=c;return["nw","ne","sw","se"].includes(e)?(e.includes("w")?(d=Math.max(10,o-t),m=s+(o-d)):d=Math.max(10,o+t),g=d/p,e.includes("n")&&(x=c+(l-g))):(e.includes("e")&&(d=Math.max(10,o+t)),e.includes("w")&&(d=Math.max(10,o-t),m=s+t),e.includes("s")&&(g=Math.max(10,l+n)),e.includes("n")&&(g=Math.max(10,l-n),x=c+n)),{contentWidth:d,contentHeight:g,contentX:m,contentY:x}},$g=({resizeHandle:e,dx:t,dy:n,initialSize:r,initialItemPos:a,lockedWidth:i,lockedHeight:o})=>{let l=r.width,s=r.height,c=a.x,p=a.y,d=0,g=0;const m=["nw","ne","sw","se"].includes(e),x=r.width/r.height;if(i||(e.includes("e")&&(l=Math.max(10,r.width+t)),e.includes("w")&&(l=Math.max(10,r.width-t),c=a.x+t,d=-t)),m){if(s=l/x,e.includes("n")){const v=s-r.height;p=a.y-v,g=v}}else o||(e.includes("s")&&(s=Math.max(10,r.height+n)),e.includes("n")&&(s=Math.max(10,r.height-n),p=a.y+n,g=-n));return{newWidth:l,newHeight:s,newX:c,newY:p,contentOffsetX:d,contentOffsetY:g}},Og=(e,t)=>{const{containerRef:n,dragInfoRef:r,rafRef:a,zoom:i,offset:o,isPanning:l,lastMousePos:s,activeTool:c,isDrawing:p,isRotating:d,isResizing:g,isDragging:m,selectedId:x,selectedObject:v,rotationStartAngle:E,initialRotation:f,croppingId:h,resizeHandle:w,resizeMode:S,setOffset:_,setLastMousePos:A,setMousePreviewPos:F,setCurrentPoints:W,setImages:D}=t;e.preventDefault(),a.current&&cancelAnimationFrame(a.current),a.current=requestAnimationFrame(()=>{const b=zn(e.clientX,e.clientY,n,o,i);if(l){_($=>({x:$.x+e.clientX-s.x,y:$.y+e.clientY-s.y})),A({x:e.clientX,y:e.clientY});return}if(c==="spline"&&F(b),d&&v){const $=n.current.getBoundingClientRect(),k=(v.x+v.width/2)*i+o.x+$.left,P=(v.y+v.height/2)*i+o.y+$.top;let O=(Math.atan2(e.clientY-P,e.clientX-k)-E)*(180/Math.PI);D(B=>B.map(I=>I.id===x?{...I,rotation:f+O}:I)),r.current.hasMoved=!0;return}const K=(e.clientX-r.current.startMouse.x)/i,C=(e.clientY-r.current.startMouse.y)/i;if((g||m)&&(Math.abs(K)>1||Math.abs(C)>1)&&(r.current.hasMoved=!0),g&&v&&!v.isLocked){const{initialSize:$,initialItemPos:k,initialContentSize:P,initialContentPos:j}=r.current;if(h===x){const O=Wg({resizeHandle:w,dx:K,dy:C,initialContentSize:P,initialContentPos:j,baseObj:v});D(B=>B.map(I=>I.id===x?{...I,...O}:I))}else{const{newWidth:O,newHeight:B,newX:I,newY:H,contentOffsetX:T,contentOffsetY:M}=$g({resizeHandle:w,dx:K,dy:C,initialSize:$,initialItemPos:k,lockedWidth:v.lockedWidth,lockedHeight:v.lockedHeight});D(ne=>ne.map(J=>{if(J.id!==x)return J;if(J.type==="image")if(S==="scale"){const Z=O/$.width,pe=B/$.height;return{...J,width:O,height:B,x:I,y:H,contentWidth:P.width*Z,contentHeight:P.height*pe,contentX:j.x*Z,contentY:j.y*pe}}else return{...J,width:O,height:B,x:I,y:H,contentX:j.x+T,contentY:j.y+M};return{...J,width:O,height:B,x:I,y:H}}))}return}if(m&&x&&!v.isLocked){const{initialItemPos:$,initialContentPos:k}=r.current;D(h===x?P=>P.map(j=>j.id===x?{...j,contentX:k.x+K,contentY:k.y+C}:j):P=>P.map(j=>j.id===x?{...j,x:$.x+K,y:$.y+C}:j))}})},Ug=({images:e,setImages:t,selectedId:n,onSelect:r,activeTool:a,onSplineComplete:i,onDrawComplete:o,zoom:l,setZoom:s,offset:c,setOffset:p,drawSettings:d,setDrawSettings:g,viewMode:m,onLayerAction:x,bindings:v={},onDropObject:E,onHistoryRecord:f,activeWorkflow:h})=>{const w=L.useRef(null),[S,_]=L.useState(!1),[A,F]=L.useState({x:0,y:0}),[W,D]=L.useState(!1),[b,K]=L.useState("scale"),C=L.useRef({initialItemPos:{x:0,y:0},initialContentPos:{x:0,y:0},initialSize:{width:0,height:0},initialContentSize:{width:0,height:0},startMouse:{x:0,y:0},hasMoved:!1}),[$,k]=L.useState(!1),[P,j]=L.useState(0),[O,B]=L.useState(0),[I,H]=L.useState(null),[T,M]=L.useState(null),[ne,J]=L.useState(null),[Z,pe]=L.useState(!1),[ue,ae]=L.useState([]),[me,Ee]=L.useState(null),[ke,be]=L.useState(!1),[Be,y]=L.useState(null),[X,Y]=L.useState(null),[R,N]=L.useState(null),[U,G]=L.useState(!1),Q=L.useRef(null),V=L.useRef(a),ee=L.useRef(ue);ee.current=ue;const ie=L.useRef({zoom:l,offset:c});L.useEffect(()=>{ie.current={zoom:l,offset:c}},[l,c]);const re=z=>{ee.current.length>1&&i&&i(ee.current,z),ae([]),Ee(null)};L.useEffect(()=>{V.current==="spline"&&a!=="spline"&&ee.current.length>0&&re(!1),V.current=a},[a]),L.useEffect(()=>{const z=te=>{if(a==="spline"&&te.key==="Enter"&&(te.preventDefault(),re(!1)),(te.key==="Delete"||te.key==="Backspace")&&n){if(["INPUT","TEXTAREA"].includes(document.activeElement.tagName))return;const se=Array.isArray(n)?n:[n];t(de=>de.filter(ye=>!se.includes(ye.id))),r(null),f&&f()}};return window.addEventListener("keydown",z),()=>window.removeEventListener("keydown",z)},[a,ue,n,t,r,f]),L.useEffect(()=>{n!==I&&H(null)},[n]);const ce=z=>Array.isArray(n)?n.includes(z):n===z,ge=Array.isArray(n)?n[n.length-1]:n;L.useEffect(()=>{const z=te=>{if(!(te.target.tagName==="TEXTAREA"||te.target.tagName==="INPUT")){if((te.ctrlKey||te.metaKey)&&te.key==="c"&&ge){const se=Array.isArray(n)?n:[n],de=e.filter(ye=>se.includes(ye.id));de.length>0&&(window.__CANVAS_CLIPBOARD__=JSON.parse(JSON.stringify(de)),console.log(" Copied objects:",de.length))}if((te.ctrlKey||te.metaKey)&&te.key==="v"){const se=window.__CANVAS_CLIPBOARD__;if(se&&Array.isArray(se)&&se.length>0){te.preventDefault();const de=se.map(ye=>({...ye,id:`paste_${Date.now()}_${Math.random().toString(36).substr(2,5)}`,x:ye.x+20,y:ye.y+20,isLocked:!1,sourceIds:[]}));t(ye=>[...ye,...de]),r(de.map(ye=>ye.id)),f&&f()}}}};return window.addEventListener("keydown",z),()=>window.removeEventListener("keydown",z)},[e,n,ge,t,r,f]),L.useEffect(()=>{const z=te=>{var de,ye;if(!E)return;const se=(de=te.clipboardData)==null?void 0:de.items;if(se){for(let le=0;le<se.length;le++)if(se[le].type.indexOf("image")!==-1){const Ne=se[le].getAsFile(),he=(ye=w.current)==null?void 0:ye.getBoundingClientRect();if(!he)return;const _e=(window.innerWidth/2-he.left-c.x)/l,We=(window.innerHeight/2-he.top-c.y)/l;E({type:"image",file:Ne,x:_e,y:We}),te.preventDefault();break}}};return window.addEventListener("paste",z),()=>window.removeEventListener("paste",z)},[E,c,l]);const{nodes:we,links:at}=L.useMemo(()=>{if(m!=="tree"||!ge)return{nodes:new Set,links:new Set};const z={nodes:new Set,links:new Set};z.nodes.add(ge);const te=e.find(se=>se.id===ge);return te&&te.sourceIds&&te.sourceIds.forEach(se=>{z.nodes.add(se),z.links.add(`${se}-${ge}`)}),e.forEach(se=>{se.sourceIds&&se.sourceIds.includes(ge)&&(z.nodes.add(se.id),z.links.add(`${ge}-${se.id}`))}),z},[m,ge,e]),bt=e.find(z=>z.id===ge),ft=(z,te=!1)=>{t(se=>se.map(de=>de.id===z.id?z:de)),!te&&f&&f()},bn=(z,te)=>t(se=>se.map(de=>de.id===z?{...de,name:te}:de)),Ie=()=>{J(null),f&&f()},Vn=(z,te)=>{const{naturalWidth:se,naturalHeight:de}=te.target;t(ye=>ye.map(le=>{if(le.id!==z)return le;if(le.contentWidth)return{...le,naturalWidth:se,naturalHeight:de};const Ne=se/de,he=le.width/Ne;return{...le,naturalWidth:se,naturalHeight:de,height:he,contentWidth:le.width,contentHeight:he,contentX:0,contentY:0}}))},Nr=async z=>{if(z==="delete"){const te=Array.isArray(n)?n:[n];t(se=>se.filter(de=>!te.includes(de.id))),r(null),f&&f();return}if(z==="finish_crop"){H(null);return}if(z==="remove_bg"){x("rembg",n);return}},Ct=z=>{if(R){const te=zn(z.clientX,z.clientY,w,c,l),se=Math.min(R.startX,te.x),de=Math.min(R.startY,te.y),ye=Math.abs(te.x-R.startX),le=Math.abs(te.y-R.startY);N(Ne=>({...Ne,x:se,y:de,width:ye,height:le}));return}if(a==="draw"&&Z){z.preventDefault(),Q.current&&cancelAnimationFrame(Q.current),Q.current=requestAnimationFrame(()=>{const te=zn(z.clientX,z.clientY,w,c,l);ae(se=>[...se,te])});return}if(W&&C.current.initialPositions){z.preventDefault();const{startMouse:te,initialPositions:se}=C.current,de=(z.clientX-te.x)/l,ye=(z.clientY-te.y)/l;(Math.abs(de)>0||Math.abs(ye)>0)&&(C.current.hasMoved=!0),t(le=>le.map(Ne=>se[Ne.id]?{...Ne,x:se[Ne.id].x+de,y:se[Ne.id].y+ye}:Ne));return}Og(z,{containerRef:w,dragInfoRef:C,rafRef:Q,zoom:l,offset:c,isPanning:S,lastMousePos:A,activeTool:a,isDrawing:Z,isRotating:$,isResizing:ke,isDragging:W,selectedId:ge,selectedObject:bt,rotationStartAngle:P,initialRotation:O,croppingId:I,resizeHandle:Be,resizeMode:b,setOffset:p,setLastMousePos:F,setMousePreviewPos:Ee,setCurrentPoints:ae,setImages:t})},en=(z,te=null,se=null,de=null)=>{var ye,le,Ne;if(a==="draw"){pe(!0),ae([zn(z.clientX,z.clientY,w,c,l)]),r(null);return}if(a==="spline"){const he=zn(z.clientX,z.clientY,w,c,l);if(ue.length>2&&Math.sqrt(Math.pow(he.x-ue[0].x,2)+Math.pow(he.y-ue[0].y,2))<15/l){re(!0);return}ae([...ue,he]),r(null);return}if(z.button===2){if(te){z.preventDefault(),z.stopPropagation(),ce(te)||r(te);const he=zn(z.clientX,z.clientY,w,c,l),_e=e.filter(Oe=>he.x>=Oe.x&&he.x<=Oe.x+Oe.width&&he.y>=Oe.y&&he.y<=Oe.y+Oe.height).reverse(),We=(ye=e.find(Oe=>Oe.id===te))==null?void 0:ye.type;Y({x:z.clientX,y:z.clientY,targetId:te,type:We,overlapping:_e})}return}if(Y(null),de==="rotate"&&n&&z.button===0){if(z.stopPropagation(),(le=e.find(rn=>rn.id===n))!=null&&le.isLocked)return;k(!0);const he=e.find(rn=>rn.id===n),_e=w.current.getBoundingClientRect(),We=(he.x+he.width/2)*l+c.x+_e.left,Oe=(he.y+he.height/2)*l+c.y+_e.top,nn=Math.atan2(z.clientY-Oe,z.clientX-We);j(nn),B(he.rotation||0);return}if(de&&n&&z.button===0){if(z.stopPropagation(),(Ne=e.find(_e=>_e.id===n))!=null&&Ne.isLocked)return;be(!0),y(de);const he=e.find(_e=>_e.id===n);C.current={startMouse:{x:z.clientX,y:z.clientY},initialSize:{width:he.width,height:he.height},initialItemPos:{x:he.x,y:he.y},initialContentSize:{width:he.contentWidth||he.width,height:he.contentHeight||he.height},initialContentPos:{x:he.contentX||0,y:he.contentY||0},hasMoved:!1};return}if(!(z.target.tagName==="TEXTAREA"||z.target.tagName==="INPUT")){if(z.button===1){z.preventDefault(),_(!0),F({x:z.clientX,y:z.clientY});return}if(z.button===0){if(te!==null){if(z.stopPropagation(),z.altKey){if(ce(te))if(Array.isArray(n)){const _e=n.filter(We=>We!==te);r(_e.length>0?_e:null)}else r(null);return}if(z.ctrlKey||z.metaKey){const _e=Array.isArray(n)?n:n?[n]:[];let We;_e.includes(te)?We=_e.filter(Oe=>Oe!==te):We=[..._e,te],r(We.length>0?We:null);return}I&&I!==te&&H(null),ce(te)||r(te);const he=e.find(_e=>_e.id===te);if(T&&T!==te&&M(null),!he.isLocked)if(D(!0),I===te)C.current={startMouse:{x:z.clientX,y:z.clientY},initialItemPos:{x:se.x,y:se.y},initialContentPos:{x:he.contentX||0,y:he.contentY||0},hasMoved:!1};else{const _e=Array.isArray(n)?n:n?[n]:[],We=_e.includes(te)?_e:[te],Oe={};We.forEach(nn=>{const rn=e.find(Hd=>Hd.id===nn);rn&&!rn.isLocked&&(Oe[nn]={x:rn.x,y:rn.y})}),C.current={startMouse:{x:z.clientX,y:z.clientY},initialItemPos:{x:se.x,y:se.y},initialPositions:Oe,initialContentPos:{x:he.contentX||0,y:he.contentY||0},hasMoved:!1}}return}if(a==="select"&&te===null){z.preventDefault();const he=zn(z.clientX,z.clientY,w,c,l);N({startX:he.x,startY:he.y,x:he.x,y:he.y,width:0,height:0}),r(null)}}}},Ji=(z,te,se)=>{if(z.stopPropagation(),a==="spline"&&!te){ue.length>1&&re(!1);return}se==="text"&&m==="canvas"?M(te):se==="image"&&m==="canvas"&&H(te),r(te)},qi=z=>{if(Q.current&&cancelAnimationFrame(Q.current),_(!1),(W||ke||$)&&C.current.hasMoved&&(f&&f(),C.current.hasMoved=!1),Z&&a==="draw"&&(pe(!1),ue.length>1&&o&&o(ue),ae([])),D(!1),be(!1),k(!1),R){const te=R,se=te.width>0&&te.x<te.startX,de=[];for(let ye=e.length-1;ye>=0;ye--){const le=e[ye],Ne=le.x+le.width,he=le.y+le.height,_e=te.x+te.width,We=te.y+te.height,Oe=le.x<_e&&Ne>te.x&&le.y<We&&he>te.y,nn=le.x>=te.x&&Ne<=_e&&le.y>=te.y&&he<=We;se?Oe&&de.push(le.id):nn&&de.push(le.id)}if(de.length>0)if(z&&(z.ctrlKey||z.metaKey)){const ye=Array.isArray(n)?n:n?[n]:[],le=[...new Set([...ye,...de])];r(le)}else r(de);else(!z||!z.ctrlKey&&!z.metaKey)&&r(null);N(null)}};L.useEffect(()=>{const z=w.current;if(!z)return;const te=se=>{se.ctrlKey||se.metaKey;{se.preventDefault();const{zoom:de,offset:ye}=ie.current,le=1.05,Ne=se.deltaY<0?de*le:de/le,he=z.getBoundingClientRect(),_e=se.clientX-he.left,We=se.clientY-he.top,Oe=(_e-ye.x)/de,nn=(We-ye.y)/de;s(Ne),p({x:_e-Oe*Ne,y:We-nn*Ne})}};return z.addEventListener("wheel",te,{passive:!1}),()=>z.removeEventListener("wheel",te)},[s,p]);const eo=async z=>{z.preventDefault();const te=w.current.getBoundingClientRect(),se=(z.clientX-te.left-c.x)/l,de=(z.clientY-te.top-c.y)/l;if(z.dataTransfer.files&&z.dataTransfer.files.length>0){const le=z.dataTransfer.files[0];le.type.startsWith("image/")&&E({type:"image",file:le,x:se,y:de});return}const ye=z.dataTransfer.getData("content");if(ye){const le=JSON.parse(z.dataTransfer.getData("sourceIds")||"[]");E({type:z.dataTransfer.getData("dragType")==="chatImage"?"image":"text",content:ye,x:se,y:de,sourceIds:le})}},_a=z=>z.preventDefault(),Cn=z=>{z.preventDefault()},tn=Tg(l),As=(z,te)=>Fg(l,z,te);return u.createElement("div",{ref:w,className:`flex-1 bg-gray-100 overflow-hidden relative h-full ${a==="select"?"cursor-default":"cursor-crosshair"}`,onMouseMove:Ct,onMouseUp:qi,onMouseDown:z=>{z.button===0&&a==="select"&&z.target===w.current&&(M(null),J(null)),en(z)},onContextMenu:Cn,onDrop:eo,onDragOver:_a},u.createElement("div",{className:"absolute inset-0 pointer-events-none",style:{backgroundImage:"radial-gradient(#ddd 1px, transparent 1px)",backgroundSize:"20px 20px",backgroundPosition:`${c.x}px ${c.y}px`,opacity:.5}}),u.createElement("div",{style:{transform:`translate(${c.x}px, ${c.y}px) scale(${l})`,transformOrigin:"0 0",position:"absolute",top:0,left:0,width:"100%",height:"100%"}},m==="tree"&&u.createElement(Dg,{images:e,highlightedLinks:at}),e.map((z,te)=>{const se=we.has(z.id),de=ce(z.id),ye=z.type==="frame"?0:de?20:10;return u.createElement("div",{key:z.id,onMouseDown:le=>{m==="canvas"&&a==="select"?en(le,z.id,{x:z.x,y:z.y}):m==="tree"?en(le,z.id,{x:z.x,y:z.y}):a!=="select"&&en(le)},onDoubleClick:le=>Ji(le,z.id,z.type),style:{position:"absolute",left:z.x,top:z.y,width:z.width,height:z.height,cursor:m==="tree"?"pointer":z.isLocked?"not-allowed":I===z.id?"move":"default",zIndex:ye,userSelect:"none",transform:`rotate(${z.rotation||0}deg)`,transformOrigin:"center center",willChange:W&&de?"top, left":"auto"},className:"transition-shadow duration-100"},m==="tree"&&u.createElement("div",{className:"absolute bg-zinc-800 text-white font-mono shadow-sm z-50 pointer-events-none",style:{...tn,top:"auto",bottom:"100%",right:"auto"}},"#",te+1),u.createElement("div",{className:"absolute left-0 bottom-full flex flex-wrap content-start pointer-events-none z-50 max-w-full",style:{gap:`${2/l}px`,marginBottom:`${2/l}px`}},Object.entries(v||{}).map(([le,Ne])=>(Ne==null?void 0:Ne.id)===z.id?u.createElement("div",{key:le,className:"bg-white border border-gray-300 text-gray-600 font-bold shadow-sm flex items-center justify-center select-none whitespace-nowrap",style:tn},le.toUpperCase()):null)),de&&u.createElement("div",{className:`absolute inset-0 pointer-events-none z-10 rounded-sm ${m==="tree"?"border-blue-600":I?"border-transparent":"border-blue-500"}`,style:As(!0,!1)}),m==="tree"&&se&&!de&&u.createElement("div",{className:"absolute inset-0 border-blue-400 pointer-events-none z-10 rounded-sm",style:As(!1,!0)}),z.type==="image"&&u.createElement(u.Fragment,null,I===z.id&&u.createElement("div",{style:{position:"absolute",top:0,left:0,overflow:"visible",pointerEvents:"none",width:"100%",height:"100%",zIndex:0}},u.createElement("img",{src:z.src,crossOrigin:"anonymous",style:{position:"absolute",top:z.contentY||0,left:z.contentX||0,width:z.contentWidth||"100%",height:z.contentHeight||"100%",opacity:.3,maxWidth:"none",maxHeight:"none"},alt:""})),u.createElement("div",{style:{width:"100%",height:"100%",overflow:"hidden",position:"relative",pointerEvents:"none",zIndex:1,opacity:z.opacity??1,background:z.fill||"transparent"}},u.createElement("img",{src:z.src,crossOrigin:"anonymous",onLoad:le=>Vn(z.id,le),alt:z.id,style:{position:"absolute",top:0,left:0,width:z.contentWidth||"100%",height:z.contentHeight||"100%",transform:`translate(${z.contentX||0}px, ${z.contentY||0}px)`,maxWidth:"none",maxHeight:"none",objectFit:"fill"}}))),z.type==="draw"&&u.createElement("svg",{style:{width:"100%",height:"100%",overflow:"visible",opacity:z.opacity??1}}," ",u.createElement("path",{d:Zu(z.points,z.width,z.height,z.originalWidth,z.originalHeight,!1),stroke:z.stroke,strokeWidth:z.strokeWidth,fill:"none",strokeLinecap:"round",strokeLinejoin:"round",style:{filter:z.blur?`blur(${z.blur}px)`:"none"}})," "),z.type==="spline"&&u.createElement("svg",{style:{width:"100%",height:"100%",overflow:"visible",opacity:z.opacity??1}}," ",u.createElement("path",{d:Zu(z.points,z.width,z.height,z.originalWidth,z.originalHeight,z.isClosed),stroke:z.stroke,strokeWidth:z.strokeWidth,fill:z.fill,strokeLinecap:"round",strokeLinejoin:"round"})," "),z.type==="shape"&&u.createElement("div",{style:{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center",background:m==="tree"?z.fill:"transparent"}},z.shapeType==="rectangle"&&u.createElement("div",{style:{position:"absolute",inset:0,backgroundColor:z.fill,opacity:z.opacity??1,border:m==="tree"?`${1/l}px solid rgba(0,0,0,0.1)`:"none",boxShadow:m!=="tree"?`inset 0 0 0 ${z.strokeWidth}px ${z.stroke}`:"none"}}),z.shapeType==="circle"&&u.createElement("div",{style:{position:"absolute",inset:0,borderRadius:"50%",backgroundColor:z.fill,opacity:z.opacity??1,border:m==="tree"?`${1/l}px solid rgba(0,0,0,0.1)`:"none",boxShadow:m!=="tree"?`inset 0 0 0 ${z.strokeWidth}px ${z.stroke}`:"none"}}),z.shapeType==="triangle"&&u.createElement("svg",{width:"100%",height:"100%",viewBox:"0 0 100 100",preserveAspectRatio:"none",style:{overflow:"visible"}},u.createElement("polygon",{points:"50,0 100,100 0,100",fill:z.fill,stroke:m!=="tree"?z.stroke:"none",strokeWidth:m!=="tree"?z.strokeWidth:0,opacity:z.opacity??1,strokeLinejoin:"round",vectorEffect:"non-scaling-stroke"})),m==="tree"&&u.createElement("div",{className:"font-bold text-white text-xs z-10 mix-blend-difference"},z.shapeType)),z.type==="text"&&(T===z.id?u.createElement("textarea",{value:z.text,autoFocus:!0,onChange:le=>ft({...z,text:le.target.value}),onMouseDown:le=>le.stopPropagation(),className:"w-full h-full bg-white/80 resize-none border-blue-500 outline-none p-2",style:{fontSize:`${z.fontSize}px`,fontFamily:z.fontFamily,fontWeight:z.fontWeight,textAlign:z.align,color:z.fill,WebkitTextStroke:`${z.strokeWidth}px ${z.stroke}`,paintOrder:"stroke fill",opacity:z.opacity??1,lineHeight:1.5,borderWidth:`${2/l}px`,userSelect:"text",cursor:"text"}}):u.createElement("div",{className:"w-full h-full flex items-center p-2",style:{justifyContent:m==="tree"?"center":z.align==="left"?"flex-start":z.align==="right"?"flex-end":"center",whiteSpace:"pre-wrap",textAlign:m==="tree"?"center":z.align,fontSize:`${z.fontSize}px`,fontFamily:z.fontFamily,fontWeight:z.fontWeight,color:z.fill,WebkitTextStroke:`${z.strokeWidth}px ${z.stroke}`,paintOrder:"stroke fill",opacity:z.opacity??1,lineHeight:1.5}},z.text)),z.type==="frame"&&u.createElement("div",{className:"w-full h-full relative"},u.createElement("div",{style:{position:"absolute",inset:0,backgroundColor:z.fill,opacity:z.opacity??1}}),u.createElement("div",{className:"absolute pointer-events-none",style:{left:`-${2/l}px`,top:`-${2/l}px`,right:`-${2/l}px`,bottom:`-${2/l}px`,border:`${2/l}px dashed ${z.stroke||"#4b5563"}`}}),u.createElement("div",{className:"absolute left-0 bg-gray-400 text-white font-mono flex items-center",style:{...tn,top:"auto",bottom:"100%",pointerEvents:"auto",cursor:"text"}},ne===z.id?u.createElement("input",{autoFocus:!0,value:z.name!==void 0?z.name:"FRAME",onChange:le=>bn(z.id,le.target.value),onBlur:Ie,onKeyDown:le=>le.key==="Enter"&&Ie(),onMouseDown:le=>{le.button!==2&&le.stopPropagation()},className:"bg-transparent text-white outline-none",style:{width:`${(z.name||"FRAME").length+2}ch`,minWidth:"40px",fontSize:"inherit",fontFamily:"inherit"}}):u.createElement("span",{onDoubleClick:le=>{le.stopPropagation(),J(z.id)}},z.name||"FRAME"))),u.createElement(Mg,{obj:z,selectedId:de?z.id:null,zoom:l,croppingId:I,viewMode:m,onMouseDown:en}))}),Z&&a==="draw"&&ue.length>0&&u.createElement("svg",{style:{position:"absolute",left:0,top:0,overflow:"visible",pointerEvents:"none",width:"100%",height:"100%",zIndex:100}}," ",u.createElement("path",{d:`M ${ue.map(z=>`${z.x} ${z.y}`).join(" L ")}`,stroke:d.stroke,strokeWidth:d.strokeWidth,fill:"none",strokeLinecap:"round",strokeLinejoin:"round",style:{filter:d.blur?`blur(${d.blur}px)`:"none",opacity:d.opacity}})," "),a==="spline"&&ue.length>0&&u.createElement("svg",{style:{position:"absolute",left:0,top:0,overflow:"visible",pointerEvents:"none",width:"100%",height:"100%",zIndex:100}},ue.length>0&&u.createElement("path",{d:`M ${ue.map(z=>`${z.x} ${z.y}`).join(" L ")}`,stroke:"#0096FF",strokeWidth:2/l,fill:"none"}),me&&u.createElement("line",{x1:ue[ue.length-1].x,y1:ue[ue.length-1].y,x2:me.x,y2:me.y,stroke:"#0096FF",strokeWidth:1/l,strokeDasharray:`${4/l} ${4/l}`}),ue.map((z,te)=>u.createElement("circle",{key:te,cx:z.x,cy:z.y,r:4/l,fill:"white",stroke:"#0096FF",strokeWidth:2/l}))),R&&u.createElement("div",{style:{position:"absolute",left:R.x,top:R.y,width:R.width,height:R.height,border:`1px ${R.x<R.startX?"dashed":"solid"} #00a8ff`,backgroundColor:R.x<R.startX?"rgba(0, 168, 255, 0.1)":"rgba(0, 168, 255, 0.2)",pointerEvents:"none",zIndex:9999}})),(bt&&!X&&m==="canvas"||a==="draw")&&u.createElement(Lg,{selectedObject:bt||{type:"draw",...d,id:"global_draw_settings"},zoom:l,offset:c,onUpdateObject:bt?ft:z=>g(te=>({...te,...z})),onAction:Nr,isProcessing:U,isCropping:!!I,isGlobalSettings:!bt&&a==="draw",resizeMode:b,onToggleResizeMode:()=>K(z=>z==="crop"?"scale":"crop")}),u.createElement(Bg,{contextMenu:X,onLayerAction:x,setContextMenu:Y,activeWorkflow:h,onSelect:r,selectedIds:Array.isArray(n)?n:n?[n]:[]}))},Hg=({viewMode:e,onViewModeChange:t})=>u.createElement("div",{className:"absolute top-4 left-4 z-50 bg-white rounded-lg shadow-md border border-gray-200 p-1 flex items-center gap-1 select-none"},u.createElement("button",{onClick:()=>t("canvas"),className:`flex items-center gap-2 px-3 py-1.5 rounded-md text-xs font-bold transition-all ${e==="canvas"?"bg-gray-100 text-gray-900 shadow-sm":"text-gray-500 hover:bg-gray-50"}`},u.createElement(On,{size:14})," "),u.createElement("button",{onClick:()=>t("tree"),className:`flex items-center gap-2 px-3 py-1.5 rounded-md text-xs font-bold transition-all ${e==="tree"?"bg-zinc-800 text-white shadow-sm":"text-gray-500 hover:bg-gray-50"}`},u.createElement(kg,{size:14})," ")),jg=({onClose:e})=>u.createElement("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4"},u.createElement("div",{className:"bg-white rounded-lg shadow-xl p-6 w-full max-w-3xl max-h-[90vh] flex flex-col"},u.createElement("div",{className:"flex justify-between items-center border-b pb-3 mb-4 shrink-0"},u.createElement("h2",{className:"text-2xl font-bold"},""),u.createElement("button",{onClick:e,className:"text-gray-500 hover:text-gray-800 text-3xl font-light","aria-label":"Close"},"")),u.createElement("div",{className:"space-y-6 overflow-y-auto pr-2 text-gray-700"},u.createElement("div",null,u.createElement("h3",{className:"text-xl font-semibold mb-2 border-l-4 border-blue-500 pl-3"},"1. "),u.createElement("ul",{className:"list-disc list-inside space-y-2 mt-2"},u.createElement("li",null,u.createElement("strong",null,":")," "),u.createElement("li",null,u.createElement("strong",null,":"),"  ",u.createElement("strong",null,"")," "),u.createElement("li",null,u.createElement("strong",null,":")," "),u.createElement("li",null,u.createElement("strong",null,"/:")," ,ctrlatl"),u.createElement("li",null,u.createElement("strong",null,":")," "),u.createElement("li",null,u.createElement("strong",null,":")," "),u.createElement("li",null,u.createElement("strong",null,":")," "),u.createElement("li",null,u.createElement("strong",null,":")," indesign"),u.createElement("li",null,u.createElement("strong",null,":")," comfyuiapi"),u.createElement("li",null,u.createElement("strong",null,":")," 0"),u.createElement("li",null,u.createElement("strong",null,":")," ctrlpng"))),u.createElement("div",null,u.createElement("h3",{className:"text-xl font-semibold mb-2 border-l-4 border-blue-500 pl-3"},"2. "),u.createElement("p",{className:"mt-2"}," ",u.createElement("kbd",null,"<")," / ",u.createElement("kbd",null,">")," "),u.createElement("ul",{className:"space-y-3 mt-3"},u.createElement("li",{className:"p-3 bg-gray-50 rounded-lg"},u.createElement("strong",{className:"flex items-center gap-2"},u.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},u.createElement("rect",{x:"2",y:"2",width:"20",height:"8",rx:"2",ry:"2"}),u.createElement("rect",{x:"2",y:"14",width:"20",height:"8",rx:"2",ry:"2"}),u.createElement("line",{x1:"6",y1:"6",x2:"6.01",y2:"6"}),u.createElement("line",{x1:"6",y1:"18",x2:"6.01",y2:"18"}))," ComfyUI "),u.createElement("p",{className:"mt-1 text-sm"}," ComfyUI "),u.createElement("p",{className:"mt-2 text-sm font-semibold"},""),u.createElement("p",{className:"mt-2 text-sm font-semibold"},"idfieldnameidIDcomfyui#fieldname"),u.createElement("p",{className:"mt-2 text-sm font-semibold"},""),u.createElement("p",{className:"text-sm"}," ",u.createElement("strong",null,"...")," `base_image`, `mask` ")),u.createElement("li",{className:"p-3 bg-gray-50 rounded-lg"},u.createElement("strong",{className:"flex items-center gap-2"},u.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},u.createElement("path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"}))," AI "),u.createElement("p",{className:"mt-1 text-sm"}," AI  Gemini, GPT-4 Vision AI"),u.createElement("p",{className:"mt-2 text-sm"},"AI AI "),u.createElement("p",{className:"mt-2 text-sm"},"apikey")))),u.createElement("div",null,u.createElement("h3",{className:"text-xl font-semibold mb-2 border-l-4 border-blue-500 pl-3"},"3. "),u.createElement("p",{className:"mt-2"},""),u.createElement("ul",{className:"list-disc list-inside space-y-2 mt-2"},u.createElement("li",null,u.createElement("strong",null,"")," "),u.createElement("li",null,u.createElement("strong",null,":")," workspace"),u.createElement("li",null,u.createElement("strong",null,":")," "),u.createElement("li",null,u.createElement("strong",null,":")," "))),u.createElement("div",null,u.createElement("h3",{className:"text-xl font-semibold mb-2 border-l-4 border-blue-500 pl-3"},"4.  ()"),u.createElement("p",{className:"mt-2"},""),u.createElement("ul",{className:"list-disc list-inside space-y-2 mt-2"},u.createElement("li",null,u.createElement("strong",null," (Remove Background):"),"  `rembg` "),u.createElement("li",null,u.createElement("strong",null," (Create Mask Layer):")," "),u.createElement("li",null,u.createElement("strong",null," (Composite):")," "),u.createElement("li",null,u.createElement("strong",null," (Create Canvas from Image):")," Frame"),u.createElement("li",null,u.createElement("strong",null," (Crop):")," "),u.createElement("li",null,u.createElement("strong",null," (Save Image Locally):")," "))),u.createElement("div",null,u.createElement("h3",{className:"text-xl font-semibold mb-2 border-l-4 border-blue-500 pl-3"},"5. "),u.createElement("ul",{className:"list-disc list-inside space-y-2 mt-2"},u.createElement("li",null,u.createElement("strong",null,":")," "),u.createElement("li",null,u.createElement("strong",null,":")," "),u.createElement("li",null)))),u.createElement("div",{className:"border-t pt-4 mt-4 text-right shrink-0"},u.createElement("button",{onClick:e,className:"px-5 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50"},"")))),Vg=e=>{const t=L.useRef([e]),n=L.useRef(0),[,r]=L.useState({}),a=L.useCallback(l=>{const s=n.current,p=t.current.slice(0,s+1);p.push(JSON.parse(JSON.stringify(l))),p.length>50?(p.shift(),n.current=p.length-1):n.current+=1,t.current=p,r({})},[]),i=L.useCallback(()=>n.current>0?(n.current-=1,r({}),JSON.parse(JSON.stringify(t.current[n.current]))):null,[]),o=L.useCallback(()=>n.current<t.current.length-1?(n.current+=1,r({}),JSON.parse(JSON.stringify(t.current[n.current]))):null,[]);return{takeSnapshot:a,undo:i,redo:o,canUndo:n.current>0,canRedo:n.current<t.current.length-1}},Yg=(e,t=!0)=>{if(!e||e.length<2)return null;let n=1/0,r=1/0,a=-1/0,i=-1/0;e.forEach(p=>{n=Math.min(n,p.x),r=Math.min(r,p.y),a=Math.max(a,p.x),i=Math.max(i,p.y)});const o=5;n-=o,r-=o,a+=o,i+=o;const l=Math.max(10,a-n),s=Math.max(10,i-r),c=e.map(p=>({x:p.x-n,y:p.y-r}));return{id:`spline_${Date.now()}`,type:"spline",x:n,y:r,width:l,height:s,originalWidth:l,originalHeight:s,points:c,fill:t?"#FF6B6B":"transparent",stroke:"#000000",strokeWidth:2,isClosed:t,opacity:1,isLocked:!1}},Kg=(e,t)=>{if(!e||e.length<2)return null;let n=1/0,r=1/0,a=-1/0,i=-1/0;e.forEach(p=>{n=Math.min(n,p.x),r=Math.min(r,p.y),a=Math.max(a,p.x),i=Math.max(i,p.y)});const o=5;n-=o,r-=o,a+=o,i+=o;const l=Math.max(10,a-n),s=Math.max(10,i-r),c=e.map(p=>({x:p.x-n,y:p.y-r}));return{id:`draw_${Date.now()}`,type:"draw",points:c,x:n,y:r,width:l,height:s,originalWidth:l,originalHeight:s,stroke:t.stroke||"#000000",strokeWidth:t.strokeWidth||5,opacity:t.opacity??1,blur:t.blur??0,rotation:0,isLocked:!1}},Ao=8,Xg=e=>new Promise((t,n)=>{const r=new Image;!e.startsWith("data:")&&!e.startsWith("blob:")&&(r.crossOrigin="Anonymous"),r.src=e,r.onload=()=>t(r),r.onerror=a=>n(a)}),Zg=(e,t,n,r,a,i)=>{const o=t.width/t.height,l=a/i;let s=0,c=0,p=t.width,d=t.height;o>l?(p=t.height*l,s=(t.width-p)/2):(d=t.width/l,c=(t.height-d)/2),e.drawImage(t,s,c,p,d,n,r,a,i)},Qg=e=>{const t=document.createElement("canvas");t.width=e.naturalWidth||e.width,t.height=e.naturalHeight||e.height;const n=t.getContext("2d");return n.drawImage(e,0,0),n.globalCompositeOperation="source-in",n.fillStyle="#FFFFFF",n.fillRect(0,0,t.width,t.height),t},Gg=(e,t,n)=>{const r=t.split("");let a=[],i="";for(let o=0;o<r.length;o++){const l=r[o];if(l===`
`){a.push(i),i="";continue}const s=i+l;e.measureText(s).width>n&&o>0?(a.push(i),i=l):i=s}return a.push(i),a},Gu=(e,t,n,r,a,i,o)=>{if(!t||t.length===0)return;const l=n/a,s=r/i;e.beginPath(),t.forEach((c,p)=>{const d=c.x*l,g=c.y*s;p===0?e.moveTo(d,g):e.lineTo(d,g)}),o&&e.closePath()},Ju=async(e,t,n=!1)=>{const r=t.filter(o=>o.id===e.id?!1:o.x<e.x+e.width&&o.x+o.width>e.x&&o.y<e.y+e.height&&o.y+o.height>e.y).sort((o,l)=>(o.zIndex||1)-(l.zIndex||1)),a=document.createElement("canvas");a.width=e.width,a.height=e.height;const i=a.getContext("2d");n?(i.fillStyle="#000000",i.fillRect(0,0,a.width,a.height)):e.fill&&e.fill!=="transparent"&&(i.globalAlpha=e.opacity??1,i.fillStyle=e.fill,i.fillRect(0,0,a.width,a.height));for(const o of r){i.save();const l=o.x-e.x,s=o.y-e.y,c=o.opacity??1;if(i.globalAlpha=c,i.translate(l,s),o.rotation){const p=o.width/2,d=o.height/2;i.translate(p,d),i.rotate(o.rotation*Math.PI/180),i.translate(-p,-d)}if(o.type==="image")try{const p=await Xg(o.src);let d=p;n&&(d=Qg(p)),i.beginPath(),i.rect(0,0,o.width,o.height),i.clip(),o.contentWidth?i.drawImage(d,o.contentX||0,o.contentY||0,o.contentWidth,o.contentHeight):Zg(i,d,0,0,o.width,o.height)}catch(p){console.error("Export Image Error:",p)}else if(o.type==="shape"){i.beginPath();const p=o.fill&&o.fill!=="none"&&o.fill!=="transparent",d=n?p?"#FFFFFF":"transparent":o.fill,g=o.stroke&&o.stroke!=="none"&&o.stroke!=="transparent",m=n?g?"#FFFFFF":"transparent":o.stroke;o.shapeType==="circle"?i.ellipse(o.width/2,o.height/2,o.width/2,o.height/2,0,0,2*Math.PI):o.shapeType==="triangle"?(i.moveTo(o.width/2,0),i.lineTo(o.width,o.height),i.lineTo(0,o.height),i.closePath()):i.rect(0,0,o.width,o.height),d&&d!=="transparent"&&(i.fillStyle=d,i.fill()),m&&m!=="transparent"&&o.strokeWidth>0&&(i.lineWidth=o.strokeWidth,i.strokeStyle=m,i.stroke())}else if(o.type==="draw")o.blur>0&&(i.filter=`blur(${o.blur}px)`),Gu(i,o.points,o.width,o.height,o.originalWidth,o.originalHeight,!1),i.lineCap="round",i.lineJoin="round",i.lineWidth=o.strokeWidth||5,i.strokeStyle=n?"#FFFFFF":o.stroke||"#000",i.stroke(),i.filter="none";else if(o.type==="spline"){Gu(i,o.points,o.width,o.height,o.originalWidth,o.originalHeight,o.isClosed);const p=o.fill&&o.fill!=="none"&&o.fill!=="transparent",d=n?p?"#FFFFFF":"transparent":o.fill,g=o.stroke&&o.stroke!=="none"&&o.stroke!=="transparent",m=n?g?"#FFFFFF":"transparent":o.stroke;o.isClosed&&d&&d!=="transparent"&&(i.fillStyle=d,i.fill()),m&&m!=="transparent"&&(i.lineCap="round",i.lineJoin="round",i.lineWidth=o.strokeWidth||2,i.strokeStyle=m,i.stroke())}else if(o.type==="text"){const p=o.fontSize||24,d=o.fontWeight||"normal",g=o.fontFamily||"sans-serif";i.font=`${d} ${p}px ${g}`,i.textBaseline="top",i.fillStyle=n?"#FFFFFF":o.fill||"#000000",o.strokeWidth>0&&o.stroke!=="transparent"&&(i.lineWidth=o.strokeWidth,i.strokeStyle=n?"#FFFFFF":o.stroke);const m=o.width-Ao*2,x=(o.text||"").split(`
`);let v=[];x.forEach(S=>v=v.concat(Gg(i,S,m)));const E=p*1.5,f=v.length*E,h=(E-p)/2,w=(o.height-f)/2+h;v.forEach((S,_)=>{const A=w+_*E;let F=0;const W=i.measureText(S).width;o.align==="center"?F=(o.width-W)/2:o.align==="right"?F=o.width-Ao-W:F=Ao,o.strokeWidth>0&&i.strokeText(S,F,A),i.fillText(S,F,A)})}i.restore()}return a.toDataURL("image/png")};function Ha(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Od={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/(function(e,t){(function(n){e.exports=n()})(function(){return function n(r,a,i){function o(c,p){if(!a[c]){if(!r[c]){var d=typeof Ha=="function"&&Ha;if(!p&&d)return d(c,!0);if(l)return l(c,!0);var g=new Error("Cannot find module '"+c+"'");throw g.code="MODULE_NOT_FOUND",g}var m=a[c]={exports:{}};r[c][0].call(m.exports,function(x){var v=r[c][1][x];return o(v||x)},m,m.exports,n,r,a,i)}return a[c].exports}for(var l=typeof Ha=="function"&&Ha,s=0;s<i.length;s++)o(i[s]);return o}({1:[function(n,r,a){var i=n("./utils"),o=n("./support"),l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";a.encode=function(s){for(var c,p,d,g,m,x,v,E=[],f=0,h=s.length,w=h,S=i.getTypeOf(s)!=="string";f<s.length;)w=h-f,d=S?(c=s[f++],p=f<h?s[f++]:0,f<h?s[f++]:0):(c=s.charCodeAt(f++),p=f<h?s.charCodeAt(f++):0,f<h?s.charCodeAt(f++):0),g=c>>2,m=(3&c)<<4|p>>4,x=1<w?(15&p)<<2|d>>6:64,v=2<w?63&d:64,E.push(l.charAt(g)+l.charAt(m)+l.charAt(x)+l.charAt(v));return E.join("")},a.decode=function(s){var c,p,d,g,m,x,v=0,E=0,f="data:";if(s.substr(0,f.length)===f)throw new Error("Invalid base64 input, it looks like a data url.");var h,w=3*(s=s.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(s.charAt(s.length-1)===l.charAt(64)&&w--,s.charAt(s.length-2)===l.charAt(64)&&w--,w%1!=0)throw new Error("Invalid base64 input, bad content length.");for(h=o.uint8array?new Uint8Array(0|w):new Array(0|w);v<s.length;)c=l.indexOf(s.charAt(v++))<<2|(g=l.indexOf(s.charAt(v++)))>>4,p=(15&g)<<4|(m=l.indexOf(s.charAt(v++)))>>2,d=(3&m)<<6|(x=l.indexOf(s.charAt(v++))),h[E++]=c,m!==64&&(h[E++]=p),x!==64&&(h[E++]=d);return h}},{"./support":30,"./utils":32}],2:[function(n,r,a){var i=n("./external"),o=n("./stream/DataWorker"),l=n("./stream/Crc32Probe"),s=n("./stream/DataLengthProbe");function c(p,d,g,m,x){this.compressedSize=p,this.uncompressedSize=d,this.crc32=g,this.compression=m,this.compressedContent=x}c.prototype={getContentWorker:function(){var p=new o(i.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new s("data_length")),d=this;return p.on("end",function(){if(this.streamInfo.data_length!==d.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),p},getCompressedWorker:function(){return new o(i.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},c.createWorkerFrom=function(p,d,g){return p.pipe(new l).pipe(new s("uncompressedSize")).pipe(d.compressWorker(g)).pipe(new s("compressedSize")).withStreamInfo("compression",d)},r.exports=c},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(n,r,a){var i=n("./stream/GenericWorker");a.STORE={magic:"\0\0",compressWorker:function(){return new i("STORE compression")},uncompressWorker:function(){return new i("STORE decompression")}},a.DEFLATE=n("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(n,r,a){var i=n("./utils"),o=function(){for(var l,s=[],c=0;c<256;c++){l=c;for(var p=0;p<8;p++)l=1&l?3988292384^l>>>1:l>>>1;s[c]=l}return s}();r.exports=function(l,s){return l!==void 0&&l.length?i.getTypeOf(l)!=="string"?function(c,p,d,g){var m=o,x=g+d;c^=-1;for(var v=g;v<x;v++)c=c>>>8^m[255&(c^p[v])];return-1^c}(0|s,l,l.length,0):function(c,p,d,g){var m=o,x=g+d;c^=-1;for(var v=g;v<x;v++)c=c>>>8^m[255&(c^p.charCodeAt(v))];return-1^c}(0|s,l,l.length,0):0}},{"./utils":32}],5:[function(n,r,a){a.base64=!1,a.binary=!1,a.dir=!1,a.createFolders=!0,a.date=null,a.compression=null,a.compressionOptions=null,a.comment=null,a.unixPermissions=null,a.dosPermissions=null},{}],6:[function(n,r,a){var i=null;i=typeof Promise<"u"?Promise:n("lie"),r.exports={Promise:i}},{lie:37}],7:[function(n,r,a){var i=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",o=n("pako"),l=n("./utils"),s=n("./stream/GenericWorker"),c=i?"uint8array":"array";function p(d,g){s.call(this,"FlateWorker/"+d),this._pako=null,this._pakoAction=d,this._pakoOptions=g,this.meta={}}a.magic="\b\0",l.inherits(p,s),p.prototype.processChunk=function(d){this.meta=d.meta,this._pako===null&&this._createPako(),this._pako.push(l.transformTo(c,d.data),!1)},p.prototype.flush=function(){s.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},p.prototype.cleanUp=function(){s.prototype.cleanUp.call(this),this._pako=null},p.prototype._createPako=function(){this._pako=new o[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var d=this;this._pako.onData=function(g){d.push({data:g,meta:d.meta})}},a.compressWorker=function(d){return new p("Deflate",d)},a.uncompressWorker=function(){return new p("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(n,r,a){function i(m,x){var v,E="";for(v=0;v<x;v++)E+=String.fromCharCode(255&m),m>>>=8;return E}function o(m,x,v,E,f,h){var w,S,_=m.file,A=m.compression,F=h!==c.utf8encode,W=l.transformTo("string",h(_.name)),D=l.transformTo("string",c.utf8encode(_.name)),b=_.comment,K=l.transformTo("string",h(b)),C=l.transformTo("string",c.utf8encode(b)),$=D.length!==_.name.length,k=C.length!==b.length,P="",j="",O="",B=_.dir,I=_.date,H={crc32:0,compressedSize:0,uncompressedSize:0};x&&!v||(H.crc32=m.crc32,H.compressedSize=m.compressedSize,H.uncompressedSize=m.uncompressedSize);var T=0;x&&(T|=8),F||!$&&!k||(T|=2048);var M=0,ne=0;B&&(M|=16),f==="UNIX"?(ne=798,M|=function(Z,pe){var ue=Z;return Z||(ue=pe?16893:33204),(65535&ue)<<16}(_.unixPermissions,B)):(ne=20,M|=function(Z){return 63&(Z||0)}(_.dosPermissions)),w=I.getUTCHours(),w<<=6,w|=I.getUTCMinutes(),w<<=5,w|=I.getUTCSeconds()/2,S=I.getUTCFullYear()-1980,S<<=4,S|=I.getUTCMonth()+1,S<<=5,S|=I.getUTCDate(),$&&(j=i(1,1)+i(p(W),4)+D,P+="up"+i(j.length,2)+j),k&&(O=i(1,1)+i(p(K),4)+C,P+="uc"+i(O.length,2)+O);var J="";return J+=`
\0`,J+=i(T,2),J+=A.magic,J+=i(w,2),J+=i(S,2),J+=i(H.crc32,4),J+=i(H.compressedSize,4),J+=i(H.uncompressedSize,4),J+=i(W.length,2),J+=i(P.length,2),{fileRecord:d.LOCAL_FILE_HEADER+J+W+P,dirRecord:d.CENTRAL_FILE_HEADER+i(ne,2)+J+i(K.length,2)+"\0\0\0\0"+i(M,4)+i(E,4)+W+P+K}}var l=n("../utils"),s=n("../stream/GenericWorker"),c=n("../utf8"),p=n("../crc32"),d=n("../signature");function g(m,x,v,E){s.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=x,this.zipPlatform=v,this.encodeFileName=E,this.streamFiles=m,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}l.inherits(g,s),g.prototype.push=function(m){var x=m.meta.percent||0,v=this.entriesCount,E=this._sources.length;this.accumulate?this.contentBuffer.push(m):(this.bytesWritten+=m.data.length,s.prototype.push.call(this,{data:m.data,meta:{currentFile:this.currentFile,percent:v?(x+100*(v-E-1))/v:100}}))},g.prototype.openedSource=function(m){this.currentSourceOffset=this.bytesWritten,this.currentFile=m.file.name;var x=this.streamFiles&&!m.file.dir;if(x){var v=o(m,x,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:v.fileRecord,meta:{percent:0}})}else this.accumulate=!0},g.prototype.closedSource=function(m){this.accumulate=!1;var x=this.streamFiles&&!m.file.dir,v=o(m,x,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(v.dirRecord),x)this.push({data:function(E){return d.DATA_DESCRIPTOR+i(E.crc32,4)+i(E.compressedSize,4)+i(E.uncompressedSize,4)}(m),meta:{percent:100}});else for(this.push({data:v.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},g.prototype.flush=function(){for(var m=this.bytesWritten,x=0;x<this.dirRecords.length;x++)this.push({data:this.dirRecords[x],meta:{percent:100}});var v=this.bytesWritten-m,E=function(f,h,w,S,_){var A=l.transformTo("string",_(S));return d.CENTRAL_DIRECTORY_END+"\0\0\0\0"+i(f,2)+i(f,2)+i(h,4)+i(w,4)+i(A.length,2)+A}(this.dirRecords.length,v,m,this.zipComment,this.encodeFileName);this.push({data:E,meta:{percent:100}})},g.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},g.prototype.registerPrevious=function(m){this._sources.push(m);var x=this;return m.on("data",function(v){x.processChunk(v)}),m.on("end",function(){x.closedSource(x.previous.streamInfo),x._sources.length?x.prepareNextSource():x.end()}),m.on("error",function(v){x.error(v)}),this},g.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},g.prototype.error=function(m){var x=this._sources;if(!s.prototype.error.call(this,m))return!1;for(var v=0;v<x.length;v++)try{x[v].error(m)}catch{}return!0},g.prototype.lock=function(){s.prototype.lock.call(this);for(var m=this._sources,x=0;x<m.length;x++)m[x].lock()},r.exports=g},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(n,r,a){var i=n("../compressions"),o=n("./ZipFileWorker");a.generateWorker=function(l,s,c){var p=new o(s.streamFiles,c,s.platform,s.encodeFileName),d=0;try{l.forEach(function(g,m){d++;var x=function(h,w){var S=h||w,_=i[S];if(!_)throw new Error(S+" is not a valid compression method !");return _}(m.options.compression,s.compression),v=m.options.compressionOptions||s.compressionOptions||{},E=m.dir,f=m.date;m._compressWorker(x,v).withStreamInfo("file",{name:g,dir:E,date:f,comment:m.comment||"",unixPermissions:m.unixPermissions,dosPermissions:m.dosPermissions}).pipe(p)}),p.entriesCount=d}catch(g){p.error(g)}return p}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(n,r,a){function i(){if(!(this instanceof i))return new i;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var o=new i;for(var l in this)typeof this[l]!="function"&&(o[l]=this[l]);return o}}(i.prototype=n("./object")).loadAsync=n("./load"),i.support=n("./support"),i.defaults=n("./defaults"),i.version="3.10.1",i.loadAsync=function(o,l){return new i().loadAsync(o,l)},i.external=n("./external"),r.exports=i},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(n,r,a){var i=n("./utils"),o=n("./external"),l=n("./utf8"),s=n("./zipEntries"),c=n("./stream/Crc32Probe"),p=n("./nodejsUtils");function d(g){return new o.Promise(function(m,x){var v=g.decompressed.getContentWorker().pipe(new c);v.on("error",function(E){x(E)}).on("end",function(){v.streamInfo.crc32!==g.decompressed.crc32?x(new Error("Corrupted zip : CRC32 mismatch")):m()}).resume()})}r.exports=function(g,m){var x=this;return m=i.extend(m||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:l.utf8decode}),p.isNode&&p.isStream(g)?o.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):i.prepareContent("the loaded zip file",g,!0,m.optimizedBinaryString,m.base64).then(function(v){var E=new s(m);return E.load(v),E}).then(function(v){var E=[o.Promise.resolve(v)],f=v.files;if(m.checkCRC32)for(var h=0;h<f.length;h++)E.push(d(f[h]));return o.Promise.all(E)}).then(function(v){for(var E=v.shift(),f=E.files,h=0;h<f.length;h++){var w=f[h],S=w.fileNameStr,_=i.resolve(w.fileNameStr);x.file(_,w.decompressed,{binary:!0,optimizedBinaryString:!0,date:w.date,dir:w.dir,comment:w.fileCommentStr.length?w.fileCommentStr:null,unixPermissions:w.unixPermissions,dosPermissions:w.dosPermissions,createFolders:m.createFolders}),w.dir||(x.file(_).unsafeOriginalName=S)}return E.zipComment.length&&(x.comment=E.zipComment),x})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(n,r,a){var i=n("../utils"),o=n("../stream/GenericWorker");function l(s,c){o.call(this,"Nodejs stream input adapter for "+s),this._upstreamEnded=!1,this._bindStream(c)}i.inherits(l,o),l.prototype._bindStream=function(s){var c=this;(this._stream=s).pause(),s.on("data",function(p){c.push({data:p,meta:{percent:0}})}).on("error",function(p){c.isPaused?this.generatedError=p:c.error(p)}).on("end",function(){c.isPaused?c._upstreamEnded=!0:c.end()})},l.prototype.pause=function(){return!!o.prototype.pause.call(this)&&(this._stream.pause(),!0)},l.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},r.exports=l},{"../stream/GenericWorker":28,"../utils":32}],13:[function(n,r,a){var i=n("readable-stream").Readable;function o(l,s,c){i.call(this,s),this._helper=l;var p=this;l.on("data",function(d,g){p.push(d)||p._helper.pause(),c&&c(g)}).on("error",function(d){p.emit("error",d)}).on("end",function(){p.push(null)})}n("../utils").inherits(o,i),o.prototype._read=function(){this._helper.resume()},r.exports=o},{"../utils":32,"readable-stream":16}],14:[function(n,r,a){r.exports={isNode:typeof Buffer<"u",newBufferFrom:function(i,o){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(i,o);if(typeof i=="number")throw new Error('The "data" argument must not be a number');return new Buffer(i,o)},allocBuffer:function(i){if(Buffer.alloc)return Buffer.alloc(i);var o=new Buffer(i);return o.fill(0),o},isBuffer:function(i){return Buffer.isBuffer(i)},isStream:function(i){return i&&typeof i.on=="function"&&typeof i.pause=="function"&&typeof i.resume=="function"}}},{}],15:[function(n,r,a){function i(_,A,F){var W,D=l.getTypeOf(A),b=l.extend(F||{},p);b.date=b.date||new Date,b.compression!==null&&(b.compression=b.compression.toUpperCase()),typeof b.unixPermissions=="string"&&(b.unixPermissions=parseInt(b.unixPermissions,8)),b.unixPermissions&&16384&b.unixPermissions&&(b.dir=!0),b.dosPermissions&&16&b.dosPermissions&&(b.dir=!0),b.dir&&(_=f(_)),b.createFolders&&(W=E(_))&&h.call(this,W,!0);var K=D==="string"&&b.binary===!1&&b.base64===!1;F&&F.binary!==void 0||(b.binary=!K),(A instanceof d&&A.uncompressedSize===0||b.dir||!A||A.length===0)&&(b.base64=!1,b.binary=!0,A="",b.compression="STORE",D="string");var C=null;C=A instanceof d||A instanceof s?A:x.isNode&&x.isStream(A)?new v(_,A):l.prepareContent(_,A,b.binary,b.optimizedBinaryString,b.base64);var $=new g(_,C,b);this.files[_]=$}var o=n("./utf8"),l=n("./utils"),s=n("./stream/GenericWorker"),c=n("./stream/StreamHelper"),p=n("./defaults"),d=n("./compressedObject"),g=n("./zipObject"),m=n("./generate"),x=n("./nodejsUtils"),v=n("./nodejs/NodejsStreamInputAdapter"),E=function(_){_.slice(-1)==="/"&&(_=_.substring(0,_.length-1));var A=_.lastIndexOf("/");return 0<A?_.substring(0,A):""},f=function(_){return _.slice(-1)!=="/"&&(_+="/"),_},h=function(_,A){return A=A!==void 0?A:p.createFolders,_=f(_),this.files[_]||i.call(this,_,null,{dir:!0,createFolders:A}),this.files[_]};function w(_){return Object.prototype.toString.call(_)==="[object RegExp]"}var S={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(_){var A,F,W;for(A in this.files)W=this.files[A],(F=A.slice(this.root.length,A.length))&&A.slice(0,this.root.length)===this.root&&_(F,W)},filter:function(_){var A=[];return this.forEach(function(F,W){_(F,W)&&A.push(W)}),A},file:function(_,A,F){if(arguments.length!==1)return _=this.root+_,i.call(this,_,A,F),this;if(w(_)){var W=_;return this.filter(function(b,K){return!K.dir&&W.test(b)})}var D=this.files[this.root+_];return D&&!D.dir?D:null},folder:function(_){if(!_)return this;if(w(_))return this.filter(function(D,b){return b.dir&&_.test(D)});var A=this.root+_,F=h.call(this,A),W=this.clone();return W.root=F.name,W},remove:function(_){_=this.root+_;var A=this.files[_];if(A||(_.slice(-1)!=="/"&&(_+="/"),A=this.files[_]),A&&!A.dir)delete this.files[_];else for(var F=this.filter(function(D,b){return b.name.slice(0,_.length)===_}),W=0;W<F.length;W++)delete this.files[F[W].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(_){var A,F={};try{if((F=l.extend(_||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:o.utf8encode})).type=F.type.toLowerCase(),F.compression=F.compression.toUpperCase(),F.type==="binarystring"&&(F.type="string"),!F.type)throw new Error("No output type specified.");l.checkSupport(F.type),F.platform!=="darwin"&&F.platform!=="freebsd"&&F.platform!=="linux"&&F.platform!=="sunos"||(F.platform="UNIX"),F.platform==="win32"&&(F.platform="DOS");var W=F.comment||this.comment||"";A=m.generateWorker(this,F,W)}catch(D){(A=new s("error")).error(D)}return new c(A,F.type||"string",F.mimeType)},generateAsync:function(_,A){return this.generateInternalStream(_).accumulate(A)},generateNodeStream:function(_,A){return(_=_||{}).type||(_.type="nodebuffer"),this.generateInternalStream(_).toNodejsStream(A)}};r.exports=S},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(n,r,a){r.exports=n("stream")},{stream:void 0}],17:[function(n,r,a){var i=n("./DataReader");function o(l){i.call(this,l);for(var s=0;s<this.data.length;s++)l[s]=255&l[s]}n("../utils").inherits(o,i),o.prototype.byteAt=function(l){return this.data[this.zero+l]},o.prototype.lastIndexOfSignature=function(l){for(var s=l.charCodeAt(0),c=l.charCodeAt(1),p=l.charCodeAt(2),d=l.charCodeAt(3),g=this.length-4;0<=g;--g)if(this.data[g]===s&&this.data[g+1]===c&&this.data[g+2]===p&&this.data[g+3]===d)return g-this.zero;return-1},o.prototype.readAndCheckSignature=function(l){var s=l.charCodeAt(0),c=l.charCodeAt(1),p=l.charCodeAt(2),d=l.charCodeAt(3),g=this.readData(4);return s===g[0]&&c===g[1]&&p===g[2]&&d===g[3]},o.prototype.readData=function(l){if(this.checkOffset(l),l===0)return[];var s=this.data.slice(this.zero+this.index,this.zero+this.index+l);return this.index+=l,s},r.exports=o},{"../utils":32,"./DataReader":18}],18:[function(n,r,a){var i=n("../utils");function o(l){this.data=l,this.length=l.length,this.index=0,this.zero=0}o.prototype={checkOffset:function(l){this.checkIndex(this.index+l)},checkIndex:function(l){if(this.length<this.zero+l||l<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+l+"). Corrupted zip ?")},setIndex:function(l){this.checkIndex(l),this.index=l},skip:function(l){this.setIndex(this.index+l)},byteAt:function(){},readInt:function(l){var s,c=0;for(this.checkOffset(l),s=this.index+l-1;s>=this.index;s--)c=(c<<8)+this.byteAt(s);return this.index+=l,c},readString:function(l){return i.transformTo("string",this.readData(l))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var l=this.readInt(4);return new Date(Date.UTC(1980+(l>>25&127),(l>>21&15)-1,l>>16&31,l>>11&31,l>>5&63,(31&l)<<1))}},r.exports=o},{"../utils":32}],19:[function(n,r,a){var i=n("./Uint8ArrayReader");function o(l){i.call(this,l)}n("../utils").inherits(o,i),o.prototype.readData=function(l){this.checkOffset(l);var s=this.data.slice(this.zero+this.index,this.zero+this.index+l);return this.index+=l,s},r.exports=o},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(n,r,a){var i=n("./DataReader");function o(l){i.call(this,l)}n("../utils").inherits(o,i),o.prototype.byteAt=function(l){return this.data.charCodeAt(this.zero+l)},o.prototype.lastIndexOfSignature=function(l){return this.data.lastIndexOf(l)-this.zero},o.prototype.readAndCheckSignature=function(l){return l===this.readData(4)},o.prototype.readData=function(l){this.checkOffset(l);var s=this.data.slice(this.zero+this.index,this.zero+this.index+l);return this.index+=l,s},r.exports=o},{"../utils":32,"./DataReader":18}],21:[function(n,r,a){var i=n("./ArrayReader");function o(l){i.call(this,l)}n("../utils").inherits(o,i),o.prototype.readData=function(l){if(this.checkOffset(l),l===0)return new Uint8Array(0);var s=this.data.subarray(this.zero+this.index,this.zero+this.index+l);return this.index+=l,s},r.exports=o},{"../utils":32,"./ArrayReader":17}],22:[function(n,r,a){var i=n("../utils"),o=n("../support"),l=n("./ArrayReader"),s=n("./StringReader"),c=n("./NodeBufferReader"),p=n("./Uint8ArrayReader");r.exports=function(d){var g=i.getTypeOf(d);return i.checkSupport(g),g!=="string"||o.uint8array?g==="nodebuffer"?new c(d):o.uint8array?new p(i.transformTo("uint8array",d)):new l(i.transformTo("array",d)):new s(d)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(n,r,a){a.LOCAL_FILE_HEADER="PK",a.CENTRAL_FILE_HEADER="PK",a.CENTRAL_DIRECTORY_END="PK",a.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",a.ZIP64_CENTRAL_DIRECTORY_END="PK",a.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(n,r,a){var i=n("./GenericWorker"),o=n("../utils");function l(s){i.call(this,"ConvertWorker to "+s),this.destType=s}o.inherits(l,i),l.prototype.processChunk=function(s){this.push({data:o.transformTo(this.destType,s.data),meta:s.meta})},r.exports=l},{"../utils":32,"./GenericWorker":28}],25:[function(n,r,a){var i=n("./GenericWorker"),o=n("../crc32");function l(){i.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}n("../utils").inherits(l,i),l.prototype.processChunk=function(s){this.streamInfo.crc32=o(s.data,this.streamInfo.crc32||0),this.push(s)},r.exports=l},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(n,r,a){var i=n("../utils"),o=n("./GenericWorker");function l(s){o.call(this,"DataLengthProbe for "+s),this.propName=s,this.withStreamInfo(s,0)}i.inherits(l,o),l.prototype.processChunk=function(s){if(s){var c=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=c+s.data.length}o.prototype.processChunk.call(this,s)},r.exports=l},{"../utils":32,"./GenericWorker":28}],27:[function(n,r,a){var i=n("../utils"),o=n("./GenericWorker");function l(s){o.call(this,"DataWorker");var c=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,s.then(function(p){c.dataIsReady=!0,c.data=p,c.max=p&&p.length||0,c.type=i.getTypeOf(p),c.isPaused||c._tickAndRepeat()},function(p){c.error(p)})}i.inherits(l,o),l.prototype.cleanUp=function(){o.prototype.cleanUp.call(this),this.data=null},l.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,i.delay(this._tickAndRepeat,[],this)),!0)},l.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(i.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},l.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var s=null,c=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":s=this.data.substring(this.index,c);break;case"uint8array":s=this.data.subarray(this.index,c);break;case"array":case"nodebuffer":s=this.data.slice(this.index,c)}return this.index=c,this.push({data:s,meta:{percent:this.max?this.index/this.max*100:0}})},r.exports=l},{"../utils":32,"./GenericWorker":28}],28:[function(n,r,a){function i(o){this.name=o||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}i.prototype={push:function(o){this.emit("data",o)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(o){this.emit("error",o)}return!0},error:function(o){return!this.isFinished&&(this.isPaused?this.generatedError=o:(this.isFinished=!0,this.emit("error",o),this.previous&&this.previous.error(o),this.cleanUp()),!0)},on:function(o,l){return this._listeners[o].push(l),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(o,l){if(this._listeners[o])for(var s=0;s<this._listeners[o].length;s++)this._listeners[o][s].call(this,l)},pipe:function(o){return o.registerPrevious(this)},registerPrevious:function(o){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=o.streamInfo,this.mergeStreamInfo(),this.previous=o;var l=this;return o.on("data",function(s){l.processChunk(s)}),o.on("end",function(){l.end()}),o.on("error",function(s){l.error(s)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var o=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),o=!0),this.previous&&this.previous.resume(),!o},flush:function(){},processChunk:function(o){this.push(o)},withStreamInfo:function(o,l){return this.extraStreamInfo[o]=l,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var o in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,o)&&(this.streamInfo[o]=this.extraStreamInfo[o])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var o="Worker "+this.name;return this.previous?this.previous+" -> "+o:o}},r.exports=i},{}],29:[function(n,r,a){var i=n("../utils"),o=n("./ConvertWorker"),l=n("./GenericWorker"),s=n("../base64"),c=n("../support"),p=n("../external"),d=null;if(c.nodestream)try{d=n("../nodejs/NodejsStreamOutputAdapter")}catch{}function g(x,v){return new p.Promise(function(E,f){var h=[],w=x._internalType,S=x._outputType,_=x._mimeType;x.on("data",function(A,F){h.push(A),v&&v(F)}).on("error",function(A){h=[],f(A)}).on("end",function(){try{var A=function(F,W,D){switch(F){case"blob":return i.newBlob(i.transformTo("arraybuffer",W),D);case"base64":return s.encode(W);default:return i.transformTo(F,W)}}(S,function(F,W){var D,b=0,K=null,C=0;for(D=0;D<W.length;D++)C+=W[D].length;switch(F){case"string":return W.join("");case"array":return Array.prototype.concat.apply([],W);case"uint8array":for(K=new Uint8Array(C),D=0;D<W.length;D++)K.set(W[D],b),b+=W[D].length;return K;case"nodebuffer":return Buffer.concat(W);default:throw new Error("concat : unsupported type '"+F+"'")}}(w,h),_);E(A)}catch(F){f(F)}h=[]}).resume()})}function m(x,v,E){var f=v;switch(v){case"blob":case"arraybuffer":f="uint8array";break;case"base64":f="string"}try{this._internalType=f,this._outputType=v,this._mimeType=E,i.checkSupport(f),this._worker=x.pipe(new o(f)),x.lock()}catch(h){this._worker=new l("error"),this._worker.error(h)}}m.prototype={accumulate:function(x){return g(this,x)},on:function(x,v){var E=this;return x==="data"?this._worker.on(x,function(f){v.call(E,f.data,f.meta)}):this._worker.on(x,function(){i.delay(v,arguments,E)}),this},resume:function(){return i.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(x){if(i.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new d(this,{objectMode:this._outputType!=="nodebuffer"},x)}},r.exports=m},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(n,r,a){if(a.base64=!0,a.array=!0,a.string=!0,a.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",a.nodebuffer=typeof Buffer<"u",a.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")a.blob=!1;else{var i=new ArrayBuffer(0);try{a.blob=new Blob([i],{type:"application/zip"}).size===0}catch{try{var o=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);o.append(i),a.blob=o.getBlob("application/zip").size===0}catch{a.blob=!1}}}try{a.nodestream=!!n("readable-stream").Readable}catch{a.nodestream=!1}},{"readable-stream":16}],31:[function(n,r,a){for(var i=n("./utils"),o=n("./support"),l=n("./nodejsUtils"),s=n("./stream/GenericWorker"),c=new Array(256),p=0;p<256;p++)c[p]=252<=p?6:248<=p?5:240<=p?4:224<=p?3:192<=p?2:1;c[254]=c[254]=1;function d(){s.call(this,"utf-8 decode"),this.leftOver=null}function g(){s.call(this,"utf-8 encode")}a.utf8encode=function(m){return o.nodebuffer?l.newBufferFrom(m,"utf-8"):function(x){var v,E,f,h,w,S=x.length,_=0;for(h=0;h<S;h++)(64512&(E=x.charCodeAt(h)))==55296&&h+1<S&&(64512&(f=x.charCodeAt(h+1)))==56320&&(E=65536+(E-55296<<10)+(f-56320),h++),_+=E<128?1:E<2048?2:E<65536?3:4;for(v=o.uint8array?new Uint8Array(_):new Array(_),h=w=0;w<_;h++)(64512&(E=x.charCodeAt(h)))==55296&&h+1<S&&(64512&(f=x.charCodeAt(h+1)))==56320&&(E=65536+(E-55296<<10)+(f-56320),h++),E<128?v[w++]=E:(E<2048?v[w++]=192|E>>>6:(E<65536?v[w++]=224|E>>>12:(v[w++]=240|E>>>18,v[w++]=128|E>>>12&63),v[w++]=128|E>>>6&63),v[w++]=128|63&E);return v}(m)},a.utf8decode=function(m){return o.nodebuffer?i.transformTo("nodebuffer",m).toString("utf-8"):function(x){var v,E,f,h,w=x.length,S=new Array(2*w);for(v=E=0;v<w;)if((f=x[v++])<128)S[E++]=f;else if(4<(h=c[f]))S[E++]=65533,v+=h-1;else{for(f&=h===2?31:h===3?15:7;1<h&&v<w;)f=f<<6|63&x[v++],h--;1<h?S[E++]=65533:f<65536?S[E++]=f:(f-=65536,S[E++]=55296|f>>10&1023,S[E++]=56320|1023&f)}return S.length!==E&&(S.subarray?S=S.subarray(0,E):S.length=E),i.applyFromCharCode(S)}(m=i.transformTo(o.uint8array?"uint8array":"array",m))},i.inherits(d,s),d.prototype.processChunk=function(m){var x=i.transformTo(o.uint8array?"uint8array":"array",m.data);if(this.leftOver&&this.leftOver.length){if(o.uint8array){var v=x;(x=new Uint8Array(v.length+this.leftOver.length)).set(this.leftOver,0),x.set(v,this.leftOver.length)}else x=this.leftOver.concat(x);this.leftOver=null}var E=function(h,w){var S;for((w=w||h.length)>h.length&&(w=h.length),S=w-1;0<=S&&(192&h[S])==128;)S--;return S<0||S===0?w:S+c[h[S]]>w?S:w}(x),f=x;E!==x.length&&(o.uint8array?(f=x.subarray(0,E),this.leftOver=x.subarray(E,x.length)):(f=x.slice(0,E),this.leftOver=x.slice(E,x.length))),this.push({data:a.utf8decode(f),meta:m.meta})},d.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:a.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},a.Utf8DecodeWorker=d,i.inherits(g,s),g.prototype.processChunk=function(m){this.push({data:a.utf8encode(m.data),meta:m.meta})},a.Utf8EncodeWorker=g},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(n,r,a){var i=n("./support"),o=n("./base64"),l=n("./nodejsUtils"),s=n("./external");function c(v){return v}function p(v,E){for(var f=0;f<v.length;++f)E[f]=255&v.charCodeAt(f);return E}n("setimmediate"),a.newBlob=function(v,E){a.checkSupport("blob");try{return new Blob([v],{type:E})}catch{try{var f=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return f.append(v),f.getBlob(E)}catch{throw new Error("Bug : can't construct the Blob.")}}};var d={stringifyByChunk:function(v,E,f){var h=[],w=0,S=v.length;if(S<=f)return String.fromCharCode.apply(null,v);for(;w<S;)E==="array"||E==="nodebuffer"?h.push(String.fromCharCode.apply(null,v.slice(w,Math.min(w+f,S)))):h.push(String.fromCharCode.apply(null,v.subarray(w,Math.min(w+f,S)))),w+=f;return h.join("")},stringifyByChar:function(v){for(var E="",f=0;f<v.length;f++)E+=String.fromCharCode(v[f]);return E},applyCanBeUsed:{uint8array:function(){try{return i.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return i.nodebuffer&&String.fromCharCode.apply(null,l.allocBuffer(1)).length===1}catch{return!1}}()}};function g(v){var E=65536,f=a.getTypeOf(v),h=!0;if(f==="uint8array"?h=d.applyCanBeUsed.uint8array:f==="nodebuffer"&&(h=d.applyCanBeUsed.nodebuffer),h)for(;1<E;)try{return d.stringifyByChunk(v,f,E)}catch{E=Math.floor(E/2)}return d.stringifyByChar(v)}function m(v,E){for(var f=0;f<v.length;f++)E[f]=v[f];return E}a.applyFromCharCode=g;var x={};x.string={string:c,array:function(v){return p(v,new Array(v.length))},arraybuffer:function(v){return x.string.uint8array(v).buffer},uint8array:function(v){return p(v,new Uint8Array(v.length))},nodebuffer:function(v){return p(v,l.allocBuffer(v.length))}},x.array={string:g,array:c,arraybuffer:function(v){return new Uint8Array(v).buffer},uint8array:function(v){return new Uint8Array(v)},nodebuffer:function(v){return l.newBufferFrom(v)}},x.arraybuffer={string:function(v){return g(new Uint8Array(v))},array:function(v){return m(new Uint8Array(v),new Array(v.byteLength))},arraybuffer:c,uint8array:function(v){return new Uint8Array(v)},nodebuffer:function(v){return l.newBufferFrom(new Uint8Array(v))}},x.uint8array={string:g,array:function(v){return m(v,new Array(v.length))},arraybuffer:function(v){return v.buffer},uint8array:c,nodebuffer:function(v){return l.newBufferFrom(v)}},x.nodebuffer={string:g,array:function(v){return m(v,new Array(v.length))},arraybuffer:function(v){return x.nodebuffer.uint8array(v).buffer},uint8array:function(v){return m(v,new Uint8Array(v.length))},nodebuffer:c},a.transformTo=function(v,E){if(E=E||"",!v)return E;a.checkSupport(v);var f=a.getTypeOf(E);return x[f][v](E)},a.resolve=function(v){for(var E=v.split("/"),f=[],h=0;h<E.length;h++){var w=E[h];w==="."||w===""&&h!==0&&h!==E.length-1||(w===".."?f.pop():f.push(w))}return f.join("/")},a.getTypeOf=function(v){return typeof v=="string"?"string":Object.prototype.toString.call(v)==="[object Array]"?"array":i.nodebuffer&&l.isBuffer(v)?"nodebuffer":i.uint8array&&v instanceof Uint8Array?"uint8array":i.arraybuffer&&v instanceof ArrayBuffer?"arraybuffer":void 0},a.checkSupport=function(v){if(!i[v.toLowerCase()])throw new Error(v+" is not supported by this platform")},a.MAX_VALUE_16BITS=65535,a.MAX_VALUE_32BITS=-1,a.pretty=function(v){var E,f,h="";for(f=0;f<(v||"").length;f++)h+="\\x"+((E=v.charCodeAt(f))<16?"0":"")+E.toString(16).toUpperCase();return h},a.delay=function(v,E,f){setImmediate(function(){v.apply(f||null,E||[])})},a.inherits=function(v,E){function f(){}f.prototype=E.prototype,v.prototype=new f},a.extend=function(){var v,E,f={};for(v=0;v<arguments.length;v++)for(E in arguments[v])Object.prototype.hasOwnProperty.call(arguments[v],E)&&f[E]===void 0&&(f[E]=arguments[v][E]);return f},a.prepareContent=function(v,E,f,h,w){return s.Promise.resolve(E).then(function(S){return i.blob&&(S instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(S))!==-1)&&typeof FileReader<"u"?new s.Promise(function(_,A){var F=new FileReader;F.onload=function(W){_(W.target.result)},F.onerror=function(W){A(W.target.error)},F.readAsArrayBuffer(S)}):S}).then(function(S){var _=a.getTypeOf(S);return _?(_==="arraybuffer"?S=a.transformTo("uint8array",S):_==="string"&&(w?S=o.decode(S):f&&h!==!0&&(S=function(A){return p(A,i.uint8array?new Uint8Array(A.length):new Array(A.length))}(S))),S):s.Promise.reject(new Error("Can't read the data of '"+v+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(n,r,a){var i=n("./reader/readerFor"),o=n("./utils"),l=n("./signature"),s=n("./zipEntry"),c=n("./support");function p(d){this.files=[],this.loadOptions=d}p.prototype={checkSignature:function(d){if(!this.reader.readAndCheckSignature(d)){this.reader.index-=4;var g=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+o.pretty(g)+", expected "+o.pretty(d)+")")}},isSignature:function(d,g){var m=this.reader.index;this.reader.setIndex(d);var x=this.reader.readString(4)===g;return this.reader.setIndex(m),x},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var d=this.reader.readData(this.zipCommentLength),g=c.uint8array?"uint8array":"array",m=o.transformTo(g,d);this.zipComment=this.loadOptions.decodeFileName(m)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var d,g,m,x=this.zip64EndOfCentralSize-44;0<x;)d=this.reader.readInt(2),g=this.reader.readInt(4),m=this.reader.readData(g),this.zip64ExtensibleData[d]={id:d,length:g,value:m}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var d,g;for(d=0;d<this.files.length;d++)g=this.files[d],this.reader.setIndex(g.localHeaderOffset),this.checkSignature(l.LOCAL_FILE_HEADER),g.readLocalPart(this.reader),g.handleUTF8(),g.processAttributes()},readCentralDir:function(){var d;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(l.CENTRAL_FILE_HEADER);)(d=new s({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(d);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var d=this.reader.lastIndexOfSignature(l.CENTRAL_DIRECTORY_END);if(d<0)throw this.isSignature(0,l.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(d);var g=d;if(this.checkSignature(l.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===o.MAX_VALUE_16BITS||this.diskWithCentralDirStart===o.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===o.MAX_VALUE_16BITS||this.centralDirRecords===o.MAX_VALUE_16BITS||this.centralDirSize===o.MAX_VALUE_32BITS||this.centralDirOffset===o.MAX_VALUE_32BITS){if(this.zip64=!0,(d=this.reader.lastIndexOfSignature(l.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(d),this.checkSignature(l.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,l.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(l.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(l.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var m=this.centralDirOffset+this.centralDirSize;this.zip64&&(m+=20,m+=12+this.zip64EndOfCentralSize);var x=g-m;if(0<x)this.isSignature(g,l.CENTRAL_FILE_HEADER)||(this.reader.zero=x);else if(x<0)throw new Error("Corrupted zip: missing "+Math.abs(x)+" bytes.")},prepareReader:function(d){this.reader=i(d)},load:function(d){this.prepareReader(d),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},r.exports=p},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(n,r,a){var i=n("./reader/readerFor"),o=n("./utils"),l=n("./compressedObject"),s=n("./crc32"),c=n("./utf8"),p=n("./compressions"),d=n("./support");function g(m,x){this.options=m,this.loadOptions=x}g.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(m){var x,v;if(m.skip(22),this.fileNameLength=m.readInt(2),v=m.readInt(2),this.fileName=m.readData(this.fileNameLength),m.skip(v),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((x=function(E){for(var f in p)if(Object.prototype.hasOwnProperty.call(p,f)&&p[f].magic===E)return p[f];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+o.pretty(this.compressionMethod)+" unknown (inner file : "+o.transformTo("string",this.fileName)+")");this.decompressed=new l(this.compressedSize,this.uncompressedSize,this.crc32,x,m.readData(this.compressedSize))},readCentralPart:function(m){this.versionMadeBy=m.readInt(2),m.skip(2),this.bitFlag=m.readInt(2),this.compressionMethod=m.readString(2),this.date=m.readDate(),this.crc32=m.readInt(4),this.compressedSize=m.readInt(4),this.uncompressedSize=m.readInt(4);var x=m.readInt(2);if(this.extraFieldsLength=m.readInt(2),this.fileCommentLength=m.readInt(2),this.diskNumberStart=m.readInt(2),this.internalFileAttributes=m.readInt(2),this.externalFileAttributes=m.readInt(4),this.localHeaderOffset=m.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");m.skip(x),this.readExtraFields(m),this.parseZIP64ExtraField(m),this.fileComment=m.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var m=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),m==0&&(this.dosPermissions=63&this.externalFileAttributes),m==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var m=i(this.extraFields[1].value);this.uncompressedSize===o.MAX_VALUE_32BITS&&(this.uncompressedSize=m.readInt(8)),this.compressedSize===o.MAX_VALUE_32BITS&&(this.compressedSize=m.readInt(8)),this.localHeaderOffset===o.MAX_VALUE_32BITS&&(this.localHeaderOffset=m.readInt(8)),this.diskNumberStart===o.MAX_VALUE_32BITS&&(this.diskNumberStart=m.readInt(4))}},readExtraFields:function(m){var x,v,E,f=m.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});m.index+4<f;)x=m.readInt(2),v=m.readInt(2),E=m.readData(v),this.extraFields[x]={id:x,length:v,value:E};m.setIndex(f)},handleUTF8:function(){var m=d.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=c.utf8decode(this.fileName),this.fileCommentStr=c.utf8decode(this.fileComment);else{var x=this.findExtraFieldUnicodePath();if(x!==null)this.fileNameStr=x;else{var v=o.transformTo(m,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(v)}var E=this.findExtraFieldUnicodeComment();if(E!==null)this.fileCommentStr=E;else{var f=o.transformTo(m,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(f)}}},findExtraFieldUnicodePath:function(){var m=this.extraFields[28789];if(m){var x=i(m.value);return x.readInt(1)!==1||s(this.fileName)!==x.readInt(4)?null:c.utf8decode(x.readData(m.length-5))}return null},findExtraFieldUnicodeComment:function(){var m=this.extraFields[25461];if(m){var x=i(m.value);return x.readInt(1)!==1||s(this.fileComment)!==x.readInt(4)?null:c.utf8decode(x.readData(m.length-5))}return null}},r.exports=g},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(n,r,a){function i(x,v,E){this.name=x,this.dir=E.dir,this.date=E.date,this.comment=E.comment,this.unixPermissions=E.unixPermissions,this.dosPermissions=E.dosPermissions,this._data=v,this._dataBinary=E.binary,this.options={compression:E.compression,compressionOptions:E.compressionOptions}}var o=n("./stream/StreamHelper"),l=n("./stream/DataWorker"),s=n("./utf8"),c=n("./compressedObject"),p=n("./stream/GenericWorker");i.prototype={internalStream:function(x){var v=null,E="string";try{if(!x)throw new Error("No output type specified.");var f=(E=x.toLowerCase())==="string"||E==="text";E!=="binarystring"&&E!=="text"||(E="string"),v=this._decompressWorker();var h=!this._dataBinary;h&&!f&&(v=v.pipe(new s.Utf8EncodeWorker)),!h&&f&&(v=v.pipe(new s.Utf8DecodeWorker))}catch(w){(v=new p("error")).error(w)}return new o(v,E,"")},async:function(x,v){return this.internalStream(x).accumulate(v)},nodeStream:function(x,v){return this.internalStream(x||"nodebuffer").toNodejsStream(v)},_compressWorker:function(x,v){if(this._data instanceof c&&this._data.compression.magic===x.magic)return this._data.getCompressedWorker();var E=this._decompressWorker();return this._dataBinary||(E=E.pipe(new s.Utf8EncodeWorker)),c.createWorkerFrom(E,x,v)},_decompressWorker:function(){return this._data instanceof c?this._data.getContentWorker():this._data instanceof p?this._data:new l(this._data)}};for(var d=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],g=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},m=0;m<d.length;m++)i.prototype[d[m]]=g;r.exports=i},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(n,r,a){(function(i){var o,l,s=i.MutationObserver||i.WebKitMutationObserver;if(s){var c=0,p=new s(x),d=i.document.createTextNode("");p.observe(d,{characterData:!0}),o=function(){d.data=c=++c%2}}else if(i.setImmediate||i.MessageChannel===void 0)o="document"in i&&"onreadystatechange"in i.document.createElement("script")?function(){var v=i.document.createElement("script");v.onreadystatechange=function(){x(),v.onreadystatechange=null,v.parentNode.removeChild(v),v=null},i.document.documentElement.appendChild(v)}:function(){setTimeout(x,0)};else{var g=new i.MessageChannel;g.port1.onmessage=x,o=function(){g.port2.postMessage(0)}}var m=[];function x(){var v,E;l=!0;for(var f=m.length;f;){for(E=m,m=[],v=-1;++v<f;)E[v]();f=m.length}l=!1}r.exports=function(v){m.push(v)!==1||l||o()}}).call(this,typeof Ht<"u"?Ht:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(n,r,a){var i=n("immediate");function o(){}var l={},s=["REJECTED"],c=["FULFILLED"],p=["PENDING"];function d(f){if(typeof f!="function")throw new TypeError("resolver must be a function");this.state=p,this.queue=[],this.outcome=void 0,f!==o&&v(this,f)}function g(f,h,w){this.promise=f,typeof h=="function"&&(this.onFulfilled=h,this.callFulfilled=this.otherCallFulfilled),typeof w=="function"&&(this.onRejected=w,this.callRejected=this.otherCallRejected)}function m(f,h,w){i(function(){var S;try{S=h(w)}catch(_){return l.reject(f,_)}S===f?l.reject(f,new TypeError("Cannot resolve promise with itself")):l.resolve(f,S)})}function x(f){var h=f&&f.then;if(f&&(typeof f=="object"||typeof f=="function")&&typeof h=="function")return function(){h.apply(f,arguments)}}function v(f,h){var w=!1;function S(F){w||(w=!0,l.reject(f,F))}function _(F){w||(w=!0,l.resolve(f,F))}var A=E(function(){h(_,S)});A.status==="error"&&S(A.value)}function E(f,h){var w={};try{w.value=f(h),w.status="success"}catch(S){w.status="error",w.value=S}return w}(r.exports=d).prototype.finally=function(f){if(typeof f!="function")return this;var h=this.constructor;return this.then(function(w){return h.resolve(f()).then(function(){return w})},function(w){return h.resolve(f()).then(function(){throw w})})},d.prototype.catch=function(f){return this.then(null,f)},d.prototype.then=function(f,h){if(typeof f!="function"&&this.state===c||typeof h!="function"&&this.state===s)return this;var w=new this.constructor(o);return this.state!==p?m(w,this.state===c?f:h,this.outcome):this.queue.push(new g(w,f,h)),w},g.prototype.callFulfilled=function(f){l.resolve(this.promise,f)},g.prototype.otherCallFulfilled=function(f){m(this.promise,this.onFulfilled,f)},g.prototype.callRejected=function(f){l.reject(this.promise,f)},g.prototype.otherCallRejected=function(f){m(this.promise,this.onRejected,f)},l.resolve=function(f,h){var w=E(x,h);if(w.status==="error")return l.reject(f,w.value);var S=w.value;if(S)v(f,S);else{f.state=c,f.outcome=h;for(var _=-1,A=f.queue.length;++_<A;)f.queue[_].callFulfilled(h)}return f},l.reject=function(f,h){f.state=s,f.outcome=h;for(var w=-1,S=f.queue.length;++w<S;)f.queue[w].callRejected(h);return f},d.resolve=function(f){return f instanceof this?f:l.resolve(new this(o),f)},d.reject=function(f){var h=new this(o);return l.reject(h,f)},d.all=function(f){var h=this;if(Object.prototype.toString.call(f)!=="[object Array]")return this.reject(new TypeError("must be an array"));var w=f.length,S=!1;if(!w)return this.resolve([]);for(var _=new Array(w),A=0,F=-1,W=new this(o);++F<w;)D(f[F],F);return W;function D(b,K){h.resolve(b).then(function(C){_[K]=C,++A!==w||S||(S=!0,l.resolve(W,_))},function(C){S||(S=!0,l.reject(W,C))})}},d.race=function(f){var h=this;if(Object.prototype.toString.call(f)!=="[object Array]")return this.reject(new TypeError("must be an array"));var w=f.length,S=!1;if(!w)return this.resolve([]);for(var _=-1,A=new this(o);++_<w;)F=f[_],h.resolve(F).then(function(W){S||(S=!0,l.resolve(A,W))},function(W){S||(S=!0,l.reject(A,W))});var F;return A}},{immediate:36}],38:[function(n,r,a){var i={};(0,n("./lib/utils/common").assign)(i,n("./lib/deflate"),n("./lib/inflate"),n("./lib/zlib/constants")),r.exports=i},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(n,r,a){var i=n("./zlib/deflate"),o=n("./utils/common"),l=n("./utils/strings"),s=n("./zlib/messages"),c=n("./zlib/zstream"),p=Object.prototype.toString,d=0,g=-1,m=0,x=8;function v(f){if(!(this instanceof v))return new v(f);this.options=o.assign({level:g,method:x,chunkSize:16384,windowBits:15,memLevel:8,strategy:m,to:""},f||{});var h=this.options;h.raw&&0<h.windowBits?h.windowBits=-h.windowBits:h.gzip&&0<h.windowBits&&h.windowBits<16&&(h.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new c,this.strm.avail_out=0;var w=i.deflateInit2(this.strm,h.level,h.method,h.windowBits,h.memLevel,h.strategy);if(w!==d)throw new Error(s[w]);if(h.header&&i.deflateSetHeader(this.strm,h.header),h.dictionary){var S;if(S=typeof h.dictionary=="string"?l.string2buf(h.dictionary):p.call(h.dictionary)==="[object ArrayBuffer]"?new Uint8Array(h.dictionary):h.dictionary,(w=i.deflateSetDictionary(this.strm,S))!==d)throw new Error(s[w]);this._dict_set=!0}}function E(f,h){var w=new v(h);if(w.push(f,!0),w.err)throw w.msg||s[w.err];return w.result}v.prototype.push=function(f,h){var w,S,_=this.strm,A=this.options.chunkSize;if(this.ended)return!1;S=h===~~h?h:h===!0?4:0,typeof f=="string"?_.input=l.string2buf(f):p.call(f)==="[object ArrayBuffer]"?_.input=new Uint8Array(f):_.input=f,_.next_in=0,_.avail_in=_.input.length;do{if(_.avail_out===0&&(_.output=new o.Buf8(A),_.next_out=0,_.avail_out=A),(w=i.deflate(_,S))!==1&&w!==d)return this.onEnd(w),!(this.ended=!0);_.avail_out!==0&&(_.avail_in!==0||S!==4&&S!==2)||(this.options.to==="string"?this.onData(l.buf2binstring(o.shrinkBuf(_.output,_.next_out))):this.onData(o.shrinkBuf(_.output,_.next_out)))}while((0<_.avail_in||_.avail_out===0)&&w!==1);return S===4?(w=i.deflateEnd(this.strm),this.onEnd(w),this.ended=!0,w===d):S!==2||(this.onEnd(d),!(_.avail_out=0))},v.prototype.onData=function(f){this.chunks.push(f)},v.prototype.onEnd=function(f){f===d&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=f,this.msg=this.strm.msg},a.Deflate=v,a.deflate=E,a.deflateRaw=function(f,h){return(h=h||{}).raw=!0,E(f,h)},a.gzip=function(f,h){return(h=h||{}).gzip=!0,E(f,h)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(n,r,a){var i=n("./zlib/inflate"),o=n("./utils/common"),l=n("./utils/strings"),s=n("./zlib/constants"),c=n("./zlib/messages"),p=n("./zlib/zstream"),d=n("./zlib/gzheader"),g=Object.prototype.toString;function m(v){if(!(this instanceof m))return new m(v);this.options=o.assign({chunkSize:16384,windowBits:0,to:""},v||{});var E=this.options;E.raw&&0<=E.windowBits&&E.windowBits<16&&(E.windowBits=-E.windowBits,E.windowBits===0&&(E.windowBits=-15)),!(0<=E.windowBits&&E.windowBits<16)||v&&v.windowBits||(E.windowBits+=32),15<E.windowBits&&E.windowBits<48&&!(15&E.windowBits)&&(E.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new p,this.strm.avail_out=0;var f=i.inflateInit2(this.strm,E.windowBits);if(f!==s.Z_OK)throw new Error(c[f]);this.header=new d,i.inflateGetHeader(this.strm,this.header)}function x(v,E){var f=new m(E);if(f.push(v,!0),f.err)throw f.msg||c[f.err];return f.result}m.prototype.push=function(v,E){var f,h,w,S,_,A,F=this.strm,W=this.options.chunkSize,D=this.options.dictionary,b=!1;if(this.ended)return!1;h=E===~~E?E:E===!0?s.Z_FINISH:s.Z_NO_FLUSH,typeof v=="string"?F.input=l.binstring2buf(v):g.call(v)==="[object ArrayBuffer]"?F.input=new Uint8Array(v):F.input=v,F.next_in=0,F.avail_in=F.input.length;do{if(F.avail_out===0&&(F.output=new o.Buf8(W),F.next_out=0,F.avail_out=W),(f=i.inflate(F,s.Z_NO_FLUSH))===s.Z_NEED_DICT&&D&&(A=typeof D=="string"?l.string2buf(D):g.call(D)==="[object ArrayBuffer]"?new Uint8Array(D):D,f=i.inflateSetDictionary(this.strm,A)),f===s.Z_BUF_ERROR&&b===!0&&(f=s.Z_OK,b=!1),f!==s.Z_STREAM_END&&f!==s.Z_OK)return this.onEnd(f),!(this.ended=!0);F.next_out&&(F.avail_out!==0&&f!==s.Z_STREAM_END&&(F.avail_in!==0||h!==s.Z_FINISH&&h!==s.Z_SYNC_FLUSH)||(this.options.to==="string"?(w=l.utf8border(F.output,F.next_out),S=F.next_out-w,_=l.buf2string(F.output,w),F.next_out=S,F.avail_out=W-S,S&&o.arraySet(F.output,F.output,w,S,0),this.onData(_)):this.onData(o.shrinkBuf(F.output,F.next_out)))),F.avail_in===0&&F.avail_out===0&&(b=!0)}while((0<F.avail_in||F.avail_out===0)&&f!==s.Z_STREAM_END);return f===s.Z_STREAM_END&&(h=s.Z_FINISH),h===s.Z_FINISH?(f=i.inflateEnd(this.strm),this.onEnd(f),this.ended=!0,f===s.Z_OK):h!==s.Z_SYNC_FLUSH||(this.onEnd(s.Z_OK),!(F.avail_out=0))},m.prototype.onData=function(v){this.chunks.push(v)},m.prototype.onEnd=function(v){v===s.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=v,this.msg=this.strm.msg},a.Inflate=m,a.inflate=x,a.inflateRaw=function(v,E){return(E=E||{}).raw=!0,x(v,E)},a.ungzip=x},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(n,r,a){var i=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";a.assign=function(s){for(var c=Array.prototype.slice.call(arguments,1);c.length;){var p=c.shift();if(p){if(typeof p!="object")throw new TypeError(p+"must be non-object");for(var d in p)p.hasOwnProperty(d)&&(s[d]=p[d])}}return s},a.shrinkBuf=function(s,c){return s.length===c?s:s.subarray?s.subarray(0,c):(s.length=c,s)};var o={arraySet:function(s,c,p,d,g){if(c.subarray&&s.subarray)s.set(c.subarray(p,p+d),g);else for(var m=0;m<d;m++)s[g+m]=c[p+m]},flattenChunks:function(s){var c,p,d,g,m,x;for(c=d=0,p=s.length;c<p;c++)d+=s[c].length;for(x=new Uint8Array(d),c=g=0,p=s.length;c<p;c++)m=s[c],x.set(m,g),g+=m.length;return x}},l={arraySet:function(s,c,p,d,g){for(var m=0;m<d;m++)s[g+m]=c[p+m]},flattenChunks:function(s){return[].concat.apply([],s)}};a.setTyped=function(s){s?(a.Buf8=Uint8Array,a.Buf16=Uint16Array,a.Buf32=Int32Array,a.assign(a,o)):(a.Buf8=Array,a.Buf16=Array,a.Buf32=Array,a.assign(a,l))},a.setTyped(i)},{}],42:[function(n,r,a){var i=n("./common"),o=!0,l=!0;try{String.fromCharCode.apply(null,[0])}catch{o=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{l=!1}for(var s=new i.Buf8(256),c=0;c<256;c++)s[c]=252<=c?6:248<=c?5:240<=c?4:224<=c?3:192<=c?2:1;function p(d,g){if(g<65537&&(d.subarray&&l||!d.subarray&&o))return String.fromCharCode.apply(null,i.shrinkBuf(d,g));for(var m="",x=0;x<g;x++)m+=String.fromCharCode(d[x]);return m}s[254]=s[254]=1,a.string2buf=function(d){var g,m,x,v,E,f=d.length,h=0;for(v=0;v<f;v++)(64512&(m=d.charCodeAt(v)))==55296&&v+1<f&&(64512&(x=d.charCodeAt(v+1)))==56320&&(m=65536+(m-55296<<10)+(x-56320),v++),h+=m<128?1:m<2048?2:m<65536?3:4;for(g=new i.Buf8(h),v=E=0;E<h;v++)(64512&(m=d.charCodeAt(v)))==55296&&v+1<f&&(64512&(x=d.charCodeAt(v+1)))==56320&&(m=65536+(m-55296<<10)+(x-56320),v++),m<128?g[E++]=m:(m<2048?g[E++]=192|m>>>6:(m<65536?g[E++]=224|m>>>12:(g[E++]=240|m>>>18,g[E++]=128|m>>>12&63),g[E++]=128|m>>>6&63),g[E++]=128|63&m);return g},a.buf2binstring=function(d){return p(d,d.length)},a.binstring2buf=function(d){for(var g=new i.Buf8(d.length),m=0,x=g.length;m<x;m++)g[m]=d.charCodeAt(m);return g},a.buf2string=function(d,g){var m,x,v,E,f=g||d.length,h=new Array(2*f);for(m=x=0;m<f;)if((v=d[m++])<128)h[x++]=v;else if(4<(E=s[v]))h[x++]=65533,m+=E-1;else{for(v&=E===2?31:E===3?15:7;1<E&&m<f;)v=v<<6|63&d[m++],E--;1<E?h[x++]=65533:v<65536?h[x++]=v:(v-=65536,h[x++]=55296|v>>10&1023,h[x++]=56320|1023&v)}return p(h,x)},a.utf8border=function(d,g){var m;for((g=g||d.length)>d.length&&(g=d.length),m=g-1;0<=m&&(192&d[m])==128;)m--;return m<0||m===0?g:m+s[d[m]]>g?m:g}},{"./common":41}],43:[function(n,r,a){r.exports=function(i,o,l,s){for(var c=65535&i|0,p=i>>>16&65535|0,d=0;l!==0;){for(l-=d=2e3<l?2e3:l;p=p+(c=c+o[s++]|0)|0,--d;);c%=65521,p%=65521}return c|p<<16|0}},{}],44:[function(n,r,a){r.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(n,r,a){var i=function(){for(var o,l=[],s=0;s<256;s++){o=s;for(var c=0;c<8;c++)o=1&o?3988292384^o>>>1:o>>>1;l[s]=o}return l}();r.exports=function(o,l,s,c){var p=i,d=c+s;o^=-1;for(var g=c;g<d;g++)o=o>>>8^p[255&(o^l[g])];return-1^o}},{}],46:[function(n,r,a){var i,o=n("../utils/common"),l=n("./trees"),s=n("./adler32"),c=n("./crc32"),p=n("./messages"),d=0,g=4,m=0,x=-2,v=-1,E=4,f=2,h=8,w=9,S=286,_=30,A=19,F=2*S+1,W=15,D=3,b=258,K=b+D+1,C=42,$=113,k=1,P=2,j=3,O=4;function B(y,X){return y.msg=p[X],X}function I(y){return(y<<1)-(4<y?9:0)}function H(y){for(var X=y.length;0<=--X;)y[X]=0}function T(y){var X=y.state,Y=X.pending;Y>y.avail_out&&(Y=y.avail_out),Y!==0&&(o.arraySet(y.output,X.pending_buf,X.pending_out,Y,y.next_out),y.next_out+=Y,X.pending_out+=Y,y.total_out+=Y,y.avail_out-=Y,X.pending-=Y,X.pending===0&&(X.pending_out=0))}function M(y,X){l._tr_flush_block(y,0<=y.block_start?y.block_start:-1,y.strstart-y.block_start,X),y.block_start=y.strstart,T(y.strm)}function ne(y,X){y.pending_buf[y.pending++]=X}function J(y,X){y.pending_buf[y.pending++]=X>>>8&255,y.pending_buf[y.pending++]=255&X}function Z(y,X){var Y,R,N=y.max_chain_length,U=y.strstart,G=y.prev_length,Q=y.nice_match,V=y.strstart>y.w_size-K?y.strstart-(y.w_size-K):0,ee=y.window,ie=y.w_mask,re=y.prev,ce=y.strstart+b,ge=ee[U+G-1],we=ee[U+G];y.prev_length>=y.good_match&&(N>>=2),Q>y.lookahead&&(Q=y.lookahead);do if(ee[(Y=X)+G]===we&&ee[Y+G-1]===ge&&ee[Y]===ee[U]&&ee[++Y]===ee[U+1]){U+=2,Y++;do;while(ee[++U]===ee[++Y]&&ee[++U]===ee[++Y]&&ee[++U]===ee[++Y]&&ee[++U]===ee[++Y]&&ee[++U]===ee[++Y]&&ee[++U]===ee[++Y]&&ee[++U]===ee[++Y]&&ee[++U]===ee[++Y]&&U<ce);if(R=b-(ce-U),U=ce-b,G<R){if(y.match_start=X,Q<=(G=R))break;ge=ee[U+G-1],we=ee[U+G]}}while((X=re[X&ie])>V&&--N!=0);return G<=y.lookahead?G:y.lookahead}function pe(y){var X,Y,R,N,U,G,Q,V,ee,ie,re=y.w_size;do{if(N=y.window_size-y.lookahead-y.strstart,y.strstart>=re+(re-K)){for(o.arraySet(y.window,y.window,re,re,0),y.match_start-=re,y.strstart-=re,y.block_start-=re,X=Y=y.hash_size;R=y.head[--X],y.head[X]=re<=R?R-re:0,--Y;);for(X=Y=re;R=y.prev[--X],y.prev[X]=re<=R?R-re:0,--Y;);N+=re}if(y.strm.avail_in===0)break;if(G=y.strm,Q=y.window,V=y.strstart+y.lookahead,ee=N,ie=void 0,ie=G.avail_in,ee<ie&&(ie=ee),Y=ie===0?0:(G.avail_in-=ie,o.arraySet(Q,G.input,G.next_in,ie,V),G.state.wrap===1?G.adler=s(G.adler,Q,ie,V):G.state.wrap===2&&(G.adler=c(G.adler,Q,ie,V)),G.next_in+=ie,G.total_in+=ie,ie),y.lookahead+=Y,y.lookahead+y.insert>=D)for(U=y.strstart-y.insert,y.ins_h=y.window[U],y.ins_h=(y.ins_h<<y.hash_shift^y.window[U+1])&y.hash_mask;y.insert&&(y.ins_h=(y.ins_h<<y.hash_shift^y.window[U+D-1])&y.hash_mask,y.prev[U&y.w_mask]=y.head[y.ins_h],y.head[y.ins_h]=U,U++,y.insert--,!(y.lookahead+y.insert<D)););}while(y.lookahead<K&&y.strm.avail_in!==0)}function ue(y,X){for(var Y,R;;){if(y.lookahead<K){if(pe(y),y.lookahead<K&&X===d)return k;if(y.lookahead===0)break}if(Y=0,y.lookahead>=D&&(y.ins_h=(y.ins_h<<y.hash_shift^y.window[y.strstart+D-1])&y.hash_mask,Y=y.prev[y.strstart&y.w_mask]=y.head[y.ins_h],y.head[y.ins_h]=y.strstart),Y!==0&&y.strstart-Y<=y.w_size-K&&(y.match_length=Z(y,Y)),y.match_length>=D)if(R=l._tr_tally(y,y.strstart-y.match_start,y.match_length-D),y.lookahead-=y.match_length,y.match_length<=y.max_lazy_match&&y.lookahead>=D){for(y.match_length--;y.strstart++,y.ins_h=(y.ins_h<<y.hash_shift^y.window[y.strstart+D-1])&y.hash_mask,Y=y.prev[y.strstart&y.w_mask]=y.head[y.ins_h],y.head[y.ins_h]=y.strstart,--y.match_length!=0;);y.strstart++}else y.strstart+=y.match_length,y.match_length=0,y.ins_h=y.window[y.strstart],y.ins_h=(y.ins_h<<y.hash_shift^y.window[y.strstart+1])&y.hash_mask;else R=l._tr_tally(y,0,y.window[y.strstart]),y.lookahead--,y.strstart++;if(R&&(M(y,!1),y.strm.avail_out===0))return k}return y.insert=y.strstart<D-1?y.strstart:D-1,X===g?(M(y,!0),y.strm.avail_out===0?j:O):y.last_lit&&(M(y,!1),y.strm.avail_out===0)?k:P}function ae(y,X){for(var Y,R,N;;){if(y.lookahead<K){if(pe(y),y.lookahead<K&&X===d)return k;if(y.lookahead===0)break}if(Y=0,y.lookahead>=D&&(y.ins_h=(y.ins_h<<y.hash_shift^y.window[y.strstart+D-1])&y.hash_mask,Y=y.prev[y.strstart&y.w_mask]=y.head[y.ins_h],y.head[y.ins_h]=y.strstart),y.prev_length=y.match_length,y.prev_match=y.match_start,y.match_length=D-1,Y!==0&&y.prev_length<y.max_lazy_match&&y.strstart-Y<=y.w_size-K&&(y.match_length=Z(y,Y),y.match_length<=5&&(y.strategy===1||y.match_length===D&&4096<y.strstart-y.match_start)&&(y.match_length=D-1)),y.prev_length>=D&&y.match_length<=y.prev_length){for(N=y.strstart+y.lookahead-D,R=l._tr_tally(y,y.strstart-1-y.prev_match,y.prev_length-D),y.lookahead-=y.prev_length-1,y.prev_length-=2;++y.strstart<=N&&(y.ins_h=(y.ins_h<<y.hash_shift^y.window[y.strstart+D-1])&y.hash_mask,Y=y.prev[y.strstart&y.w_mask]=y.head[y.ins_h],y.head[y.ins_h]=y.strstart),--y.prev_length!=0;);if(y.match_available=0,y.match_length=D-1,y.strstart++,R&&(M(y,!1),y.strm.avail_out===0))return k}else if(y.match_available){if((R=l._tr_tally(y,0,y.window[y.strstart-1]))&&M(y,!1),y.strstart++,y.lookahead--,y.strm.avail_out===0)return k}else y.match_available=1,y.strstart++,y.lookahead--}return y.match_available&&(R=l._tr_tally(y,0,y.window[y.strstart-1]),y.match_available=0),y.insert=y.strstart<D-1?y.strstart:D-1,X===g?(M(y,!0),y.strm.avail_out===0?j:O):y.last_lit&&(M(y,!1),y.strm.avail_out===0)?k:P}function me(y,X,Y,R,N){this.good_length=y,this.max_lazy=X,this.nice_length=Y,this.max_chain=R,this.func=N}function Ee(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=h,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new o.Buf16(2*F),this.dyn_dtree=new o.Buf16(2*(2*_+1)),this.bl_tree=new o.Buf16(2*(2*A+1)),H(this.dyn_ltree),H(this.dyn_dtree),H(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new o.Buf16(W+1),this.heap=new o.Buf16(2*S+1),H(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new o.Buf16(2*S+1),H(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function ke(y){var X;return y&&y.state?(y.total_in=y.total_out=0,y.data_type=f,(X=y.state).pending=0,X.pending_out=0,X.wrap<0&&(X.wrap=-X.wrap),X.status=X.wrap?C:$,y.adler=X.wrap===2?0:1,X.last_flush=d,l._tr_init(X),m):B(y,x)}function be(y){var X=ke(y);return X===m&&function(Y){Y.window_size=2*Y.w_size,H(Y.head),Y.max_lazy_match=i[Y.level].max_lazy,Y.good_match=i[Y.level].good_length,Y.nice_match=i[Y.level].nice_length,Y.max_chain_length=i[Y.level].max_chain,Y.strstart=0,Y.block_start=0,Y.lookahead=0,Y.insert=0,Y.match_length=Y.prev_length=D-1,Y.match_available=0,Y.ins_h=0}(y.state),X}function Be(y,X,Y,R,N,U){if(!y)return x;var G=1;if(X===v&&(X=6),R<0?(G=0,R=-R):15<R&&(G=2,R-=16),N<1||w<N||Y!==h||R<8||15<R||X<0||9<X||U<0||E<U)return B(y,x);R===8&&(R=9);var Q=new Ee;return(y.state=Q).strm=y,Q.wrap=G,Q.gzhead=null,Q.w_bits=R,Q.w_size=1<<Q.w_bits,Q.w_mask=Q.w_size-1,Q.hash_bits=N+7,Q.hash_size=1<<Q.hash_bits,Q.hash_mask=Q.hash_size-1,Q.hash_shift=~~((Q.hash_bits+D-1)/D),Q.window=new o.Buf8(2*Q.w_size),Q.head=new o.Buf16(Q.hash_size),Q.prev=new o.Buf16(Q.w_size),Q.lit_bufsize=1<<N+6,Q.pending_buf_size=4*Q.lit_bufsize,Q.pending_buf=new o.Buf8(Q.pending_buf_size),Q.d_buf=1*Q.lit_bufsize,Q.l_buf=3*Q.lit_bufsize,Q.level=X,Q.strategy=U,Q.method=Y,be(y)}i=[new me(0,0,0,0,function(y,X){var Y=65535;for(Y>y.pending_buf_size-5&&(Y=y.pending_buf_size-5);;){if(y.lookahead<=1){if(pe(y),y.lookahead===0&&X===d)return k;if(y.lookahead===0)break}y.strstart+=y.lookahead,y.lookahead=0;var R=y.block_start+Y;if((y.strstart===0||y.strstart>=R)&&(y.lookahead=y.strstart-R,y.strstart=R,M(y,!1),y.strm.avail_out===0)||y.strstart-y.block_start>=y.w_size-K&&(M(y,!1),y.strm.avail_out===0))return k}return y.insert=0,X===g?(M(y,!0),y.strm.avail_out===0?j:O):(y.strstart>y.block_start&&(M(y,!1),y.strm.avail_out),k)}),new me(4,4,8,4,ue),new me(4,5,16,8,ue),new me(4,6,32,32,ue),new me(4,4,16,16,ae),new me(8,16,32,32,ae),new me(8,16,128,128,ae),new me(8,32,128,256,ae),new me(32,128,258,1024,ae),new me(32,258,258,4096,ae)],a.deflateInit=function(y,X){return Be(y,X,h,15,8,0)},a.deflateInit2=Be,a.deflateReset=be,a.deflateResetKeep=ke,a.deflateSetHeader=function(y,X){return y&&y.state?y.state.wrap!==2?x:(y.state.gzhead=X,m):x},a.deflate=function(y,X){var Y,R,N,U;if(!y||!y.state||5<X||X<0)return y?B(y,x):x;if(R=y.state,!y.output||!y.input&&y.avail_in!==0||R.status===666&&X!==g)return B(y,y.avail_out===0?-5:x);if(R.strm=y,Y=R.last_flush,R.last_flush=X,R.status===C)if(R.wrap===2)y.adler=0,ne(R,31),ne(R,139),ne(R,8),R.gzhead?(ne(R,(R.gzhead.text?1:0)+(R.gzhead.hcrc?2:0)+(R.gzhead.extra?4:0)+(R.gzhead.name?8:0)+(R.gzhead.comment?16:0)),ne(R,255&R.gzhead.time),ne(R,R.gzhead.time>>8&255),ne(R,R.gzhead.time>>16&255),ne(R,R.gzhead.time>>24&255),ne(R,R.level===9?2:2<=R.strategy||R.level<2?4:0),ne(R,255&R.gzhead.os),R.gzhead.extra&&R.gzhead.extra.length&&(ne(R,255&R.gzhead.extra.length),ne(R,R.gzhead.extra.length>>8&255)),R.gzhead.hcrc&&(y.adler=c(y.adler,R.pending_buf,R.pending,0)),R.gzindex=0,R.status=69):(ne(R,0),ne(R,0),ne(R,0),ne(R,0),ne(R,0),ne(R,R.level===9?2:2<=R.strategy||R.level<2?4:0),ne(R,3),R.status=$);else{var G=h+(R.w_bits-8<<4)<<8;G|=(2<=R.strategy||R.level<2?0:R.level<6?1:R.level===6?2:3)<<6,R.strstart!==0&&(G|=32),G+=31-G%31,R.status=$,J(R,G),R.strstart!==0&&(J(R,y.adler>>>16),J(R,65535&y.adler)),y.adler=1}if(R.status===69)if(R.gzhead.extra){for(N=R.pending;R.gzindex<(65535&R.gzhead.extra.length)&&(R.pending!==R.pending_buf_size||(R.gzhead.hcrc&&R.pending>N&&(y.adler=c(y.adler,R.pending_buf,R.pending-N,N)),T(y),N=R.pending,R.pending!==R.pending_buf_size));)ne(R,255&R.gzhead.extra[R.gzindex]),R.gzindex++;R.gzhead.hcrc&&R.pending>N&&(y.adler=c(y.adler,R.pending_buf,R.pending-N,N)),R.gzindex===R.gzhead.extra.length&&(R.gzindex=0,R.status=73)}else R.status=73;if(R.status===73)if(R.gzhead.name){N=R.pending;do{if(R.pending===R.pending_buf_size&&(R.gzhead.hcrc&&R.pending>N&&(y.adler=c(y.adler,R.pending_buf,R.pending-N,N)),T(y),N=R.pending,R.pending===R.pending_buf_size)){U=1;break}U=R.gzindex<R.gzhead.name.length?255&R.gzhead.name.charCodeAt(R.gzindex++):0,ne(R,U)}while(U!==0);R.gzhead.hcrc&&R.pending>N&&(y.adler=c(y.adler,R.pending_buf,R.pending-N,N)),U===0&&(R.gzindex=0,R.status=91)}else R.status=91;if(R.status===91)if(R.gzhead.comment){N=R.pending;do{if(R.pending===R.pending_buf_size&&(R.gzhead.hcrc&&R.pending>N&&(y.adler=c(y.adler,R.pending_buf,R.pending-N,N)),T(y),N=R.pending,R.pending===R.pending_buf_size)){U=1;break}U=R.gzindex<R.gzhead.comment.length?255&R.gzhead.comment.charCodeAt(R.gzindex++):0,ne(R,U)}while(U!==0);R.gzhead.hcrc&&R.pending>N&&(y.adler=c(y.adler,R.pending_buf,R.pending-N,N)),U===0&&(R.status=103)}else R.status=103;if(R.status===103&&(R.gzhead.hcrc?(R.pending+2>R.pending_buf_size&&T(y),R.pending+2<=R.pending_buf_size&&(ne(R,255&y.adler),ne(R,y.adler>>8&255),y.adler=0,R.status=$)):R.status=$),R.pending!==0){if(T(y),y.avail_out===0)return R.last_flush=-1,m}else if(y.avail_in===0&&I(X)<=I(Y)&&X!==g)return B(y,-5);if(R.status===666&&y.avail_in!==0)return B(y,-5);if(y.avail_in!==0||R.lookahead!==0||X!==d&&R.status!==666){var Q=R.strategy===2?function(V,ee){for(var ie;;){if(V.lookahead===0&&(pe(V),V.lookahead===0)){if(ee===d)return k;break}if(V.match_length=0,ie=l._tr_tally(V,0,V.window[V.strstart]),V.lookahead--,V.strstart++,ie&&(M(V,!1),V.strm.avail_out===0))return k}return V.insert=0,ee===g?(M(V,!0),V.strm.avail_out===0?j:O):V.last_lit&&(M(V,!1),V.strm.avail_out===0)?k:P}(R,X):R.strategy===3?function(V,ee){for(var ie,re,ce,ge,we=V.window;;){if(V.lookahead<=b){if(pe(V),V.lookahead<=b&&ee===d)return k;if(V.lookahead===0)break}if(V.match_length=0,V.lookahead>=D&&0<V.strstart&&(re=we[ce=V.strstart-1])===we[++ce]&&re===we[++ce]&&re===we[++ce]){ge=V.strstart+b;do;while(re===we[++ce]&&re===we[++ce]&&re===we[++ce]&&re===we[++ce]&&re===we[++ce]&&re===we[++ce]&&re===we[++ce]&&re===we[++ce]&&ce<ge);V.match_length=b-(ge-ce),V.match_length>V.lookahead&&(V.match_length=V.lookahead)}if(V.match_length>=D?(ie=l._tr_tally(V,1,V.match_length-D),V.lookahead-=V.match_length,V.strstart+=V.match_length,V.match_length=0):(ie=l._tr_tally(V,0,V.window[V.strstart]),V.lookahead--,V.strstart++),ie&&(M(V,!1),V.strm.avail_out===0))return k}return V.insert=0,ee===g?(M(V,!0),V.strm.avail_out===0?j:O):V.last_lit&&(M(V,!1),V.strm.avail_out===0)?k:P}(R,X):i[R.level].func(R,X);if(Q!==j&&Q!==O||(R.status=666),Q===k||Q===j)return y.avail_out===0&&(R.last_flush=-1),m;if(Q===P&&(X===1?l._tr_align(R):X!==5&&(l._tr_stored_block(R,0,0,!1),X===3&&(H(R.head),R.lookahead===0&&(R.strstart=0,R.block_start=0,R.insert=0))),T(y),y.avail_out===0))return R.last_flush=-1,m}return X!==g?m:R.wrap<=0?1:(R.wrap===2?(ne(R,255&y.adler),ne(R,y.adler>>8&255),ne(R,y.adler>>16&255),ne(R,y.adler>>24&255),ne(R,255&y.total_in),ne(R,y.total_in>>8&255),ne(R,y.total_in>>16&255),ne(R,y.total_in>>24&255)):(J(R,y.adler>>>16),J(R,65535&y.adler)),T(y),0<R.wrap&&(R.wrap=-R.wrap),R.pending!==0?m:1)},a.deflateEnd=function(y){var X;return y&&y.state?(X=y.state.status)!==C&&X!==69&&X!==73&&X!==91&&X!==103&&X!==$&&X!==666?B(y,x):(y.state=null,X===$?B(y,-3):m):x},a.deflateSetDictionary=function(y,X){var Y,R,N,U,G,Q,V,ee,ie=X.length;if(!y||!y.state||(U=(Y=y.state).wrap)===2||U===1&&Y.status!==C||Y.lookahead)return x;for(U===1&&(y.adler=s(y.adler,X,ie,0)),Y.wrap=0,ie>=Y.w_size&&(U===0&&(H(Y.head),Y.strstart=0,Y.block_start=0,Y.insert=0),ee=new o.Buf8(Y.w_size),o.arraySet(ee,X,ie-Y.w_size,Y.w_size,0),X=ee,ie=Y.w_size),G=y.avail_in,Q=y.next_in,V=y.input,y.avail_in=ie,y.next_in=0,y.input=X,pe(Y);Y.lookahead>=D;){for(R=Y.strstart,N=Y.lookahead-(D-1);Y.ins_h=(Y.ins_h<<Y.hash_shift^Y.window[R+D-1])&Y.hash_mask,Y.prev[R&Y.w_mask]=Y.head[Y.ins_h],Y.head[Y.ins_h]=R,R++,--N;);Y.strstart=R,Y.lookahead=D-1,pe(Y)}return Y.strstart+=Y.lookahead,Y.block_start=Y.strstart,Y.insert=Y.lookahead,Y.lookahead=0,Y.match_length=Y.prev_length=D-1,Y.match_available=0,y.next_in=Q,y.input=V,y.avail_in=G,Y.wrap=U,m},a.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(n,r,a){r.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(n,r,a){r.exports=function(i,o){var l,s,c,p,d,g,m,x,v,E,f,h,w,S,_,A,F,W,D,b,K,C,$,k,P;l=i.state,s=i.next_in,k=i.input,c=s+(i.avail_in-5),p=i.next_out,P=i.output,d=p-(o-i.avail_out),g=p+(i.avail_out-257),m=l.dmax,x=l.wsize,v=l.whave,E=l.wnext,f=l.window,h=l.hold,w=l.bits,S=l.lencode,_=l.distcode,A=(1<<l.lenbits)-1,F=(1<<l.distbits)-1;e:do{w<15&&(h+=k[s++]<<w,w+=8,h+=k[s++]<<w,w+=8),W=S[h&A];t:for(;;){if(h>>>=D=W>>>24,w-=D,(D=W>>>16&255)===0)P[p++]=65535&W;else{if(!(16&D)){if(!(64&D)){W=S[(65535&W)+(h&(1<<D)-1)];continue t}if(32&D){l.mode=12;break e}i.msg="invalid literal/length code",l.mode=30;break e}b=65535&W,(D&=15)&&(w<D&&(h+=k[s++]<<w,w+=8),b+=h&(1<<D)-1,h>>>=D,w-=D),w<15&&(h+=k[s++]<<w,w+=8,h+=k[s++]<<w,w+=8),W=_[h&F];n:for(;;){if(h>>>=D=W>>>24,w-=D,!(16&(D=W>>>16&255))){if(!(64&D)){W=_[(65535&W)+(h&(1<<D)-1)];continue n}i.msg="invalid distance code",l.mode=30;break e}if(K=65535&W,w<(D&=15)&&(h+=k[s++]<<w,(w+=8)<D&&(h+=k[s++]<<w,w+=8)),m<(K+=h&(1<<D)-1)){i.msg="invalid distance too far back",l.mode=30;break e}if(h>>>=D,w-=D,(D=p-d)<K){if(v<(D=K-D)&&l.sane){i.msg="invalid distance too far back",l.mode=30;break e}if($=f,(C=0)===E){if(C+=x-D,D<b){for(b-=D;P[p++]=f[C++],--D;);C=p-K,$=P}}else if(E<D){if(C+=x+E-D,(D-=E)<b){for(b-=D;P[p++]=f[C++],--D;);if(C=0,E<b){for(b-=D=E;P[p++]=f[C++],--D;);C=p-K,$=P}}}else if(C+=E-D,D<b){for(b-=D;P[p++]=f[C++],--D;);C=p-K,$=P}for(;2<b;)P[p++]=$[C++],P[p++]=$[C++],P[p++]=$[C++],b-=3;b&&(P[p++]=$[C++],1<b&&(P[p++]=$[C++]))}else{for(C=p-K;P[p++]=P[C++],P[p++]=P[C++],P[p++]=P[C++],2<(b-=3););b&&(P[p++]=P[C++],1<b&&(P[p++]=P[C++]))}break}}break}}while(s<c&&p<g);s-=b=w>>3,h&=(1<<(w-=b<<3))-1,i.next_in=s,i.next_out=p,i.avail_in=s<c?c-s+5:5-(s-c),i.avail_out=p<g?g-p+257:257-(p-g),l.hold=h,l.bits=w}},{}],49:[function(n,r,a){var i=n("../utils/common"),o=n("./adler32"),l=n("./crc32"),s=n("./inffast"),c=n("./inftrees"),p=1,d=2,g=0,m=-2,x=1,v=852,E=592;function f(C){return(C>>>24&255)+(C>>>8&65280)+((65280&C)<<8)+((255&C)<<24)}function h(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new i.Buf16(320),this.work=new i.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function w(C){var $;return C&&C.state?($=C.state,C.total_in=C.total_out=$.total=0,C.msg="",$.wrap&&(C.adler=1&$.wrap),$.mode=x,$.last=0,$.havedict=0,$.dmax=32768,$.head=null,$.hold=0,$.bits=0,$.lencode=$.lendyn=new i.Buf32(v),$.distcode=$.distdyn=new i.Buf32(E),$.sane=1,$.back=-1,g):m}function S(C){var $;return C&&C.state?(($=C.state).wsize=0,$.whave=0,$.wnext=0,w(C)):m}function _(C,$){var k,P;return C&&C.state?(P=C.state,$<0?(k=0,$=-$):(k=1+($>>4),$<48&&($&=15)),$&&($<8||15<$)?m:(P.window!==null&&P.wbits!==$&&(P.window=null),P.wrap=k,P.wbits=$,S(C))):m}function A(C,$){var k,P;return C?(P=new h,(C.state=P).window=null,(k=_(C,$))!==g&&(C.state=null),k):m}var F,W,D=!0;function b(C){if(D){var $;for(F=new i.Buf32(512),W=new i.Buf32(32),$=0;$<144;)C.lens[$++]=8;for(;$<256;)C.lens[$++]=9;for(;$<280;)C.lens[$++]=7;for(;$<288;)C.lens[$++]=8;for(c(p,C.lens,0,288,F,0,C.work,{bits:9}),$=0;$<32;)C.lens[$++]=5;c(d,C.lens,0,32,W,0,C.work,{bits:5}),D=!1}C.lencode=F,C.lenbits=9,C.distcode=W,C.distbits=5}function K(C,$,k,P){var j,O=C.state;return O.window===null&&(O.wsize=1<<O.wbits,O.wnext=0,O.whave=0,O.window=new i.Buf8(O.wsize)),P>=O.wsize?(i.arraySet(O.window,$,k-O.wsize,O.wsize,0),O.wnext=0,O.whave=O.wsize):(P<(j=O.wsize-O.wnext)&&(j=P),i.arraySet(O.window,$,k-P,j,O.wnext),(P-=j)?(i.arraySet(O.window,$,k-P,P,0),O.wnext=P,O.whave=O.wsize):(O.wnext+=j,O.wnext===O.wsize&&(O.wnext=0),O.whave<O.wsize&&(O.whave+=j))),0}a.inflateReset=S,a.inflateReset2=_,a.inflateResetKeep=w,a.inflateInit=function(C){return A(C,15)},a.inflateInit2=A,a.inflate=function(C,$){var k,P,j,O,B,I,H,T,M,ne,J,Z,pe,ue,ae,me,Ee,ke,be,Be,y,X,Y,R,N=0,U=new i.Buf8(4),G=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!C||!C.state||!C.output||!C.input&&C.avail_in!==0)return m;(k=C.state).mode===12&&(k.mode=13),B=C.next_out,j=C.output,H=C.avail_out,O=C.next_in,P=C.input,I=C.avail_in,T=k.hold,M=k.bits,ne=I,J=H,X=g;e:for(;;)switch(k.mode){case x:if(k.wrap===0){k.mode=13;break}for(;M<16;){if(I===0)break e;I--,T+=P[O++]<<M,M+=8}if(2&k.wrap&&T===35615){U[k.check=0]=255&T,U[1]=T>>>8&255,k.check=l(k.check,U,2,0),M=T=0,k.mode=2;break}if(k.flags=0,k.head&&(k.head.done=!1),!(1&k.wrap)||(((255&T)<<8)+(T>>8))%31){C.msg="incorrect header check",k.mode=30;break}if((15&T)!=8){C.msg="unknown compression method",k.mode=30;break}if(M-=4,y=8+(15&(T>>>=4)),k.wbits===0)k.wbits=y;else if(y>k.wbits){C.msg="invalid window size",k.mode=30;break}k.dmax=1<<y,C.adler=k.check=1,k.mode=512&T?10:12,M=T=0;break;case 2:for(;M<16;){if(I===0)break e;I--,T+=P[O++]<<M,M+=8}if(k.flags=T,(255&k.flags)!=8){C.msg="unknown compression method",k.mode=30;break}if(57344&k.flags){C.msg="unknown header flags set",k.mode=30;break}k.head&&(k.head.text=T>>8&1),512&k.flags&&(U[0]=255&T,U[1]=T>>>8&255,k.check=l(k.check,U,2,0)),M=T=0,k.mode=3;case 3:for(;M<32;){if(I===0)break e;I--,T+=P[O++]<<M,M+=8}k.head&&(k.head.time=T),512&k.flags&&(U[0]=255&T,U[1]=T>>>8&255,U[2]=T>>>16&255,U[3]=T>>>24&255,k.check=l(k.check,U,4,0)),M=T=0,k.mode=4;case 4:for(;M<16;){if(I===0)break e;I--,T+=P[O++]<<M,M+=8}k.head&&(k.head.xflags=255&T,k.head.os=T>>8),512&k.flags&&(U[0]=255&T,U[1]=T>>>8&255,k.check=l(k.check,U,2,0)),M=T=0,k.mode=5;case 5:if(1024&k.flags){for(;M<16;){if(I===0)break e;I--,T+=P[O++]<<M,M+=8}k.length=T,k.head&&(k.head.extra_len=T),512&k.flags&&(U[0]=255&T,U[1]=T>>>8&255,k.check=l(k.check,U,2,0)),M=T=0}else k.head&&(k.head.extra=null);k.mode=6;case 6:if(1024&k.flags&&(I<(Z=k.length)&&(Z=I),Z&&(k.head&&(y=k.head.extra_len-k.length,k.head.extra||(k.head.extra=new Array(k.head.extra_len)),i.arraySet(k.head.extra,P,O,Z,y)),512&k.flags&&(k.check=l(k.check,P,Z,O)),I-=Z,O+=Z,k.length-=Z),k.length))break e;k.length=0,k.mode=7;case 7:if(2048&k.flags){if(I===0)break e;for(Z=0;y=P[O+Z++],k.head&&y&&k.length<65536&&(k.head.name+=String.fromCharCode(y)),y&&Z<I;);if(512&k.flags&&(k.check=l(k.check,P,Z,O)),I-=Z,O+=Z,y)break e}else k.head&&(k.head.name=null);k.length=0,k.mode=8;case 8:if(4096&k.flags){if(I===0)break e;for(Z=0;y=P[O+Z++],k.head&&y&&k.length<65536&&(k.head.comment+=String.fromCharCode(y)),y&&Z<I;);if(512&k.flags&&(k.check=l(k.check,P,Z,O)),I-=Z,O+=Z,y)break e}else k.head&&(k.head.comment=null);k.mode=9;case 9:if(512&k.flags){for(;M<16;){if(I===0)break e;I--,T+=P[O++]<<M,M+=8}if(T!==(65535&k.check)){C.msg="header crc mismatch",k.mode=30;break}M=T=0}k.head&&(k.head.hcrc=k.flags>>9&1,k.head.done=!0),C.adler=k.check=0,k.mode=12;break;case 10:for(;M<32;){if(I===0)break e;I--,T+=P[O++]<<M,M+=8}C.adler=k.check=f(T),M=T=0,k.mode=11;case 11:if(k.havedict===0)return C.next_out=B,C.avail_out=H,C.next_in=O,C.avail_in=I,k.hold=T,k.bits=M,2;C.adler=k.check=1,k.mode=12;case 12:if($===5||$===6)break e;case 13:if(k.last){T>>>=7&M,M-=7&M,k.mode=27;break}for(;M<3;){if(I===0)break e;I--,T+=P[O++]<<M,M+=8}switch(k.last=1&T,M-=1,3&(T>>>=1)){case 0:k.mode=14;break;case 1:if(b(k),k.mode=20,$!==6)break;T>>>=2,M-=2;break e;case 2:k.mode=17;break;case 3:C.msg="invalid block type",k.mode=30}T>>>=2,M-=2;break;case 14:for(T>>>=7&M,M-=7&M;M<32;){if(I===0)break e;I--,T+=P[O++]<<M,M+=8}if((65535&T)!=(T>>>16^65535)){C.msg="invalid stored block lengths",k.mode=30;break}if(k.length=65535&T,M=T=0,k.mode=15,$===6)break e;case 15:k.mode=16;case 16:if(Z=k.length){if(I<Z&&(Z=I),H<Z&&(Z=H),Z===0)break e;i.arraySet(j,P,O,Z,B),I-=Z,O+=Z,H-=Z,B+=Z,k.length-=Z;break}k.mode=12;break;case 17:for(;M<14;){if(I===0)break e;I--,T+=P[O++]<<M,M+=8}if(k.nlen=257+(31&T),T>>>=5,M-=5,k.ndist=1+(31&T),T>>>=5,M-=5,k.ncode=4+(15&T),T>>>=4,M-=4,286<k.nlen||30<k.ndist){C.msg="too many length or distance symbols",k.mode=30;break}k.have=0,k.mode=18;case 18:for(;k.have<k.ncode;){for(;M<3;){if(I===0)break e;I--,T+=P[O++]<<M,M+=8}k.lens[G[k.have++]]=7&T,T>>>=3,M-=3}for(;k.have<19;)k.lens[G[k.have++]]=0;if(k.lencode=k.lendyn,k.lenbits=7,Y={bits:k.lenbits},X=c(0,k.lens,0,19,k.lencode,0,k.work,Y),k.lenbits=Y.bits,X){C.msg="invalid code lengths set",k.mode=30;break}k.have=0,k.mode=19;case 19:for(;k.have<k.nlen+k.ndist;){for(;me=(N=k.lencode[T&(1<<k.lenbits)-1])>>>16&255,Ee=65535&N,!((ae=N>>>24)<=M);){if(I===0)break e;I--,T+=P[O++]<<M,M+=8}if(Ee<16)T>>>=ae,M-=ae,k.lens[k.have++]=Ee;else{if(Ee===16){for(R=ae+2;M<R;){if(I===0)break e;I--,T+=P[O++]<<M,M+=8}if(T>>>=ae,M-=ae,k.have===0){C.msg="invalid bit length repeat",k.mode=30;break}y=k.lens[k.have-1],Z=3+(3&T),T>>>=2,M-=2}else if(Ee===17){for(R=ae+3;M<R;){if(I===0)break e;I--,T+=P[O++]<<M,M+=8}M-=ae,y=0,Z=3+(7&(T>>>=ae)),T>>>=3,M-=3}else{for(R=ae+7;M<R;){if(I===0)break e;I--,T+=P[O++]<<M,M+=8}M-=ae,y=0,Z=11+(127&(T>>>=ae)),T>>>=7,M-=7}if(k.have+Z>k.nlen+k.ndist){C.msg="invalid bit length repeat",k.mode=30;break}for(;Z--;)k.lens[k.have++]=y}}if(k.mode===30)break;if(k.lens[256]===0){C.msg="invalid code -- missing end-of-block",k.mode=30;break}if(k.lenbits=9,Y={bits:k.lenbits},X=c(p,k.lens,0,k.nlen,k.lencode,0,k.work,Y),k.lenbits=Y.bits,X){C.msg="invalid literal/lengths set",k.mode=30;break}if(k.distbits=6,k.distcode=k.distdyn,Y={bits:k.distbits},X=c(d,k.lens,k.nlen,k.ndist,k.distcode,0,k.work,Y),k.distbits=Y.bits,X){C.msg="invalid distances set",k.mode=30;break}if(k.mode=20,$===6)break e;case 20:k.mode=21;case 21:if(6<=I&&258<=H){C.next_out=B,C.avail_out=H,C.next_in=O,C.avail_in=I,k.hold=T,k.bits=M,s(C,J),B=C.next_out,j=C.output,H=C.avail_out,O=C.next_in,P=C.input,I=C.avail_in,T=k.hold,M=k.bits,k.mode===12&&(k.back=-1);break}for(k.back=0;me=(N=k.lencode[T&(1<<k.lenbits)-1])>>>16&255,Ee=65535&N,!((ae=N>>>24)<=M);){if(I===0)break e;I--,T+=P[O++]<<M,M+=8}if(me&&!(240&me)){for(ke=ae,be=me,Be=Ee;me=(N=k.lencode[Be+((T&(1<<ke+be)-1)>>ke)])>>>16&255,Ee=65535&N,!(ke+(ae=N>>>24)<=M);){if(I===0)break e;I--,T+=P[O++]<<M,M+=8}T>>>=ke,M-=ke,k.back+=ke}if(T>>>=ae,M-=ae,k.back+=ae,k.length=Ee,me===0){k.mode=26;break}if(32&me){k.back=-1,k.mode=12;break}if(64&me){C.msg="invalid literal/length code",k.mode=30;break}k.extra=15&me,k.mode=22;case 22:if(k.extra){for(R=k.extra;M<R;){if(I===0)break e;I--,T+=P[O++]<<M,M+=8}k.length+=T&(1<<k.extra)-1,T>>>=k.extra,M-=k.extra,k.back+=k.extra}k.was=k.length,k.mode=23;case 23:for(;me=(N=k.distcode[T&(1<<k.distbits)-1])>>>16&255,Ee=65535&N,!((ae=N>>>24)<=M);){if(I===0)break e;I--,T+=P[O++]<<M,M+=8}if(!(240&me)){for(ke=ae,be=me,Be=Ee;me=(N=k.distcode[Be+((T&(1<<ke+be)-1)>>ke)])>>>16&255,Ee=65535&N,!(ke+(ae=N>>>24)<=M);){if(I===0)break e;I--,T+=P[O++]<<M,M+=8}T>>>=ke,M-=ke,k.back+=ke}if(T>>>=ae,M-=ae,k.back+=ae,64&me){C.msg="invalid distance code",k.mode=30;break}k.offset=Ee,k.extra=15&me,k.mode=24;case 24:if(k.extra){for(R=k.extra;M<R;){if(I===0)break e;I--,T+=P[O++]<<M,M+=8}k.offset+=T&(1<<k.extra)-1,T>>>=k.extra,M-=k.extra,k.back+=k.extra}if(k.offset>k.dmax){C.msg="invalid distance too far back",k.mode=30;break}k.mode=25;case 25:if(H===0)break e;if(Z=J-H,k.offset>Z){if((Z=k.offset-Z)>k.whave&&k.sane){C.msg="invalid distance too far back",k.mode=30;break}pe=Z>k.wnext?(Z-=k.wnext,k.wsize-Z):k.wnext-Z,Z>k.length&&(Z=k.length),ue=k.window}else ue=j,pe=B-k.offset,Z=k.length;for(H<Z&&(Z=H),H-=Z,k.length-=Z;j[B++]=ue[pe++],--Z;);k.length===0&&(k.mode=21);break;case 26:if(H===0)break e;j[B++]=k.length,H--,k.mode=21;break;case 27:if(k.wrap){for(;M<32;){if(I===0)break e;I--,T|=P[O++]<<M,M+=8}if(J-=H,C.total_out+=J,k.total+=J,J&&(C.adler=k.check=k.flags?l(k.check,j,J,B-J):o(k.check,j,J,B-J)),J=H,(k.flags?T:f(T))!==k.check){C.msg="incorrect data check",k.mode=30;break}M=T=0}k.mode=28;case 28:if(k.wrap&&k.flags){for(;M<32;){if(I===0)break e;I--,T+=P[O++]<<M,M+=8}if(T!==(4294967295&k.total)){C.msg="incorrect length check",k.mode=30;break}M=T=0}k.mode=29;case 29:X=1;break e;case 30:X=-3;break e;case 31:return-4;case 32:default:return m}return C.next_out=B,C.avail_out=H,C.next_in=O,C.avail_in=I,k.hold=T,k.bits=M,(k.wsize||J!==C.avail_out&&k.mode<30&&(k.mode<27||$!==4))&&K(C,C.output,C.next_out,J-C.avail_out)?(k.mode=31,-4):(ne-=C.avail_in,J-=C.avail_out,C.total_in+=ne,C.total_out+=J,k.total+=J,k.wrap&&J&&(C.adler=k.check=k.flags?l(k.check,j,J,C.next_out-J):o(k.check,j,J,C.next_out-J)),C.data_type=k.bits+(k.last?64:0)+(k.mode===12?128:0)+(k.mode===20||k.mode===15?256:0),(ne==0&&J===0||$===4)&&X===g&&(X=-5),X)},a.inflateEnd=function(C){if(!C||!C.state)return m;var $=C.state;return $.window&&($.window=null),C.state=null,g},a.inflateGetHeader=function(C,$){var k;return C&&C.state&&2&(k=C.state).wrap?((k.head=$).done=!1,g):m},a.inflateSetDictionary=function(C,$){var k,P=$.length;return C&&C.state?(k=C.state).wrap!==0&&k.mode!==11?m:k.mode===11&&o(1,$,P,0)!==k.check?-3:K(C,$,P,P)?(k.mode=31,-4):(k.havedict=1,g):m},a.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(n,r,a){var i=n("../utils/common"),o=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],l=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],s=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],c=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];r.exports=function(p,d,g,m,x,v,E,f){var h,w,S,_,A,F,W,D,b,K=f.bits,C=0,$=0,k=0,P=0,j=0,O=0,B=0,I=0,H=0,T=0,M=null,ne=0,J=new i.Buf16(16),Z=new i.Buf16(16),pe=null,ue=0;for(C=0;C<=15;C++)J[C]=0;for($=0;$<m;$++)J[d[g+$]]++;for(j=K,P=15;1<=P&&J[P]===0;P--);if(P<j&&(j=P),P===0)return x[v++]=20971520,x[v++]=20971520,f.bits=1,0;for(k=1;k<P&&J[k]===0;k++);for(j<k&&(j=k),C=I=1;C<=15;C++)if(I<<=1,(I-=J[C])<0)return-1;if(0<I&&(p===0||P!==1))return-1;for(Z[1]=0,C=1;C<15;C++)Z[C+1]=Z[C]+J[C];for($=0;$<m;$++)d[g+$]!==0&&(E[Z[d[g+$]]++]=$);if(F=p===0?(M=pe=E,19):p===1?(M=o,ne-=257,pe=l,ue-=257,256):(M=s,pe=c,-1),C=k,A=v,B=$=T=0,S=-1,_=(H=1<<(O=j))-1,p===1&&852<H||p===2&&592<H)return 1;for(;;){for(W=C-B,b=E[$]<F?(D=0,E[$]):E[$]>F?(D=pe[ue+E[$]],M[ne+E[$]]):(D=96,0),h=1<<C-B,k=w=1<<O;x[A+(T>>B)+(w-=h)]=W<<24|D<<16|b|0,w!==0;);for(h=1<<C-1;T&h;)h>>=1;if(h!==0?(T&=h-1,T+=h):T=0,$++,--J[C]==0){if(C===P)break;C=d[g+E[$]]}if(j<C&&(T&_)!==S){for(B===0&&(B=j),A+=k,I=1<<(O=C-B);O+B<P&&!((I-=J[O+B])<=0);)O++,I<<=1;if(H+=1<<O,p===1&&852<H||p===2&&592<H)return 1;x[S=T&_]=j<<24|O<<16|A-v|0}}return T!==0&&(x[A+T]=C-B<<24|64<<16|0),f.bits=j,0}},{"../utils/common":41}],51:[function(n,r,a){r.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(n,r,a){var i=n("../utils/common"),o=0,l=1;function s(N){for(var U=N.length;0<=--U;)N[U]=0}var c=0,p=29,d=256,g=d+1+p,m=30,x=19,v=2*g+1,E=15,f=16,h=7,w=256,S=16,_=17,A=18,F=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],W=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],D=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],b=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],K=new Array(2*(g+2));s(K);var C=new Array(2*m);s(C);var $=new Array(512);s($);var k=new Array(256);s(k);var P=new Array(p);s(P);var j,O,B,I=new Array(m);function H(N,U,G,Q,V){this.static_tree=N,this.extra_bits=U,this.extra_base=G,this.elems=Q,this.max_length=V,this.has_stree=N&&N.length}function T(N,U){this.dyn_tree=N,this.max_code=0,this.stat_desc=U}function M(N){return N<256?$[N]:$[256+(N>>>7)]}function ne(N,U){N.pending_buf[N.pending++]=255&U,N.pending_buf[N.pending++]=U>>>8&255}function J(N,U,G){N.bi_valid>f-G?(N.bi_buf|=U<<N.bi_valid&65535,ne(N,N.bi_buf),N.bi_buf=U>>f-N.bi_valid,N.bi_valid+=G-f):(N.bi_buf|=U<<N.bi_valid&65535,N.bi_valid+=G)}function Z(N,U,G){J(N,G[2*U],G[2*U+1])}function pe(N,U){for(var G=0;G|=1&N,N>>>=1,G<<=1,0<--U;);return G>>>1}function ue(N,U,G){var Q,V,ee=new Array(E+1),ie=0;for(Q=1;Q<=E;Q++)ee[Q]=ie=ie+G[Q-1]<<1;for(V=0;V<=U;V++){var re=N[2*V+1];re!==0&&(N[2*V]=pe(ee[re]++,re))}}function ae(N){var U;for(U=0;U<g;U++)N.dyn_ltree[2*U]=0;for(U=0;U<m;U++)N.dyn_dtree[2*U]=0;for(U=0;U<x;U++)N.bl_tree[2*U]=0;N.dyn_ltree[2*w]=1,N.opt_len=N.static_len=0,N.last_lit=N.matches=0}function me(N){8<N.bi_valid?ne(N,N.bi_buf):0<N.bi_valid&&(N.pending_buf[N.pending++]=N.bi_buf),N.bi_buf=0,N.bi_valid=0}function Ee(N,U,G,Q){var V=2*U,ee=2*G;return N[V]<N[ee]||N[V]===N[ee]&&Q[U]<=Q[G]}function ke(N,U,G){for(var Q=N.heap[G],V=G<<1;V<=N.heap_len&&(V<N.heap_len&&Ee(U,N.heap[V+1],N.heap[V],N.depth)&&V++,!Ee(U,Q,N.heap[V],N.depth));)N.heap[G]=N.heap[V],G=V,V<<=1;N.heap[G]=Q}function be(N,U,G){var Q,V,ee,ie,re=0;if(N.last_lit!==0)for(;Q=N.pending_buf[N.d_buf+2*re]<<8|N.pending_buf[N.d_buf+2*re+1],V=N.pending_buf[N.l_buf+re],re++,Q===0?Z(N,V,U):(Z(N,(ee=k[V])+d+1,U),(ie=F[ee])!==0&&J(N,V-=P[ee],ie),Z(N,ee=M(--Q),G),(ie=W[ee])!==0&&J(N,Q-=I[ee],ie)),re<N.last_lit;);Z(N,w,U)}function Be(N,U){var G,Q,V,ee=U.dyn_tree,ie=U.stat_desc.static_tree,re=U.stat_desc.has_stree,ce=U.stat_desc.elems,ge=-1;for(N.heap_len=0,N.heap_max=v,G=0;G<ce;G++)ee[2*G]!==0?(N.heap[++N.heap_len]=ge=G,N.depth[G]=0):ee[2*G+1]=0;for(;N.heap_len<2;)ee[2*(V=N.heap[++N.heap_len]=ge<2?++ge:0)]=1,N.depth[V]=0,N.opt_len--,re&&(N.static_len-=ie[2*V+1]);for(U.max_code=ge,G=N.heap_len>>1;1<=G;G--)ke(N,ee,G);for(V=ce;G=N.heap[1],N.heap[1]=N.heap[N.heap_len--],ke(N,ee,1),Q=N.heap[1],N.heap[--N.heap_max]=G,N.heap[--N.heap_max]=Q,ee[2*V]=ee[2*G]+ee[2*Q],N.depth[V]=(N.depth[G]>=N.depth[Q]?N.depth[G]:N.depth[Q])+1,ee[2*G+1]=ee[2*Q+1]=V,N.heap[1]=V++,ke(N,ee,1),2<=N.heap_len;);N.heap[--N.heap_max]=N.heap[1],function(we,at){var bt,ft,bn,Ie,Vn,Nr,Ct=at.dyn_tree,en=at.max_code,Ji=at.stat_desc.static_tree,qi=at.stat_desc.has_stree,eo=at.stat_desc.extra_bits,_a=at.stat_desc.extra_base,Cn=at.stat_desc.max_length,tn=0;for(Ie=0;Ie<=E;Ie++)we.bl_count[Ie]=0;for(Ct[2*we.heap[we.heap_max]+1]=0,bt=we.heap_max+1;bt<v;bt++)Cn<(Ie=Ct[2*Ct[2*(ft=we.heap[bt])+1]+1]+1)&&(Ie=Cn,tn++),Ct[2*ft+1]=Ie,en<ft||(we.bl_count[Ie]++,Vn=0,_a<=ft&&(Vn=eo[ft-_a]),Nr=Ct[2*ft],we.opt_len+=Nr*(Ie+Vn),qi&&(we.static_len+=Nr*(Ji[2*ft+1]+Vn)));if(tn!==0){do{for(Ie=Cn-1;we.bl_count[Ie]===0;)Ie--;we.bl_count[Ie]--,we.bl_count[Ie+1]+=2,we.bl_count[Cn]--,tn-=2}while(0<tn);for(Ie=Cn;Ie!==0;Ie--)for(ft=we.bl_count[Ie];ft!==0;)en<(bn=we.heap[--bt])||(Ct[2*bn+1]!==Ie&&(we.opt_len+=(Ie-Ct[2*bn+1])*Ct[2*bn],Ct[2*bn+1]=Ie),ft--)}}(N,U),ue(ee,ge,N.bl_count)}function y(N,U,G){var Q,V,ee=-1,ie=U[1],re=0,ce=7,ge=4;for(ie===0&&(ce=138,ge=3),U[2*(G+1)+1]=65535,Q=0;Q<=G;Q++)V=ie,ie=U[2*(Q+1)+1],++re<ce&&V===ie||(re<ge?N.bl_tree[2*V]+=re:V!==0?(V!==ee&&N.bl_tree[2*V]++,N.bl_tree[2*S]++):re<=10?N.bl_tree[2*_]++:N.bl_tree[2*A]++,ee=V,ge=(re=0)===ie?(ce=138,3):V===ie?(ce=6,3):(ce=7,4))}function X(N,U,G){var Q,V,ee=-1,ie=U[1],re=0,ce=7,ge=4;for(ie===0&&(ce=138,ge=3),Q=0;Q<=G;Q++)if(V=ie,ie=U[2*(Q+1)+1],!(++re<ce&&V===ie)){if(re<ge)for(;Z(N,V,N.bl_tree),--re!=0;);else V!==0?(V!==ee&&(Z(N,V,N.bl_tree),re--),Z(N,S,N.bl_tree),J(N,re-3,2)):re<=10?(Z(N,_,N.bl_tree),J(N,re-3,3)):(Z(N,A,N.bl_tree),J(N,re-11,7));ee=V,ge=(re=0)===ie?(ce=138,3):V===ie?(ce=6,3):(ce=7,4)}}s(I);var Y=!1;function R(N,U,G,Q){J(N,(c<<1)+(Q?1:0),3),function(V,ee,ie,re){me(V),ne(V,ie),ne(V,~ie),i.arraySet(V.pending_buf,V.window,ee,ie,V.pending),V.pending+=ie}(N,U,G)}a._tr_init=function(N){Y||(function(){var U,G,Q,V,ee,ie=new Array(E+1);for(V=Q=0;V<p-1;V++)for(P[V]=Q,U=0;U<1<<F[V];U++)k[Q++]=V;for(k[Q-1]=V,V=ee=0;V<16;V++)for(I[V]=ee,U=0;U<1<<W[V];U++)$[ee++]=V;for(ee>>=7;V<m;V++)for(I[V]=ee<<7,U=0;U<1<<W[V]-7;U++)$[256+ee++]=V;for(G=0;G<=E;G++)ie[G]=0;for(U=0;U<=143;)K[2*U+1]=8,U++,ie[8]++;for(;U<=255;)K[2*U+1]=9,U++,ie[9]++;for(;U<=279;)K[2*U+1]=7,U++,ie[7]++;for(;U<=287;)K[2*U+1]=8,U++,ie[8]++;for(ue(K,g+1,ie),U=0;U<m;U++)C[2*U+1]=5,C[2*U]=pe(U,5);j=new H(K,F,d+1,g,E),O=new H(C,W,0,m,E),B=new H(new Array(0),D,0,x,h)}(),Y=!0),N.l_desc=new T(N.dyn_ltree,j),N.d_desc=new T(N.dyn_dtree,O),N.bl_desc=new T(N.bl_tree,B),N.bi_buf=0,N.bi_valid=0,ae(N)},a._tr_stored_block=R,a._tr_flush_block=function(N,U,G,Q){var V,ee,ie=0;0<N.level?(N.strm.data_type===2&&(N.strm.data_type=function(re){var ce,ge=4093624447;for(ce=0;ce<=31;ce++,ge>>>=1)if(1&ge&&re.dyn_ltree[2*ce]!==0)return o;if(re.dyn_ltree[18]!==0||re.dyn_ltree[20]!==0||re.dyn_ltree[26]!==0)return l;for(ce=32;ce<d;ce++)if(re.dyn_ltree[2*ce]!==0)return l;return o}(N)),Be(N,N.l_desc),Be(N,N.d_desc),ie=function(re){var ce;for(y(re,re.dyn_ltree,re.l_desc.max_code),y(re,re.dyn_dtree,re.d_desc.max_code),Be(re,re.bl_desc),ce=x-1;3<=ce&&re.bl_tree[2*b[ce]+1]===0;ce--);return re.opt_len+=3*(ce+1)+5+5+4,ce}(N),V=N.opt_len+3+7>>>3,(ee=N.static_len+3+7>>>3)<=V&&(V=ee)):V=ee=G+5,G+4<=V&&U!==-1?R(N,U,G,Q):N.strategy===4||ee===V?(J(N,2+(Q?1:0),3),be(N,K,C)):(J(N,4+(Q?1:0),3),function(re,ce,ge,we){var at;for(J(re,ce-257,5),J(re,ge-1,5),J(re,we-4,4),at=0;at<we;at++)J(re,re.bl_tree[2*b[at]+1],3);X(re,re.dyn_ltree,ce-1),X(re,re.dyn_dtree,ge-1)}(N,N.l_desc.max_code+1,N.d_desc.max_code+1,ie+1),be(N,N.dyn_ltree,N.dyn_dtree)),ae(N),Q&&me(N)},a._tr_tally=function(N,U,G){return N.pending_buf[N.d_buf+2*N.last_lit]=U>>>8&255,N.pending_buf[N.d_buf+2*N.last_lit+1]=255&U,N.pending_buf[N.l_buf+N.last_lit]=255&G,N.last_lit++,U===0?N.dyn_ltree[2*G]++:(N.matches++,U--,N.dyn_ltree[2*(k[G]+d+1)]++,N.dyn_dtree[2*M(U)]++),N.last_lit===N.lit_bufsize-1},a._tr_align=function(N){J(N,2,3),Z(N,w,K),function(U){U.bi_valid===16?(ne(U,U.bi_buf),U.bi_buf=0,U.bi_valid=0):8<=U.bi_valid&&(U.pending_buf[U.pending++]=255&U.bi_buf,U.bi_buf>>=8,U.bi_valid-=8)}(N)}},{"../utils/common":41}],53:[function(n,r,a){r.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(n,r,a){(function(i){(function(o,l){if(!o.setImmediate){var s,c,p,d,g=1,m={},x=!1,v=o.document,E=Object.getPrototypeOf&&Object.getPrototypeOf(o);E=E&&E.setTimeout?E:o,s={}.toString.call(o.process)==="[object process]"?function(S){process.nextTick(function(){h(S)})}:function(){if(o.postMessage&&!o.importScripts){var S=!0,_=o.onmessage;return o.onmessage=function(){S=!1},o.postMessage("","*"),o.onmessage=_,S}}()?(d="setImmediate$"+Math.random()+"$",o.addEventListener?o.addEventListener("message",w,!1):o.attachEvent("onmessage",w),function(S){o.postMessage(d+S,"*")}):o.MessageChannel?((p=new MessageChannel).port1.onmessage=function(S){h(S.data)},function(S){p.port2.postMessage(S)}):v&&"onreadystatechange"in v.createElement("script")?(c=v.documentElement,function(S){var _=v.createElement("script");_.onreadystatechange=function(){h(S),_.onreadystatechange=null,c.removeChild(_),_=null},c.appendChild(_)}):function(S){setTimeout(h,0,S)},E.setImmediate=function(S){typeof S!="function"&&(S=new Function(""+S));for(var _=new Array(arguments.length-1),A=0;A<_.length;A++)_[A]=arguments[A+1];var F={callback:S,args:_};return m[g]=F,s(g),g++},E.clearImmediate=f}function f(S){delete m[S]}function h(S){if(x)setTimeout(h,0,S);else{var _=m[S];if(_){x=!0;try{(function(A){var F=A.callback,W=A.args;switch(W.length){case 0:F();break;case 1:F(W[0]);break;case 2:F(W[0],W[1]);break;case 3:F(W[0],W[1],W[2]);break;default:F.apply(l,W)}})(_)}finally{f(S),x=!1}}}}function w(S){S.source===o&&typeof S.data=="string"&&S.data.indexOf(d)===0&&h(+S.data.slice(d.length))}})(typeof self>"u"?i===void 0?this:i:self)}).call(this,typeof Ht<"u"?Ht:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(Od);var Jg=Od.exports;const qg=ec(Jg);var Ud={exports:{}};(function(e,t){(function(n,r){r()})(Ht,function(){function n(c,p){return typeof p>"u"?p={autoBom:!1}:typeof p!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),p={autoBom:!p}),p.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(c.type)?new Blob(["\uFEFF",c],{type:c.type}):c}function r(c,p,d){var g=new XMLHttpRequest;g.open("GET",c),g.responseType="blob",g.onload=function(){s(g.response,p,d)},g.onerror=function(){console.error("could not download file")},g.send()}function a(c){var p=new XMLHttpRequest;p.open("HEAD",c,!1);try{p.send()}catch{}return 200<=p.status&&299>=p.status}function i(c){try{c.dispatchEvent(new MouseEvent("click"))}catch{var p=document.createEvent("MouseEvents");p.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),c.dispatchEvent(p)}}var o=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof Ht=="object"&&Ht.global===Ht?Ht:void 0,l=o.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),s=o.saveAs||(typeof window!="object"||window!==o?function(){}:"download"in HTMLAnchorElement.prototype&&!l?function(c,p,d){var g=o.URL||o.webkitURL,m=document.createElement("a");p=p||c.name||"download",m.download=p,m.rel="noopener",typeof c=="string"?(m.href=c,m.origin===location.origin?i(m):a(m.href)?r(c,p,d):i(m,m.target="_blank")):(m.href=g.createObjectURL(c),setTimeout(function(){g.revokeObjectURL(m.href)},4e4),setTimeout(function(){i(m)},0))}:"msSaveOrOpenBlob"in navigator?function(c,p,d){if(p=p||c.name||"download",typeof c!="string")navigator.msSaveOrOpenBlob(n(c,d),p);else if(a(c))r(c,p,d);else{var g=document.createElement("a");g.href=c,g.target="_blank",setTimeout(function(){i(g)})}}:function(c,p,d,g){if(g=g||open("","_blank"),g&&(g.document.title=g.document.body.innerText="downloading..."),typeof c=="string")return r(c,p,d);var m=c.type==="application/octet-stream",x=/constructor/i.test(o.HTMLElement)||o.safari,v=/CriOS\/[\d]+/.test(navigator.userAgent);if((v||m&&x||l)&&typeof FileReader<"u"){var E=new FileReader;E.onloadend=function(){var w=E.result;w=v?w:w.replace(/^data:[^;]*;/,"data:attachment/file;"),g?g.location.href=w:location=w,g=null},E.readAsDataURL(c)}else{var f=o.URL||o.webkitURL,h=f.createObjectURL(c);g?g.location=h:location.href=h,g=null,setTimeout(function(){f.revokeObjectURL(h)},4e4)}});o.saveAs=s.saveAs=s,e.exports=s})})(Ud);var Ls=Ud.exports;const ey=async e=>await(await fetch(e)).blob(),ty=(e,t)=>t&&t.toLowerCase().endsWith(".jpg")?"jpg":t&&t.toLowerCase().endsWith(".png")?"png":e==="image/jpeg"?"jpg":"png",ny=async e=>{if(!(!e||!e.src))try{const t=await ey(e.src);Ls.saveAs(t,`${e.originalName||e.id}.${ty(t.type,e.src)}`)}catch(t){console.error("Save original failed",t)}},ry=e=>{if(!e||!e.text)return;const t=new Blob([e.text],{type:"text/plain;charset=utf-8"});Ls.saveAs(t,`${e.id}.txt`)},ay=async e=>{if(e.name.endsWith(".json")){const t=await e.text();return JSON.parse(t)}else if(e.name.endsWith(".zip")||e.name.endsWith(".canvas")){const t=await qg.loadAsync(e),n=t.file("project.json");if(!n)throw new Error("Invalid project: missing project.json");const r=JSON.parse(await n.async("string")),a=await Promise.all(r.images.map(async i=>{if(i.type==="image"&&i.src&&!i.src.startsWith("data:")&&!i.src.startsWith("http")){const o=t.file(i.src);if(o){const l=await o.async("blob");i.src=URL.createObjectURL(l)}}return i}));return r.images=a,r}throw new Error("Unsupported file type")},iy=async(e,t,n)=>{const r=await n(e,t,!1),i=await(await fetch(r)).blob(),o=e.name||e.id||"export";Ls.saveAs(i,`${o}.png`)};function oy(){const[e,t]=L.useState([{id:"frame1",type:"frame",name:"",x:100,y:100,width:1920,height:1080,fill:"#ffffff",stroke:"#9ca3af",originalWidth:1920,originalHeight:1080,isLocked:!1},{id:"text_intro",type:"text",x:760,y:500,width:400,height:60,text:`
`,fill:"#52525b",fontSize:32,align:"center",originalWidth:400,originalHeight:60,isLocked:!1}]),[n,r]=L.useState(null),[a,i]=L.useState("select"),[o,l]=L.useState(.6),[s,c]=L.useState({x:40,y:40}),[p,d]=L.useState({stroke:"#000000",strokeWidth:5,opacity:1,blur:0}),[g,m]=L.useState("canvas"),{takeSnapshot:x,undo:v,redo:E,canUndo:f,canRedo:h}=Vg(e),w=L.useCallback((D,b=!0)=>{t(D),b&&x(D)},[x]),S=L.useCallback(D=>{const b=e.filter(K=>K.id!==D);w(b),n===D&&r(null)},[e,n,w]);return L.useEffect(()=>{const D=b=>{if((b.ctrlKey||b.metaKey)&&b.key==="z"){b.preventDefault();const K=v();K&&t(K);return}if((b.ctrlKey||b.metaKey)&&b.key==="y"){b.preventDefault();const K=E();K&&t(K);return}if((b.key==="Delete"||b.key==="Backspace")&&n){const K=e.find(C=>C.id===n);K&&!K.isLocked&&document.activeElement.tagName!=="INPUT"&&document.activeElement.tagName!=="TEXTAREA"&&S(n)}};return window.addEventListener("keydown",D),()=>window.removeEventListener("keydown",D)},[n,e,S,v,E]),{images:e,setImages:t,updateImages:w,selectedId:n,setSelectedId:r,activeTool:a,setActiveTool:i,zoom:o,setZoom:l,offset:s,setOffset:c,drawSettings:p,setDrawSettings:d,viewMode:g,setViewMode:m,takeSnapshot:x,undo:v,redo:E,canUndo:f,canRedo:h,deleteObject:S,handleAddObject:(D,b)=>{if(D==="image"){b!=null&&b.current&&b.current.click();return}const K=`item_${Date.now()}`,C=window.innerWidth-72-360,$=window.innerHeight-64,k=(C/2-s.x)/o+(Math.random()*40-20),P=($/2-s.y)/o+(Math.random()*40-20);let j=200,O=200,B={id:K,type:D,x:k-j/2,y:P-O/2,width:j,height:O,originalWidth:j,originalHeight:O,isLocked:!1,opacity:1};if(D==="text")j=240,O=60,B={...B,x:k-j/2,y:P-O/2,width:j,height:O,text:"",fontSize:48,fontWeight:"normal",align:"center",fill:"#000000",fontFamily:"sans-serif"};else if(D==="shape")B={...B,fill:"#FF6B6B",stroke:"#000000",strokeWidth:0,shapeType:"rectangle"};else if(D==="frame"){j=1920,O=1080;const I=e.filter(H=>H.type==="frame").length+1;B={...B,name:`Frame ${I}`,x:k-j/2,y:P-O/2,width:j,height:O,fill:"#ffffff",stroke:"#9ca3af",strokeWidth:2,lockedWidth:!1,lockedHeight:!1}}w([...e,B]),r(K)},handleSplineComplete:(D,b)=>{const K=Yg(D,b);K&&(w([...e,K]),r(K.id))},handleDrawComplete:D=>{const b=Kg(D,p);b&&(w([...e,b]),r(b.id))},handleLayerAction:async(D,b,K,C,$)=>{const k=e.find(O=>O.id===b);if(!k)return;if(D==="save_local"&&k.type==="frame"){await iy(k,e,Ju);return}if(D==="save_original"&&k.type==="image"){ny(k);return}if(D==="save_text"&&k.type==="text"){ry(k);return}if(["bind_image","bind_mask","bind_prompt"].includes(D)){const O=D.split("_")[1];C(B=>({...B,[K]:{...B[K],[O]:k}}));return}if(D==="generateImage"||D==="generateMask"){const B=await Ju(k,e,D==="generateMask");let I=B;if($)try{const M=await(await fetch(B)).blob(),ne=`gen_${Date.now()}.png`,J=await $(M,ne,"generation");J&&(I=J)}catch(T){console.error("Generation upload failed",T)}const H={id:`gen_${Date.now()}`,sourceIds:[k.id],type:"image",x:k.x+k.width+50,y:k.y,width:k.width,height:k.height,src:I,opacity:1,originalWidth:k.width,originalHeight:k.height,isLocked:!1,isGenerated:!0};w([...e,H]);return}if(D==="delete"){S(b);return}const P=e.findIndex(O=>O.id===b);if(P<0)return;const j=[...e];D==="bringToFront"?j.push(j.splice(P,1)[0]):D==="sendToBack"&&j.unshift(j.splice(P,1)[0]),w(j)}}}const To=[{id:"1",name:"ComfyUI ",type:"comfy",json:"",mappings:[]},{id:"api_default",type:"api",name:"AI ",description:""}],ly=()=>{const[e,t]=L.useState(()=>{try{const h=localStorage.getItem("lovart_workflows");return h?JSON.parse(h):To}catch(h){return console.error("",h),To}}),[n,r]=L.useState(()=>localStorage.getItem("lovart_active_workflow_id")||To[0].id),[a,i]=L.useState(()=>{try{const h=localStorage.getItem("lovart_chat_messages");return h?JSON.parse(h):[]}catch{return[]}}),[o,l]=L.useState({}),s=o[n]||{image:null,mask:null,prompt:null},[c,p]=L.useState([]);L.useEffect(()=>{localStorage.setItem("lovart_workflows",JSON.stringify(e))},[e]),L.useEffect(()=>{localStorage.setItem("lovart_active_workflow_id",n)},[n]),L.useEffect(()=>{localStorage.setItem("lovart_chat_messages",JSON.stringify(a))},[a]);const d=L.useCallback(h=>{r(h)},[]),g=L.useCallback(h=>{l(w=>({...w,[n]:{...w[n],[h]:null}}))},[n]),m=L.useCallback(()=>{i([]),p([])},[]),x=L.useCallback(h=>{t(w=>w.filter(_=>_.id!==h)),n===h&&r(null)},[n]),v=L.useCallback(h=>{t(w=>{const S=w.find(A=>A.id===h);if(!S)return w;const _={...S,id:Date.now().toString(),name:`${S.name} ()`};return[...w,_]})},[]),E=L.useCallback(async h=>{const w=new FormData;w.append("file",h);try{const _=await(await fetch("http://localhost:8020/upload",{method:"POST",body:w})).json();if(_.status==="success")return _.file.url}catch(S){console.error("Upload failed, falling back to local blob",S)}return URL.createObjectURL(h)},[]),f=L.useCallback(async h=>h,[]);return{workflows:e,activeWorkflowId:n,currentBindings:s,chatMessages:a,activeSessionSources:c,setWorkflows:t,setActiveWorkflowId:r,setAllBindings:l,setChatMessages:i,setActiveSessionSources:p,onSwitchWorkflow:d,handleClearBinding:g,handleNewChat:m,handleDeleteWorkflow:x,handleDuplicateWorkflow:v,uploadImage:E,runRemBgTask:f}},sy=e=>new Promise((t,n)=>{e||n("No file");const r=new FileReader;r.onload=a=>{const i=a.target.result,o=new Image;o.onload=()=>{let l="png";e.type?l=e.type.split("/")[1]:e.name.includes(".")&&(l=e.name.split(".").pop()),t({src:i,width:o.naturalWidth,height:o.naturalHeight,rawName:e.name.split(".")[0],ext:l})},o.onerror=n,o.src=i},r.readAsDataURL(e)}),uy=(e,t,n=1e3)=>{let r=e,a=t;return r>a&&r>n?(a=a*n/r,r=n):a>n&&(r=r*n/a,a=n),{width:r,height:a}};function cy(){const[e]=L.useState(()=>crypto.randomUUID()),[t,n]=L.useState("Untitled Project"),r=L.useRef(null);return{projectUuid:e,fileName:t,setFileName:n,fileInputRef:r,handleFileUpload:async(o,l,s,c)=>{const p=o.target.files[0];if(p){try{const{src:d,width:g,height:m,rawName:x}=await sy(p),v=window.innerWidth-72-360,E=window.innerHeight-64,f=(v/2-s.x)/l,h=(E/2-s.y)/l,{width:w,height:S}=uy(g,m),_={id:`img_${Date.now()}`,type:"image",x:f-w/2,y:h-S/2,width:w,height:S,src:d,originalName:x,contentWidth:null,contentHeight:null,contentX:0,contentY:0,opacity:1,originalWidth:w,originalHeight:S,isLocked:!1};c(_)}catch(d){console.error(d)}o.target.value=""}},handleOpenProject:async(o,l)=>{try{const s=await ay(o);n(o.name.replace(/\.(json|zip|canvas)$/,"")),l(s.images)}catch(s){console.error(s),alert("")}}}}const fy="CanvasProjectDB",ja="autosaves",qu=20,dy=5*60*1e3,hy=(e,t)=>{const n=L.useRef(null);L.useEffect(()=>{const r=indexedDB.open(fy,1);r.onupgradeneeded=a=>{const i=a.target.result;i.objectStoreNames.contains(ja)||i.createObjectStore(ja,{keyPath:"key"})},r.onsuccess=a=>{n.current=a.target.result,console.log("AutoSave DB Connected")}},[]),L.useEffect(()=>{if(!t)return;const a=setInterval(()=>{if(!n.current)return;const i=Date.now(),l={key:`autosave_${t}_${i}`,uuid:t,timestamp:i,data:JSON.parse(JSON.stringify(e))},c=n.current.transaction([ja],"readwrite").objectStore(ja);c.add(l);const p=c.getAllKeys();p.onsuccess=()=>{const g=p.result.filter(m=>m.includes(t)).sort();if(g.length>qu){const m=g.slice(0,g.length-qu);m.forEach(x=>c.delete(x)),console.log(`AutoSave: Cleaned ${m.length} old versions.`)}},console.log("AutoSave: Snapshot taken at",new Date().toLocaleTimeString())},dy);return()=>clearInterval(a)},[e,t])},Mr=async e=>{try{const t=await fetch(e);if(!t.ok)throw new Error(`Fetch failed: ${t.statusText}`);const n=await t.blob();return new Promise((r,a)=>{const i=new FileReader;i.onloadend=()=>r(i.result),i.onerror=a,i.readAsDataURL(n)})}catch(t){return console.error(" urlToBase64 failed for:",e,t),null}};function py(){const{projectId:e}=Ym(),t=Ns(),n=L.useRef(null);L.useRef(new Set),L.useEffect(()=>{console.log("Current Project ID:",e)},[e]);const r=oy(),a=ly(),i=cy(),[o,l]=L.useState(!1),[s,c]=L.useState("Synced"),[p,d]=L.useState(!1),[g,m]=L.useState(()=>{try{const P=localStorage.getItem("editor_api_config");if(P){const j=JSON.parse(P);return j.profiles?(j.profiles=j.profiles.map(O=>O.apiKey&&O._encoded?{...O,apiKey:atob(O.apiKey),_encoded:void 0}:O),j):(j.apiKey&&j._encoded&&(j.apiKey=atob(j.apiKey)),{activeId:"default",profiles:[{id:"default",name:"Default Profile",model:j.model||"gemini/gemini-2.5-flash-image",apiKey:j.apiKey||"",baseUrl:j.baseUrl||"",contextLimit:j.contextLimit||10}]})}}catch(P){console.warn("Failed to load API config",P)}return{activeId:"default",profiles:[{id:"default",name:"Default Profile",model:"gemini/gemini-2.5-flash-image",apiKey:"",baseUrl:"",contextLimit:10}]}});L.useEffect(()=>{try{const P={activeId:g.activeId,profiles:g.profiles.map(j=>{const O={...j};return O.apiKey&&(O.apiKey=btoa(O.apiKey),O._encoded=!0),O})};localStorage.setItem("editor_api_config",JSON.stringify(P))}catch(P){console.error("Failed to save API config",P)}},[g]);const[x]=L.useState(()=>crypto.randomUUID()),v=L.useRef(null),E=L.useRef(a.setChatMessages);L.useEffect(()=>{E.current=a.setChatMessages},[a.setChatMessages]);const f=L.useRef(a.activeSessionSources);L.useEffect(()=>{f.current=a.activeSessionSources},[a.activeSessionSources]),L.useEffect(()=>{try{const P=new URL(je);P.protocol=P.protocol==="https:"?"wss:":"ws:",P.pathname=`/ws/${x}`,console.log(" Connecting to WebSocket:",P.toString());const j=new WebSocket(P.toString());return v.current=j,j.onopen=()=>console.log(" WebSocket Connected"),j.onmessage=O=>{try{const B=JSON.parse(O.data);if(console.log(" WS Message:",B),B.type==="complete"){const{data:I}=B.data,H=I==null?void 0:I.content,T=I==null?void 0:I.images;H&&E.current(M=>[...M,{role:"assistant",type:"card",text:H,sourceIds:f.current}]),T&&Array.isArray(T)&&T.forEach(M=>{E.current(ne=>[...ne,{role:"assistant",type:"card",image:M,sourceIds:f.current}])})}else B.type==="error"&&E.current(I=>[...I,{role:"assistant",type:"card",text:`Error: ${B.data.message}`}])}catch(B){console.error("WS Message Error",B)}},()=>{}}catch(P){console.error("Invalid API_BASE_URL",P)}},[x]),L.useEffect(()=>{e&&(console.log(":",e),fetch(`${je}/api/projects/${e}`).then(P=>P.json()).then(async P=>{if(P.status==="success"&&P.project){const j=P.project;if(j.layers){const O=j.layers.map(B=>B.type==="image"&&B.src&&!B.src.startsWith("http")&&!B.src.startsWith("data:")?{...B,src:`${je}/files/${e}/${B.src}`}:B);r.setImages(O)}if(j.name&&i.setFileName(j.name),j.workflowRef)if(j.workflowRef==="AI ")console.log(" Skipping fetch for virtual workflow: AI ");else try{const O=await fetch(`${je}/api/workflows/${j.workflowRef}`);if(O.ok){const I={...await O.json(),id:j.workflowRef,name:j.workflowRef};a.setWorkflows(H=>H.some(T=>T.id===I.id)?H:[...H,I]),a.setActiveWorkflowId(I.id),console.log(` Loaded referenced workflow: ${j.workflowRef}`)}}catch(O){console.error("Failed to load referenced workflow:",O)}l(!0)}}).catch(P=>console.error(":",P)))},[e]);const h=()=>{const P=`${je}/files/${e}/`,j=r.images.map(B=>B.type==="image"&&B.src&&B.src.startsWith(P)?{...B,src:B.src.replace(P,"")}:B),O=a.workflows.find(B=>B.id===a.activeWorkflowId);return{layers:j,name:i.fileName,canvas:{width:1080,height:1080},workflowRef:O?O.name:null}},w=async()=>{if(!e||!o)return;c("Saving");const P=h();try{await fetch(`${je}/api/projects/save`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:e,data:P})}),c("Synced"),console.log(" Auto-saved to server")}catch(j){console.error("Auto-save failed",j),c("Error")}};L.useEffect(()=>{if(!o)return;c("Unsaved");const P=setTimeout(()=>{w()},3e3);return()=>clearTimeout(P)},[r.images,i.fileName,a.activeWorkflowId,e,o]);const S=()=>{const P=h(),j=JSON.stringify(P,null,2),O=new Blob([j],{type:"application/json"}),B=URL.createObjectURL(O),I=document.createElement("a");I.href=B,I.download=`${i.fileName||"project"}.json`,document.body.appendChild(I),I.click(),document.body.removeChild(I),URL.revokeObjectURL(B)},_=async()=>{e&&(await w(),window.location.href=`${je}/api/projects/${e}/export`)},A=async P=>{if(!P){console.error("Failed to load project: data is empty or invalid");return}const O=(Array.isArray(P)?P:P.layers||P.images||[]).map(B=>B.type==="image"&&B.src&&!B.src.startsWith("http")&&!B.src.startsWith("data:")?{...B,src:`${je}/files/${e}/${B.src}`}:B);if(r.updateImages(O),P.workflowRef){let B=a.workflows.find(I=>I.id===P.workflowRef);if(!B)try{const I=await fetch(`${je}/api/workflows/${P.workflowRef}`);if(I.ok){const T={...await I.json(),id:P.workflowRef,name:P.workflowRef};a.setWorkflows(M=>M.some(ne=>ne.id===T.id)?M:[...M,T]),B=T}}catch(I){console.error(I)}B&&a.setActiveWorkflowId(P.workflowRef)}},F=a.workflows.find(P=>P.id===a.activeWorkflowId);hy({images:r.images,workflows:a.workflows,fileName:i.fileName},i.projectUuid);const W=L.useCallback(P=>{let j=P.name;j.toLowerCase().endsWith(".json")||(j+=".json");const O=j,B={...P,id:O,name:j};a.setWorkflows(I=>{const H=I.findIndex(T=>T.id===O);if(H!==-1){const T=[...I];return T[H]=B,T}else return[...I,B]}),a.setActiveWorkflowId(O);try{const I=typeof P.json=="string"?JSON.parse(P.json):P.json;fetch(`${je}/api/workflows`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:j,content:I})}).then(H=>{H.ok&&console.log(" [] ")})}catch(I){console.error("",I)}},[a]),D=async(P,j,O="input")=>{if(!e)return null;const B=new FormData;B.append("file",P,j),B.append("project_id",String(e)),B.append("type",O);try{const H=await(await fetch(`${je}/upload`,{method:"POST",body:B})).json();return H.status==="success"?H.file.url:null}catch(I){return console.error("Upload asset error:",I),null}},b=async(P,j="")=>{const{image:O,mask:B,prompt:I}=a.currentBindings;let H=Object.values(a.currentBindings||{}).map(T=>T==null?void 0:T.id).filter(Boolean);if(H.length===0&&a.activeSessionSources.length>0&&(H=a.activeSessionSources),P==="comfy"){const T=a.workflows.find(M=>M.id===a.activeWorkflowId);if(!T)return;try{const M={};for(const Z of T.mappings||[]){const pe=Z.slot_name==="base_image"?"image":Z.slot_name,ue=a.currentBindings[pe];if(ue){let ae=ue.text||ue.src;ue.type==="image"&&ue.src&&(ae=await Mr(ue.src)),M[Z.node_id]||(M[Z.node_id]={}),M[Z.node_id][Z.field_name]=ae}}const J=await(await fetch(`${je}/api/run`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({workflow:JSON.parse(T.json),inputs:M,output_nodes:T.outputNodes,project_id:e})})).json();if(J.status==="success"&&J.data&&J.data.length>0){const Z=O||r.images[0]||{x:100,y:100,width:512,height:512},pe=[];for(const[ue,ae]of J.data.entries()){const me=typeof ae=="object"&&ae!==null,Ee=me?ae.type:"image",ke=me?ae.value:ae,be=Z.x+Z.width+50+ue*(Z.width+20),Be=Z.y;if(Ee==="image"){let y=ke;if(typeof y=="string"&&(y.startsWith("data:image")||y.startsWith("blob:")))try{const R=await(await fetch(y)).blob(),N=await D(R,`gen_${Date.now()}_${ue}.png`,"generation");N&&(y=N)}catch(Y){console.error("Failed to upload generated image",Y)}else typeof y=="string"&&!y.startsWith("http")&&(y=`${je}${y}`);const X={id:`result_img_${Date.now()}_${ue}`,sourceIds:H,type:"image",x:be,y:Be,width:Z.width,height:Z.height,src:y,opacity:1,isLocked:!1,isGenerated:!0};pe.push(X)}else if(Ee==="text"){const y={id:`result_text_${Date.now()}_${ue}`,sourceIds:H,type:"text",x:be,y:Be,width:800,height:400,text:String(ke),fontSize:24,fill:"#000000",isLocked:!1,align:"left",isGenerated:!0};pe.push(y)}}r.updateImages([...r.images,...pe])}else alert(`: ${J.message||""}`)}catch(M){console.error("Workflow execution failed:",M),alert("")}}else if(P==="api"){H.length>0&&a.setActiveSessionSources(H);const T=j||(I?I.text:"");if(!T)return;const M={role:"user",type:"card",text:T,image:O?O.src:null,sourceIds:H};a.setChatMessages(y=>[...y,M]);const ne=g.profiles.find(y=>y.id===g.activeId)||g.profiles[0],J=(y,X)=>X?[{type:"text",text:y||" "},{type:"image_url",image_url:{url:X}}]:y,Z=ne.contextLimit||10,pe=a.chatMessages.slice(-Z),ue=await Promise.all(pe.map(async y=>{let X=null;return y.image&&y.role==="user"&&(X=y.image.startsWith("data:")?y.image:await Mr(y.image)),{role:y.role,content:J(y.text,X)}}));let ae=null;if(O&&O.src)ae=await Mr(O.src);else{const y=[...a.chatMessages].reverse().find(X=>X.image);y&&y.image&&(console.log(" Auto-attaching context image:",y.image),ae=await Mr(y.image))}ue.push({role:"user",content:J(T,ae)});let me=null;if(B&&B.src)try{me=await Mr(B.src)}catch(y){console.error("Failed to load current mask",y)}const Ee=ne.model.toLowerCase().includes("image")||ne.model.toLowerCase().includes("dall-e"),be={protocol:Ee?"litellm_image":"litellm",model:ne.model,api_key:ne.apiKey,project_id:e};ne.baseUrl&&ne.baseUrl.trim()&&(be.base_url=ne.baseUrl.trim()),Ee?(be.prompt=T,ae&&(be.image=ae),me&&(be.mask=me)):be.messages=ue;const Be={task_id:crypto.randomUUID(),task_type:"external_api",client_id:x,payload:be};fetch(`${je}/task/submit`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Be)}).catch(y=>{console.error("API Submit Failed",y),a.setChatMessages(X=>[...X,{role:"assistant",type:"card",text:": "}])})}},K=async P=>{const j=P.target.files[0];if(!j)return;console.log(` Uploading ${j.name} to Project: ${e}`);const O=await D(j,j.name,"input");if(O){console.log(" Upload success:",O);const B={id:`img_${Date.now()}`,type:"image",name:j.name,src:O,x:(window.innerWidth/2-r.offset.x)/r.zoom-600,y:(window.innerHeight/2-r.offset.y)/r.zoom-600,width:1200,height:1200,rotation:0,opacity:1,isLocked:!1};r.updateImages([...r.images,B]),r.setSelectedId(B.id)}else alert("");n.current&&(n.current.value="")},C=async P=>{if(!P)return;if(P.id){r.updateImages([...r.images,P]);return}const j=`drop_${Date.now()}`;let O=null;if(P.type==="image"){let B=P.content;if(P.file){const I=await D(P.file,P.file.name,"input");I?B=I:B=URL.createObjectURL(P.file)}else if(typeof B=="string"&&(B.startsWith("data:image")||B.startsWith("blob:")))try{const H=await(await fetch(B)).blob(),T=await D(H,`drop_${Date.now()}.png`,"input");T&&(B=T)}catch(I){console.error("Drop upload failed",I)}O={id:j,type:"image",x:P.x-600,y:P.y-600,width:1200,height:1200,src:B,sourceIds:P.sourceIds||[],opacity:1,isLocked:!1,isGenerated:!1}}else P.type==="text"&&(O={id:j,type:"text",x:P.x,y:P.y,width:800,height:400,text:P.content,fontSize:32,fill:"#000000",sourceIds:P.sourceIds||[],isLocked:!1,align:"left"});O&&(r.updateImages([...r.images,O]),r.setSelectedId(j))},$=(P,j)=>{if(P==="image"){if(typeof j=="string"&&j.startsWith("http")){const O={id:crypto.randomUUID(),type:"image",name:"Uploaded Image",src:j,x:100-r.offset.x,y:100-r.offset.y,width:1200,height:1200,rotation:0,opacity:1,isLocked:!1};r.updateImages([...r.images,O]),r.setSelectedId(O.id);return}n.current&&n.current.click();return}if(P==="text"){const O={id:`text_${Date.now()}`,type:"text",name:"Text",x:(window.innerWidth/2-r.offset.x)/r.zoom-400,y:(window.innerHeight/2-r.offset.y)/r.zoom-200,width:800,height:100,text:"",fontSize:32,fill:"#000000",isLocked:!1,align:"left"};r.updateImages([...r.images,O]),r.setSelectedId(O.id);return}r.handleAddObject(P,n)},k=(P,j)=>{var O,B;if(P==="composite_selected"){const I=Array.isArray(r.selectedId)?r.selectedId:[r.selectedId];if(I.length!==2)return;const H=r.images.find(Z=>Z.id===I[0]),T=r.images.find(Z=>Z.id===I[1]);if(!H||!T)return;let M=H,ne=T;(O=H.name)!=null&&O.toLowerCase().includes("mask")||H.type==="frame"?(ne=H,M=T):((B=T.name)!=null&&B.toLowerCase().includes("mask")||T.type,ne=T,M=H),(async()=>{try{const Z=y=>new Promise((X,Y)=>{const R=new Image;R.crossOrigin="Anonymous",R.onload=()=>X(R),R.onerror=Y,R.src=y}),[pe,ue]=await Promise.all([Z(M.src),Z(ne.src||ne.fill)]),ae=document.createElement("canvas");ae.width=pe.naturalWidth,ae.height=pe.naturalHeight;const me=ae.getContext("2d");me.drawImage(pe,0,0);const Ee=me.getImageData(0,0,ae.width,ae.height),ke=document.createElement("canvas");ke.width=ae.width,ke.height=ae.height;const be=ke.getContext("2d");be.drawImage(ue,0,0,ae.width,ae.height);const Be=be.getImageData(0,0,ae.width,ae.height);for(let y=0;y<Ee.data.length;y+=4)Ee.data[y+3]=Be.data[y];me.putImageData(Ee,0,0),ae.toBlob(async y=>{const X=await D(y,`comp_${Date.now()}.png`,"generation");if(X){const Y={id:`comp_${Date.now()}`,type:"image",name:"Composite",src:X,x:M.x+M.width+50,y:M.y,width:M.width,height:M.height,isLocked:!1};r.setImages(R=>[...R,Y])}})}catch(Z){console.error("Composition failed",Z),alert("")}})();return}if(P==="create_mask_layer"){const I=r.images.find(H=>H.id===j);if(I){const H={id:`mask_frame_${Date.now()}`,type:"frame",name:"Mask_Layer",x:I.x,y:I.y,width:I.width,height:I.height,fill:"rgba(0, 0, 0, 0.5)",stroke:"#00FF00",isLocked:!1};r.setImages(T=>[...T,H]),r.setSelectedId(H.id),r.setActiveTool("draw"),r.setDrawSettings(T=>({...T,stroke:"#FFFFFF",strokeWidth:20,opacity:1}))}return}if(P==="create_canvas_from_image"){const I=r.images.find(H=>H.id===j);if(I){const H=I.naturalWidth||I.width,T=I.naturalHeight||I.height,ne={id:`frame_${Date.now()}`,type:"frame",name:"Canvas",x:I.x+I.width+50,y:I.y,width:H,height:T,rotation:0,fill:"#ffffff",stroke:"#4b5563",isLocked:!1},J={...I,id:`img_copy_${Date.now()}`,x:ne.x,y:ne.y,width:H,height:T,contentWidth:H,contentHeight:T,contentX:0,contentY:0,isLocked:!1};r.setImages(Z=>[...Z,ne,J])}return}if(P==="rembg"){const I=r.images.find(H=>H.id===j);if(!I||!I.src)return;console.log(` Starting RemBg for image: ${j}`),fetch(`${je}/api/rembg`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({image:I.src,project_id:e,model:"u2net"})}).then(H=>H.json()).then(async H=>{if(H.status==="success"){console.log(" RemBg success:",H.image);let T=H.image;if(H.image.startsWith("data:")||H.image.startsWith("blob:"))try{const J=await(await fetch(H.image)).blob(),Z=await D(J,`rembg_${Date.now()}.png`,"generation");Z&&(T=Z)}catch(ne){console.error("Rembg upload failed",ne)}const M={...I,id:`rembg_${Date.now()}`,src:T,x:I.x+I.width+50,name:(I.name||"Image")+"_NoBG",isGenerated:!0};r.setImages(ne=>[...ne,M]),r.setSelectedId(M.id)}else alert(": "+(H.message||""))}).catch(H=>console.error("RemBg error:",H));return}if(P==="save_local"){const I=r.images.find(H=>H.id===j);I&&I.src&&fetch(I.src).then(H=>H.blob()).then(H=>{const T=window.URL.createObjectURL(H),M=document.createElement("a");M.href=T,M.download=`image_${j}_${Date.now()}.png`,document.body.appendChild(M),M.click(),window.URL.revokeObjectURL(T),document.body.removeChild(M)}).catch(H=>console.error("Download failed",H));return}if(P.startsWith("bind_")){const I=P.replace("bind_",""),H=r.images.find(T=>T.id===j);H&&a.activeWorkflowId&&a.setAllBindings(T=>({...T,[a.activeWorkflowId]:{...T[a.activeWorkflowId]||{},[I]:H}}));return}r.handleLayerAction(P,j,a.activeWorkflowId,a.setAllBindings,D)};return u.createElement("div",{className:"flex h-screen w-screen overflow-hidden bg-gray-50 text-gray-900 font-sans"},p&&u.createElement(jg,{onClose:()=>d(!1)}),u.createElement("input",{type:"file",ref:n,onChange:K,className:"hidden",accept:"image/*"}),u.createElement("input",{type:"file",ref:i.fileInputRef,className:"hidden",accept:".json,image/*"}),u.createElement(Cg,{activeTool:r.activeTool,onToolSelect:r.setActiveTool,onAddObject:$}),u.createElement("div",{className:"flex-1 flex flex-col min-w-0"},u.createElement(Ng,{fileName:i.fileName,setFileName:i.setFileName,canUndo:r.canUndo,canRedo:r.canRedo,onUndo:()=>{const P=r.undo();P&&r.setImages(P)},onRedo:()=>{const P=r.redo();P&&r.setImages(P)},onSaveStructure:S,onPackProject:_,onBack:()=>t("/"),saveStatus:s,onShowHelp:()=>d(!0),onOpen:async P=>{if(P&&P.name&&P.name.toLowerCase().endsWith(".json"))try{const j=await P.text(),O=JSON.parse(j);A(O)}catch(j){console.error("Error reading project file:",j),alert("Failed to read project file")}else i.handleOpenProject(P,A)}}),u.createElement("div",{className:"flex-1 flex overflow-hidden relative"},u.createElement(Hg,{viewMode:r.viewMode,onViewModeChange:r.setViewMode}),u.createElement(Ug,{images:r.images,setImages:r.setImages,selectedId:r.selectedId,onSelect:r.setSelectedId,activeTool:r.activeTool,zoom:r.zoom,setZoom:r.setZoom,offset:r.offset,setOffset:r.setOffset,drawSettings:r.drawSettings,setDrawSettings:r.setDrawSettings,viewMode:r.viewMode,onSplineComplete:r.handleSplineComplete,onDrawComplete:r.handleDrawComplete,onLayerAction:k,bindings:a.currentBindings,activeWorkflow:F,onDropObject:C,onHistoryRecord:P=>r.takeSnapshot(P||r.images)}),u.createElement(Pg,{workflows:a.workflows,activeWorkflowId:a.activeWorkflowId,bindings:a.currentBindings,onSwitchWorkflow:a.setActiveWorkflowId,onAddWorkflow:W,onDeleteWorkflow:a.handleDeleteWorkflow,onClearBinding:a.handleClearBinding,onExecute:b,chatMessages:a.chatMessages,onNewChat:a.handleNewChat,apiConfig:g,onApiConfigChange:m}))))}function my(){return u.createElement(P0,null,u.createElement(l0,null,u.createElement(zl,{path:"/",element:u.createElement(O0,null)}),u.createElement(zl,{path:"/project/:projectId",element:u.createElement(py,null)})))}Fo.createRoot(document.getElementById("root")).render(u.createElement(u.StrictMode,null,u.createElement(my,null)));
